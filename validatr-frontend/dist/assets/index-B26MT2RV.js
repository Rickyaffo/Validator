var Sw=Object.defineProperty;var Aw=(n,t,e)=>t in n?Sw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ft=(n,t,e)=>Aw(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();var _p={exports:{}},lc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function ww(){if(Xv)return lc;Xv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return lc.Fragment=t,lc.jsx=e,lc.jsxs=e,lc}var Kv;function Rw(){return Kv||(Kv=1,_p.exports=ww()),_p.exports}var tt=Rw(),yp={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function Cw(){if(Wv)return wt;Wv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.iterator;function b(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function I(O,H,et){this.props=O,this.context=H,this.refs=C,this.updater=et||x}I.prototype.isReactComponent={},I.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},I.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function U(){}U.prototype=I.prototype;function B(O,H,et){this.props=O,this.context=H,this.refs=C,this.updater=et||x}var K=B.prototype=new U;K.constructor=B,A(K,I.prototype),K.isPureReactComponent=!0;var Z=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},rt=Object.prototype.hasOwnProperty;function M(O,H,et,nt,gt,pt){return et=pt.ref,{$$typeof:n,type:O,key:H,ref:et!==void 0?et:null,props:pt}}function w(O,H){return M(O.type,H,void 0,void 0,void 0,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function P(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(et){return H[et]})}var L=/\/+/g;function V(O,H){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):H.toString(36)}function k(){}function Bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(k,k):(O.status="pending",O.then(function(H){O.status==="pending"&&(O.status="fulfilled",O.value=H)},function(H){O.status==="pending"&&(O.status="rejected",O.reason=H)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function vt(O,H,et,nt,gt){var pt=typeof O;(pt==="undefined"||pt==="boolean")&&(O=null);var dt=!1;if(O===null)dt=!0;else switch(pt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(O.$$typeof){case n:case t:dt=!0;break;case _:return dt=O._init,vt(dt(O._payload),H,et,nt,gt)}}if(dt)return gt=gt(O),dt=nt===""?"."+V(O,0):nt,Z(gt)?(et="",dt!=null&&(et=dt.replace(L,"$&/")+"/"),vt(gt,H,et,"",function(_n){return _n})):gt!=null&&(D(gt)&&(gt=w(gt,et+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(L,"$&/")+"/")+dt)),H.push(gt)),1;dt=0;var qt=nt===""?".":nt+":";if(Z(O))for(var Gt=0;Gt<O.length;Gt++)nt=O[Gt],pt=qt+V(nt,Gt),dt+=vt(nt,H,et,pt,gt);else if(Gt=b(O),typeof Gt=="function")for(O=Gt.call(O),Gt=0;!(nt=O.next()).done;)nt=nt.value,pt=qt+V(nt,Gt++),dt+=vt(nt,H,et,pt,gt);else if(pt==="object"){if(typeof O.then=="function")return vt(Bt(O),H,et,nt,gt);throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return dt}function $(O,H,et){if(O==null)return O;var nt=[],gt=0;return vt(O,nt,"","",function(pt){return H.call(et,pt,gt++)}),nt}function X(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(et){(O._status===0||O._status===-1)&&(O._status=1,O._result=et)},function(et){(O._status===0||O._status===-1)&&(O._status=2,O._result=et)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var lt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ct(){}return wt.Children={map:$,forEach:function(O,H,et){$(O,function(){H.apply(this,arguments)},et)},count:function(O){var H=0;return $(O,function(){H++}),H},toArray:function(O){return $(O,function(H){return H})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},wt.Component=I,wt.Fragment=e,wt.Profiler=r,wt.PureComponent=B,wt.StrictMode=i,wt.Suspense=f,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,wt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return G.H.useMemoCache(O)}},wt.cache=function(O){return function(){return O.apply(null,arguments)}},wt.cloneElement=function(O,H,et){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var nt=A({},O.props),gt=O.key,pt=void 0;if(H!=null)for(dt in H.ref!==void 0&&(pt=void 0),H.key!==void 0&&(gt=""+H.key),H)!rt.call(H,dt)||dt==="key"||dt==="__self"||dt==="__source"||dt==="ref"&&H.ref===void 0||(nt[dt]=H[dt]);var dt=arguments.length-2;if(dt===1)nt.children=et;else if(1<dt){for(var qt=Array(dt),Gt=0;Gt<dt;Gt++)qt[Gt]=arguments[Gt+2];nt.children=qt}return M(O.type,gt,void 0,void 0,pt,nt)},wt.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},wt.createElement=function(O,H,et){var nt,gt={},pt=null;if(H!=null)for(nt in H.key!==void 0&&(pt=""+H.key),H)rt.call(H,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(gt[nt]=H[nt]);var dt=arguments.length-2;if(dt===1)gt.children=et;else if(1<dt){for(var qt=Array(dt),Gt=0;Gt<dt;Gt++)qt[Gt]=arguments[Gt+2];gt.children=qt}if(O&&O.defaultProps)for(nt in dt=O.defaultProps,dt)gt[nt]===void 0&&(gt[nt]=dt[nt]);return M(O,pt,void 0,void 0,null,gt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(O){return{$$typeof:h,render:O}},wt.isValidElement=D,wt.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:X}},wt.memo=function(O,H){return{$$typeof:g,type:O,compare:H===void 0?null:H}},wt.startTransition=function(O){var H=G.T,et={};G.T=et;try{var nt=O(),gt=G.S;gt!==null&&gt(et,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(ct,lt)}catch(pt){lt(pt)}finally{G.T=H}},wt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},wt.use=function(O){return G.H.use(O)},wt.useActionState=function(O,H,et){return G.H.useActionState(O,H,et)},wt.useCallback=function(O,H){return G.H.useCallback(O,H)},wt.useContext=function(O){return G.H.useContext(O)},wt.useDebugValue=function(){},wt.useDeferredValue=function(O,H){return G.H.useDeferredValue(O,H)},wt.useEffect=function(O,H,et){var nt=G.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return nt.useEffect(O,H)},wt.useId=function(){return G.H.useId()},wt.useImperativeHandle=function(O,H,et){return G.H.useImperativeHandle(O,H,et)},wt.useInsertionEffect=function(O,H){return G.H.useInsertionEffect(O,H)},wt.useLayoutEffect=function(O,H){return G.H.useLayoutEffect(O,H)},wt.useMemo=function(O,H){return G.H.useMemo(O,H)},wt.useOptimistic=function(O,H){return G.H.useOptimistic(O,H)},wt.useReducer=function(O,H,et){return G.H.useReducer(O,H,et)},wt.useRef=function(O){return G.H.useRef(O)},wt.useState=function(O){return G.H.useState(O)},wt.useSyncExternalStore=function(O,H,et){return G.H.useSyncExternalStore(O,H,et)},wt.useTransition=function(){return G.H.useTransition()},wt.version="19.1.0",wt}var $v;function Nm(){return $v||($v=1,yp.exports=Cw()),yp.exports}var se=Nm(),vp={exports:{}},cc={},bp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function Iw(){return Qv||(Qv=1,function(n){function t($,X){var lt=$.length;$.push(X);t:for(;0<lt;){var ct=lt-1>>>1,O=$[ct];if(0<r(O,X))$[ct]=X,$[lt]=O,lt=ct;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var X=$[0],lt=$.pop();if(lt!==X){$[0]=lt;t:for(var ct=0,O=$.length,H=O>>>1;ct<H;){var et=2*(ct+1)-1,nt=$[et],gt=et+1,pt=$[gt];if(0>r(nt,lt))gt<O&&0>r(pt,nt)?($[ct]=pt,$[gt]=lt,ct=gt):($[ct]=nt,$[et]=lt,ct=et);else if(gt<O&&0>r(pt,lt))$[ct]=pt,$[gt]=lt,ct=gt;else break t}}return X}function r($,X){var lt=$.sortIndex-X.sortIndex;return lt!==0?lt:$.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,y=null,b=3,x=!1,A=!1,C=!1,I=!1,U=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z($){for(var X=e(g);X!==null;){if(X.callback===null)i(g);else if(X.startTime<=$)i(g),X.sortIndex=X.expirationTime,t(f,X);else break;X=e(g)}}function G($){if(C=!1,Z($),!A)if(e(f)!==null)A=!0,rt||(rt=!0,V());else{var X=e(g);X!==null&&vt(G,X.startTime-$)}}var rt=!1,M=-1,w=5,D=-1;function P(){return I?!0:!(n.unstable_now()-D<w)}function L(){if(I=!1,rt){var $=n.unstable_now();D=$;var X=!0;try{t:{A=!1,C&&(C=!1,B(M),M=-1),x=!0;var lt=b;try{e:{for(Z($),y=e(f);y!==null&&!(y.expirationTime>$&&P());){var ct=y.callback;if(typeof ct=="function"){y.callback=null,b=y.priorityLevel;var O=ct(y.expirationTime<=$);if($=n.unstable_now(),typeof O=="function"){y.callback=O,Z($),X=!0;break e}y===e(f)&&i(f),Z($)}else i(f);y=e(f)}if(y!==null)X=!0;else{var H=e(g);H!==null&&vt(G,H.startTime-$),X=!1}}break t}finally{y=null,b=lt,x=!1}X=void 0}}finally{X?V():rt=!1}}}var V;if(typeof K=="function")V=function(){K(L)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Bt=k.port2;k.port1.onmessage=L,V=function(){Bt.postMessage(null)}}else V=function(){U(L,0)};function vt($,X){M=U(function(){$(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var lt=b;b=X;try{return $()}finally{b=lt}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var lt=b;b=$;try{return X()}finally{b=lt}},n.unstable_scheduleCallback=function($,X,lt){var ct=n.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?ct+lt:ct):lt=ct,$){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=lt+O,$={id:_++,callback:X,priorityLevel:$,startTime:lt,expirationTime:O,sortIndex:-1},lt>ct?($.sortIndex=lt,t(g,$),e(f)===null&&$===e(g)&&(C?(B(M),M=-1):C=!0,vt(G,lt-ct))):($.sortIndex=O,t(f,$),A||x||(A=!0,rt||(rt=!0,V()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var X=b;return function(){var lt=b;b=X;try{return $.apply(this,arguments)}finally{b=lt}}}}(Ep)),Ep}var Zv;function Dw(){return Zv||(Zv=1,bp.exports=Iw()),bp.exports}var Tp={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function Ow(){if(Jv)return ln;Jv=1;var n=Nm();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:f,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},ln.flushSync=function(f){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=_,i.d.f()}},ln.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},ln.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ln.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,y=h(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):_==="script"&&i.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ln.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},ln.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,y=h(_,g.crossOrigin);i.d.L(f,_,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ln.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},ln.requestFormReset=function(f){i.d.r(f)},ln.unstable_batchedUpdates=function(f,g){return f(g)},ln.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.1.0",ln}var tb;function Mw(){if(tb)return Tp.exports;tb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Tp.exports=Ow(),Tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function kw(){if(eb)return cc;eb=1;var n=Dw(),t=Nm(),e=Mw();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var p=l.return;if(p===null)break;var m=p.alternate;if(m===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===l)return h(p),s;if(m===u)return h(p),a;m=m.sibling}throw Error(i(188))}if(l.return!==u.return)l=p,u=m;else{for(var T=!1,S=p.child;S;){if(S===l){T=!0,l=p,u=m;break}if(S===u){T=!0,u=p,l=m;break}S=S.sibling}if(!T){for(S=m.child;S;){if(S===l){T=!0,l=m,u=p;break}if(S===u){T=!0,u=m,l=p;break}S=S.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function g(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=g(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),rt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=L&&s[L]||s["@@iterator"],typeof s=="function"?s:null)}var k=Symbol.for("react.client.reference");function Bt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===k?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case G:return"Suspense";case rt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case x:return"Portal";case K:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case Z:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Bt(s.type)||"Memo";case w:a=s._payload,s=s._init;try{return Bt(s(a))}catch{}}return null}var vt=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},ct=[],O=-1;function H(s){return{current:s}}function et(s){0>O||(s.current=ct[O],ct[O]=null,O--)}function nt(s,a){O++,ct[O]=s.current,s.current=a}var gt=H(null),pt=H(null),dt=H(null),qt=H(null);function Gt(s,a){switch(nt(dt,a),nt(pt,s),nt(gt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Ev(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Ev(a),s=Tv(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(gt),nt(gt,s)}function _n(){et(gt),et(pt),et(dt)}function Ke(s){s.memoizedState!==null&&nt(qt,s);var a=gt.current,l=Tv(a,s.type);a!==l&&(nt(pt,s),nt(gt,l))}function Hn(s){pt.current===s&&(et(gt),et(pt)),qt.current===s&&(et(qt),ic._currentValue=lt)}var _i=Object.prototype.hasOwnProperty,yi=n.unstable_scheduleCallback,Xt=n.unstable_cancelCallback,ge=n.unstable_shouldYield,Dr=n.unstable_requestPaint,Fn=n.unstable_now,_d=n.unstable_getCurrentPriorityLevel,el=n.unstable_ImmediatePriority,ja=n.unstable_UserBlockingPriority,Or=n.unstable_NormalPriority,yd=n.unstable_LowPriority,Ha=n.unstable_IdlePriority,nl=n.log,gu=n.unstable_setDisableYieldValue,me=null,Wt=null;function Dn(s){if(typeof nl=="function"&&gu(s),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(me,s)}catch{}}var an=Math.clz32?Math.clz32:Mr,pu=Math.log,vd=Math.LN2;function Mr(s){return s>>>=0,s===0?32:31-(pu(s)/vd|0)|0}var kr=256,Nr=4194304;function ii(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Fa(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var p=0,m=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?p=ii(u):(T&=S,T!==0?p=ii(T):l||(l=S&~s,l!==0&&(p=ii(l))))):(S=u&~m,S!==0?p=ii(S):T!==0?p=ii(T):l||(l=u&~s,l!==0&&(p=ii(l)))),p===0?0:a!==0&&a!==p&&(a&m)===0&&(m=p&-p,l=a&-a,m>=l||m===32&&(l&4194048)!==0)?a:p}function Pr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function il(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sl(){var s=kr;return kr<<=1,(kr&4194048)===0&&(kr=256),s}function rl(){var s=Nr;return Nr<<=1,(Nr&62914560)===0&&(Nr=4194304),s}function Xi(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Ki(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function al(s,a,l,u,p,m){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,N=s.expirationTimes,Y=s.hiddenUpdates;for(l=T&~l;0<l;){var it=31-an(l),at=1<<it;S[it]=0,N[it]=-1;var W=Y[it];if(W!==null)for(Y[it]=null,it=0;it<W.length;it++){var Q=W[it];Q!==null&&(Q.lane&=-536870913)}l&=~at}u!==0&&vi(s,u,0),m!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=m&~(T&~a))}function vi(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-an(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function ol(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-an(l),p=1<<u;p&a|s[u]&a&&(s[u]|=a),l&=~p}}function Ms(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function qa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ks(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:jv(s.type))}function mu(s,a){var l=X.p;try{return X.p=s,a()}finally{X.p=l}}var ce=Math.random().toString(36).slice(2),ke="__reactFiber$"+ce,Ae="__reactProps$"+ce,qn="__reactContainer$"+ce,ll="__reactEvents$"+ce,bd="__reactListeners$"+ce,Ns="__reactHandles$"+ce,_u="__reactResources$"+ce,Lr="__reactMarker$"+ce;function Ps(s){delete s[ke],delete s[Ae],delete s[ll],delete s[bd],delete s[Ns]}function Wi(s){var a=s[ke];if(a)return a;for(var l=s.parentNode;l;){if(a=l[qn]||l[ke]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=wv(s);s!==null;){if(l=s[ke])return l;s=wv(s)}return a}s=l,l=s.parentNode}return null}function bi(s){if(s=s[ke]||s[qn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ei(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function yn(s){var a=s[_u];return a||(a=s[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ee(s){s[Lr]=!0}var cl=new Set,Ga={};function si(s,a){$i(s,a),$i(s+"Capture",a)}function $i(s,a){for(Ga[s]=a,s=0;s<a.length;s++)cl.add(a[s])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},Vr={};function bu(s){return _i.call(Vr,s)?!0:_i.call(vu,s)?!1:yu.test(s)?Vr[s]=!0:(vu[s]=!0,!1)}function Ls(s,a,l){if(bu(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Ti(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function We(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Ur,Eu;function Qi(s){if(Ur===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ur=a&&a[1]||"",Eu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+s+Eu}var Ya=!1;function Xa(s,a){if(!s||Ya)return"";Ya=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Q){var W=Q}Reflect.construct(s,[],at)}else{try{at.call()}catch(Q){W=Q}s.call(at.prototype)}}else{try{throw Error()}catch(Q){W=Q}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Q){if(Q&&W&&typeof Q.stack=="string")return[Q.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),T=m[0],S=m[1];if(T&&S){var N=T.split(`
`),Y=S.split(`
`);for(p=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Y.length&&!Y[p].includes("DetermineComponentFrameRoot");)p++;if(u===N.length||p===Y.length)for(u=N.length-1,p=Y.length-1;1<=u&&0<=p&&N[u]!==Y[p];)p--;for(;1<=u&&0<=p;u--,p--)if(N[u]!==Y[p]){if(u!==1||p!==1)do if(u--,p--,0>p||N[u]!==Y[p]){var it=`
`+N[u].replace(" at new "," at ");return s.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",s.displayName)),it}while(1<=u&&0<=p);break}}}finally{Ya=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Qi(l):""}function ul(s){switch(s.tag){case 26:case 27:case 5:return Qi(s.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Xa(s.type,!1);case 11:return Xa(s.type.render,!1);case 1:return Xa(s.type,!0);case 31:return Qi("Activity");default:return""}}function Ka(s){try{var a="";do a+=ul(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function vn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ed(s){var a=hl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,m=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){u=""+T,m.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Wa(s){s._valueTracker||(s._valueTracker=Ed(s))}function fl(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=hl(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function zr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Td=/[\n"\\]/g;function we(s){return s.replace(Td,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function On(s,a,l,u,p,m,T,S){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+vn(a)):s.value!==""+vn(a)&&(s.value=""+vn(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?Vs(s,T,vn(a)):l!=null?Vs(s,T,vn(l)):u!=null&&s.removeAttribute("value"),p==null&&m!=null&&(s.defaultChecked=!!m),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+vn(S):s.removeAttribute("name")}function Br(s,a,l,u,p,m,T,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(s.type=m),a!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;l=l!=null?""+vn(l):"",a=a!=null?""+vn(a):l,S||a===s.value||(s.value=a),s.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function Vs(s,a,l){a==="number"&&zr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Zi(s,a,l,u){if(s=s.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<s.length;l++)p=a.hasOwnProperty("$"+s[l].value),s[l].selected!==p&&(s[l].selected=p),p&&u&&(s[l].defaultSelected=!0)}else{for(l=""+vn(l),a=null,p=0;p<s.length;p++){if(s[p].value===l){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}a!==null||s[p].disabled||(a=s[p])}a!==null&&(a.selected=!0)}}function Jt(s,a,l){if(a!=null&&(a=""+vn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+vn(l):""}function jr(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(vt(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=vn(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function Gn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tu(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Hr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function dl(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&l[p]!==u&&Tu(s,p,u)}else for(var m in a)a.hasOwnProperty(m)&&Tu(s,m,a[m])}function gl(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $a(s){return Sd.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ji=null;function Yn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ts=null,es=null;function pl(s){var a=bi(s);if(a&&(s=a.stateNode)){var l=s[Ae]||null;t:switch(s=a.stateNode,a.type){case"input":if(On(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+we(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var p=u[Ae]||null;if(!p)throw Error(i(90));On(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&fl(u)}break t;case"textarea":Jt(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&Zi(s,!!l.multiple,a,!1)}}}var xi=!1;function xu(s,a,l){if(xi)return s(a,l);xi=!0;try{var u=s(a);return u}finally{if(xi=!1,(ts!==null||es!==null)&&(mh(),ts&&(a=ts,s=es,es=ts=null,pl(a),s)))for(a=0;a<s.length;a++)pl(s[a])}}function Fr(s,a){var l=s.stateNode;if(l===null)return null;var u=l[Ae]||null;if(u===null)return null;l=u[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(ri)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Xn=!1}var Si=null,Us=null,ns=null;function ml(){if(ns)return ns;var s,a=Us,l=a.length,u,p="value"in Si?Si.value:Si.textContent,m=p.length;for(s=0;s<l&&a[s]===p[s];s++);var T=l-s;for(u=1;u<=T&&a[l-u]===p[m-u];u++);return ns=p.slice(s,1<u?1-u:void 0)}function Ai(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function wi(){return!0}function _l(){return!1}function ze(s){function a(l,u,p,m,T){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=m,this.target=T,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wi:_l,this.isPropagationStopped=_l,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=wi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=wi)},persist:function(){},isPersistent:wi}),a}var Kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=ze(Kt),Gr=_({},Kt,{view:0,detail:0}),Su=ze(Gr),Za,Ja,Ri,Yr=_({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ri&&(Ri&&s.type==="mousemove"?(Za=s.screenX-Ri.screenX,Ja=s.screenY-Ri.screenY):Ja=Za=0,Ri=s),Za)},movementY:function(s){return"movementY"in s?s.movementY:Ja}}),Kn=ze(Yr),Au=_({},Yr,{dataTransfer:0}),Ad=ze(Au),Xr=_({},Gr,{relatedTarget:0}),to=ze(Xr),yl=_({},Kt,{animationName:0,elapsedTime:0,pseudoElement:0}),eo=ze(yl),wu=_({},Kt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),no=ze(wu),wd=_({},Kt,{data:0}),vl=ze(wd),Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bl(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Cu[s])?!!a[s]:!1}function Wr(){return bl}var Iu=_({},Gr,{key:function(s){if(s.key){var a=Kr[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ai(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ru[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(s){return s.type==="keypress"?Ai(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ai(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),io=ze(Iu),Du=_({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),El=ze(Du),is=_({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Ou=ze(is),Mu=_({},Kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=ze(Mu),Nu=_({},Yr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),so=ze(Nu),bn=_({},Kt,{newState:0,oldState:0}),Pu=ze(bn),Lu=[9,13,27,32],Ci=ri&&"CompositionEvent"in window,d=null;ri&&"documentMode"in document&&(d=document.documentMode);var v=ri&&"TextEvent"in window&&!d,E=ri&&(!Ci||d&&8<d&&11>=d),R=" ",F=!1;function J(s,a){switch(s){case"keyup":return Lu.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ht(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Lt=!1;function Ne(s,a){switch(s){case"compositionend":return ht(a);case"keypress":return a.which!==32?null:(F=!0,R);case"textInput":return s=a.data,s===R&&F?null:s;default:return null}}function Vt(s,a){if(Lt)return s==="compositionend"||!Ci&&J(s,a)?(s=ml(),ns=Us=Si=null,Lt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Be[s.type]:a==="textarea"}function ss(s,a,l,u){ts?es?es.push(u):es=[u]:ts=u,a=Th(a,"onChange"),0<a.length&&(l=new Qa("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var $e=null,Ii=null;function Tl(s){mv(s,0)}function Vu(s){var a=Ei(s);if(fl(a))return s}function V_(s,a){if(s==="change")return a}var U_=!1;if(ri){var Rd;if(ri){var Cd="oninput"in document;if(!Cd){var z_=document.createElement("div");z_.setAttribute("oninput","return;"),Cd=typeof z_.oninput=="function"}Rd=Cd}else Rd=!1;U_=Rd&&(!document.documentMode||9<document.documentMode)}function B_(){$e&&($e.detachEvent("onpropertychange",j_),Ii=$e=null)}function j_(s){if(s.propertyName==="value"&&Vu(Ii)){var a=[];ss(a,Ii,s,Yn(s)),xu(Tl,a)}}function tA(s,a,l){s==="focusin"?(B_(),$e=a,Ii=l,$e.attachEvent("onpropertychange",j_)):s==="focusout"&&B_()}function eA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Vu(Ii)}function nA(s,a){if(s==="click")return Vu(a)}function iA(s,a){if(s==="input"||s==="change")return Vu(a)}function sA(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Mn=typeof Object.is=="function"?Object.is:sA;function xl(s,a){if(Mn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!_i.call(a,p)||!Mn(s[p],a[p]))return!1}return!0}function H_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function F_(s,a){var l=H_(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=H_(l)}}function q_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?q_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function G_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=zr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=zr(s.document)}return a}function Id(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var rA=ri&&"documentMode"in document&&11>=document.documentMode,ro=null,Dd=null,Sl=null,Od=!1;function Y_(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Od||ro==null||ro!==zr(u)||(u=ro,"selectionStart"in u&&Id(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Sl&&xl(Sl,u)||(Sl=u,u=Th(Dd,"onSelect"),0<u.length&&(a=new Qa("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=ro)))}function $r(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var ao={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Md={},X_={};ri&&(X_=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Qr(s){if(Md[s])return Md[s];if(!ao[s])return s;var a=ao[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in X_)return Md[s]=a[l];return s}var K_=Qr("animationend"),W_=Qr("animationiteration"),$_=Qr("animationstart"),aA=Qr("transitionrun"),oA=Qr("transitionstart"),lA=Qr("transitioncancel"),Q_=Qr("transitionend"),Z_=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function ai(s,a){Z_.set(s,a),si(a,[s])}var J_=new WeakMap;function Wn(s,a){if(typeof s=="object"&&s!==null){var l=J_.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Ka(a)},J_.set(s,a),a)}return{value:s,source:a,stack:Ka(a)}}var $n=[],oo=0,Nd=0;function Uu(){for(var s=oo,a=Nd=oo=0;a<s;){var l=$n[a];$n[a++]=null;var u=$n[a];$n[a++]=null;var p=$n[a];$n[a++]=null;var m=$n[a];if($n[a++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}m!==0&&ty(l,p,m)}}function zu(s,a,l,u){$n[oo++]=s,$n[oo++]=a,$n[oo++]=l,$n[oo++]=u,Nd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Pd(s,a,l,u){return zu(s,a,l,u),Bu(s)}function lo(s,a){return zu(s,null,null,a),Bu(s)}function ty(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var p=!1,m=s.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(s=m.stateNode,s===null||s._visibility&1||(p=!0)),s=m,m=m.return;return s.tag===3?(m=s.stateNode,p&&a!==null&&(p=31-an(l),s=m.hiddenUpdates,u=s[p],u===null?s[p]=[a]:u.push(a),a.lane=l|536870912),m):null}function Bu(s){if(50<Wl)throw Wl=0,jg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var co={};function cA(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(s,a,l,u){return new cA(s,a,l,u)}function Ld(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rs(s,a){var l=s.alternate;return l===null?(l=kn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ey(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ju(s,a,l,u,p,m){var T=0;if(u=s,typeof s=="function")Ld(s)&&(T=1);else if(typeof s=="string")T=hw(s,l,gt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=kn(31,l,a,p),s.elementType=D,s.lanes=m,s;case A:return Zr(l.children,p,m,a);case C:T=8,p|=24;break;case I:return s=kn(12,l,a,p|2),s.elementType=I,s.lanes=m,s;case G:return s=kn(13,l,a,p),s.elementType=G,s.lanes=m,s;case rt:return s=kn(19,l,a,p),s.elementType=rt,s.lanes=m,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case U:case K:T=10;break t;case B:T=9;break t;case Z:T=11;break t;case M:T=14;break t;case w:T=16,u=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=kn(T,l,a,p),a.elementType=s,a.type=u,a.lanes=m,a}function Zr(s,a,l,u){return s=kn(7,s,u,a),s.lanes=l,s}function Vd(s,a,l){return s=kn(6,s,null,a),s.lanes=l,s}function Ud(s,a,l){return a=kn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var uo=[],ho=0,Hu=null,Fu=0,Qn=[],Zn=0,Jr=null,as=1,os="";function ta(s,a){uo[ho++]=Fu,uo[ho++]=Hu,Hu=s,Fu=a}function ny(s,a,l){Qn[Zn++]=as,Qn[Zn++]=os,Qn[Zn++]=Jr,Jr=s;var u=as;s=os;var p=32-an(u)-1;u&=~(1<<p),l+=1;var m=32-an(a)+p;if(30<m){var T=p-p%5;m=(u&(1<<T)-1).toString(32),u>>=T,p-=T,as=1<<32-an(a)+p|l<<p|u,os=m+s}else as=1<<m|l<<p|u,os=s}function zd(s){s.return!==null&&(ta(s,1),ny(s,1,0))}function Bd(s){for(;s===Hu;)Hu=uo[--ho],uo[ho]=null,Fu=uo[--ho],uo[ho]=null;for(;s===Jr;)Jr=Qn[--Zn],Qn[Zn]=null,os=Qn[--Zn],Qn[Zn]=null,as=Qn[--Zn],Qn[Zn]=null}var En=null,_e=null,Yt=!1,ea=null,Di=!1,jd=Error(i(519));function na(s){var a=Error(i(418,""));throw Rl(Wn(a,s)),jd}function iy(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[ke]=s,a[Ae]=u,l){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Mt(Ql[l],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),Br(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Wa(a);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),jr(a,u.value,u.defaultValue,u.children),Wa(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||bv(a.textContent,l)?(u.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),u.onScroll!=null&&Mt("scroll",a),u.onScrollEnd!=null&&Mt("scrollend",a),u.onClick!=null&&(a.onclick=xh),a=!0):a=!1,a||na(s)}function sy(s){for(En=s.return;En;)switch(En.tag){case 5:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:En=En.return}}function Al(s){if(s!==En)return!1;if(!Yt)return sy(s),Yt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||ip(s.type,s.memoizedProps)),l=!l),l&&_e&&na(s),sy(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){_e=li(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}_e=null}}else a===27?(a=_e,tr(s.type)?(s=op,op=null,_e=s):_e=a):_e=En?li(s.stateNode.nextSibling):null;return!0}function wl(){_e=En=null,Yt=!1}function ry(){var s=ea;return s!==null&&(An===null?An=s:An.push.apply(An,s),ea=null),s}function Rl(s){ea===null?ea=[s]:ea.push(s)}var Hd=H(null),ia=null,ls=null;function zs(s,a,l){nt(Hd,a._currentValue),a._currentValue=l}function cs(s){s._currentValue=Hd.current,et(Hd)}function Fd(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function qd(s,a,l,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var m=p.dependencies;if(m!==null){var T=p.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=p;for(var N=0;N<a.length;N++)if(S.context===a[N]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),Fd(m.return,l,s),u||(T=null);break t}m=S.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(i(341));T.lanes|=l,m=T.alternate,m!==null&&(m.lanes|=l),Fd(T,l,s),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===s){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Cl(s,a,l,u){s=null;for(var p=a,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=p.type;Mn(p.pendingProps.value,T.value)||(s!==null?s.push(S):s=[S])}}else if(p===qt.current){if(T=p.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(ic):s=[ic])}p=p.return}s!==null&&qd(a,s,l,u),a.flags|=262144}function qu(s){for(s=s.firstContext;s!==null;){if(!Mn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function sa(s){ia=s,ls=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function on(s){return ay(ia,s)}function Gu(s,a){return ia===null&&sa(s),ay(s,a)}function ay(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ls===null){if(s===null)throw Error(i(308));ls=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ls=ls.next=a;return l}var uA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},hA=n.unstable_scheduleCallback,fA=n.unstable_NormalPriority,Le={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new uA,data:new Map,refCount:0}}function Il(s){s.refCount--,s.refCount===0&&hA(fA,function(){s.controller.abort()})}var Dl=null,Yd=0,fo=0,go=null;function dA(s,a){if(Dl===null){var l=Dl=[];Yd=0,fo=Kg(),go={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Yd++,a.then(oy,oy),a}function oy(){if(--Yd===0&&Dl!==null){go!==null&&(go.status="fulfilled");var s=Dl;Dl=null,fo=0,go=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function gA(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var ly=$.S;$.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&dA(s,a),ly!==null&&ly(s,a)};var ra=H(null);function Xd(){var s=ra.current;return s!==null?s:re.pooledCache}function Yu(s,a){a===null?nt(ra,ra.current):nt(ra,a.pool)}function cy(){var s=Xd();return s===null?null:{parent:Le._currentValue,pool:s}}var Ol=Error(i(460)),uy=Error(i(474)),Xu=Error(i(542)),Kd={then:function(){}};function hy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ku(){}function fy(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ku,Ku),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,gy(s),s;default:if(typeof a.status=="string")a.then(Ku,Ku);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,gy(s),s}throw Ml=a,Ol}}var Ml=null;function dy(){if(Ml===null)throw Error(i(459));var s=Ml;return Ml=null,s}function gy(s){if(s===Ol||s===Xu)throw Error(i(483))}var Bs=!1;function Wd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function js(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Hs(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,($t&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=Bu(s),ty(s,null,l),a}return zu(s,u,a,l),Bu(s)}function kl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ol(s,l)}}function Qd(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?p=m=T:m=m.next=T,l=l.next}while(l!==null);m===null?p=m=a:m=m.next=a}else p=m=a;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Zd=!1;function Nl(){if(Zd){var s=go;if(s!==null)throw s}}function Pl(s,a,l,u){Zd=!1;var p=s.updateQueue;Bs=!1;var m=p.firstBaseUpdate,T=p.lastBaseUpdate,S=p.shared.pending;if(S!==null){p.shared.pending=null;var N=S,Y=N.next;N.next=null,T===null?m=Y:T.next=Y,T=N;var it=s.alternate;it!==null&&(it=it.updateQueue,S=it.lastBaseUpdate,S!==T&&(S===null?it.firstBaseUpdate=Y:S.next=Y,it.lastBaseUpdate=N))}if(m!==null){var at=p.baseState;T=0,it=Y=N=null,S=m;do{var W=S.lane&-536870913,Q=W!==S.lane;if(Q?(Ut&W)===W:(u&W)===W){W!==0&&W===fo&&(Zd=!0),it!==null&&(it=it.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var xt=s,bt=S;W=a;var ne=l;switch(bt.tag){case 1:if(xt=bt.payload,typeof xt=="function"){at=xt.call(ne,at,W);break t}at=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=bt.payload,W=typeof xt=="function"?xt.call(ne,at,W):xt,W==null)break t;at=_({},at,W);break t;case 2:Bs=!0}}W=S.callback,W!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=p.callbacks,Q===null?p.callbacks=[W]:Q.push(W))}else Q={lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},it===null?(Y=it=Q,N=at):it=it.next=Q,T|=W;if(S=S.next,S===null){if(S=p.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,p.lastBaseUpdate=Q,p.shared.pending=null}}while(!0);it===null&&(N=at),p.baseState=N,p.firstBaseUpdate=Y,p.lastBaseUpdate=it,m===null&&(p.shared.lanes=0),$s|=T,s.lanes=T,s.memoizedState=at}}function py(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function my(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)py(l[s],a)}var po=H(null),Wu=H(0);function _y(s,a){s=ms,nt(Wu,s),nt(po,a),ms=s|a.baseLanes}function Jd(){nt(Wu,ms),nt(po,po.current)}function tg(){ms=Wu.current,et(po),et(Wu)}var Fs=0,Rt=null,te=null,Re=null,$u=!1,mo=!1,aa=!1,Qu=0,Ll=0,_o=null,pA=0;function Te(){throw Error(i(321))}function eg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Mn(s[l],a[l]))return!1;return!0}function ng(s,a,l,u,p,m){return Fs=m,Rt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=s===null||s.memoizedState===null?t0:e0,aa=!1,m=l(u,p),aa=!1,mo&&(m=vy(a,l,u,p)),yy(s),m}function yy(s){$.H=ih;var a=te!==null&&te.next!==null;if(Fs=0,Re=te=Rt=null,$u=!1,Ll=0,_o=null,a)throw Error(i(300));s===null||je||(s=s.dependencies,s!==null&&qu(s)&&(je=!0))}function vy(s,a,l,u){Rt=s;var p=0;do{if(mo&&(_o=null),Ll=0,mo=!1,25<=p)throw Error(i(301));if(p+=1,Re=te=null,s.updateQueue!=null){var m=s.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}$.H=TA,m=a(l,u)}while(mo);return m}function mA(){var s=$.H,a=s.useState()[0];return a=typeof a.then=="function"?Vl(a):a,s=s.useState()[0],(te!==null?te.memoizedState:null)!==s&&(Rt.flags|=1024),a}function ig(){var s=Qu!==0;return Qu=0,s}function sg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function rg(s){if($u){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}$u=!1}Fs=0,Re=te=Rt=null,mo=!1,Ll=Qu=0,_o=null}function xn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=s:Re=Re.next=s,Re}function Ce(){if(te===null){var s=Rt.alternate;s=s!==null?s.memoizedState:null}else s=te.next;var a=Re===null?Rt.memoizedState:Re.next;if(a!==null)Re=a,te=s;else{if(s===null)throw Rt.alternate===null?Error(i(467)):Error(i(310));te=s,s={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Rt.memoizedState=Re=s:Re=Re.next=s}return Re}function ag(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(s){var a=Ll;return Ll+=1,_o===null&&(_o=[]),s=fy(_o,s,a),a=Rt,(Re===null?a.memoizedState:Re.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?t0:e0),s}function Zu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Vl(s);if(s.$$typeof===K)return on(s)}throw Error(i(438,String(s)))}function og(s){var a=null,l=Rt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Rt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ag(),Rt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=P;return a.index++,l}function us(s,a){return typeof a=="function"?a(s):a}function Ju(s){var a=Ce();return lg(a,te,s)}function lg(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var p=s.baseQueue,m=u.pending;if(m!==null){if(p!==null){var T=p.next;p.next=m.next,m.next=T}a.baseQueue=p=m,u.pending=null}if(m=s.baseState,p===null)s.memoizedState=m;else{a=p.next;var S=T=null,N=null,Y=a,it=!1;do{var at=Y.lane&-536870913;if(at!==Y.lane?(Ut&at)===at:(Fs&at)===at){var W=Y.revertLane;if(W===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),at===fo&&(it=!0);else if((Fs&W)===W){Y=Y.next,W===fo&&(it=!0);continue}else at={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(S=N=at,T=m):N=N.next=at,Rt.lanes|=W,$s|=W;at=Y.action,aa&&l(m,at),m=Y.hasEagerState?Y.eagerState:l(m,at)}else W={lane:at,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},N===null?(S=N=W,T=m):N=N.next=W,Rt.lanes|=at,$s|=at;Y=Y.next}while(Y!==null&&Y!==a);if(N===null?T=m:N.next=S,!Mn(m,s.memoizedState)&&(je=!0,it&&(l=go,l!==null)))throw l;s.memoizedState=m,s.baseState=T,s.baseQueue=N,u.lastRenderedState=m}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function cg(s){var a=Ce(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,p=l.pending,m=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do m=s(m,T.action),T=T.next;while(T!==p);Mn(m,a.memoizedState)||(je=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),l.lastRenderedState=m}return[m,u]}function by(s,a,l){var u=Rt,p=Ce(),m=Yt;if(m){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!Mn((te||p).memoizedState,l);T&&(p.memoizedState=l,je=!0),p=p.queue;var S=xy.bind(null,u,p,s);if(Ul(2048,8,S,[s]),p.getSnapshot!==a||T||Re!==null&&Re.memoizedState.tag&1){if(u.flags|=2048,yo(9,th(),Ty.bind(null,u,p,l,a),null),re===null)throw Error(i(349));m||(Fs&124)!==0||Ey(u,a,l)}return l}function Ey(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Rt.updateQueue,a===null?(a=ag(),Rt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function Ty(s,a,l,u){a.value=l,a.getSnapshot=u,Sy(a)&&Ay(s)}function xy(s,a,l){return l(function(){Sy(a)&&Ay(s)})}function Sy(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Mn(s,l)}catch{return!0}}function Ay(s){var a=lo(s,2);a!==null&&Un(a,s,2)}function ug(s){var a=xn();if(typeof s=="function"){var l=s;if(s=l(),aa){Dn(!0);try{l()}finally{Dn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},a}function wy(s,a,l,u){return s.baseState=l,lg(s,te,typeof u=="function"?u:us)}function _A(s,a,l,u,p){if(nh(s))throw Error(i(485));if(s=a.action,s!==null){var m={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){m.listeners.push(T)}};$.T!==null?l(!0):m.isTransition=!1,u(m),l=a.pending,l===null?(m.next=a.pending=m,Ry(a,m)):(m.next=l.next,a.pending=l.next=m)}}function Ry(s,a){var l=a.action,u=a.payload,p=s.state;if(a.isTransition){var m=$.T,T={};$.T=T;try{var S=l(p,u),N=$.S;N!==null&&N(T,S),Cy(s,a,S)}catch(Y){hg(s,a,Y)}finally{$.T=m}}else try{m=l(p,u),Cy(s,a,m)}catch(Y){hg(s,a,Y)}}function Cy(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Iy(s,a,u)},function(u){return hg(s,a,u)}):Iy(s,a,l)}function Iy(s,a,l){a.status="fulfilled",a.value=l,Dy(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,Ry(s,l)))}function hg(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Dy(a),a=a.next;while(a!==u)}s.action=null}function Dy(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Oy(s,a){return a}function My(s,a){if(Yt){var l=re.formState;if(l!==null){t:{var u=Rt;if(Yt){if(_e){e:{for(var p=_e,m=Di;p.nodeType!==8;){if(!m){p=null;break e}if(p=li(p.nextSibling),p===null){p=null;break e}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){_e=li(p.nextSibling),u=p.data==="F!";break t}}na(u)}u=!1}u&&(a=l[0])}}return l=xn(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:a},l.queue=u,l=Qy.bind(null,Rt,u),u.dispatch=l,u=ug(!1),m=mg.bind(null,Rt,!1,u.queue),u=xn(),p={state:a,dispatch:null,action:s,pending:null},u.queue=p,l=_A.bind(null,Rt,p,m,l),p.dispatch=l,u.memoizedState=s,[a,l,!1]}function ky(s){var a=Ce();return Ny(a,te,s)}function Ny(s,a,l){if(a=lg(s,a,Oy)[0],s=Ju(us)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Vl(a)}catch(T){throw T===Ol?Xu:T}else u=a;a=Ce();var p=a.queue,m=p.dispatch;return l!==a.memoizedState&&(Rt.flags|=2048,yo(9,th(),yA.bind(null,p,l),null)),[u,m,s]}function yA(s,a){s.action=a}function Py(s){var a=Ce(),l=te;if(l!==null)return Ny(a,l,s);Ce(),a=a.memoizedState,l=Ce();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function yo(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Rt.updateQueue,a===null&&(a=ag(),Rt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function th(){return{destroy:void 0,resource:void 0}}function Ly(){return Ce().memoizedState}function eh(s,a,l,u){var p=xn();u=u===void 0?null:u,Rt.flags|=s,p.memoizedState=yo(1|a,th(),l,u)}function Ul(s,a,l,u){var p=Ce();u=u===void 0?null:u;var m=p.memoizedState.inst;te!==null&&u!==null&&eg(u,te.memoizedState.deps)?p.memoizedState=yo(a,m,l,u):(Rt.flags|=s,p.memoizedState=yo(1|a,m,l,u))}function Vy(s,a){eh(8390656,8,s,a)}function Uy(s,a){Ul(2048,8,s,a)}function zy(s,a){return Ul(4,2,s,a)}function By(s,a){return Ul(4,4,s,a)}function jy(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Hy(s,a,l){l=l!=null?l.concat([s]):null,Ul(4,4,jy.bind(null,a,s),l)}function fg(){}function Fy(s,a){var l=Ce();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&eg(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function qy(s,a){var l=Ce();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&eg(a,u[1]))return u[0];if(u=s(),aa){Dn(!0);try{s()}finally{Dn(!1)}}return l.memoizedState=[u,a],u}function dg(s,a,l){return l===void 0||(Fs&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=X0(),Rt.lanes|=s,$s|=s,l)}function Gy(s,a,l,u){return Mn(l,a)?l:po.current!==null?(s=dg(s,l,u),Mn(s,a)||(je=!0),s):(Fs&42)===0?(je=!0,s.memoizedState=l):(s=X0(),Rt.lanes|=s,$s|=s,a)}function Yy(s,a,l,u,p){var m=X.p;X.p=m!==0&&8>m?m:8;var T=$.T,S={};$.T=S,mg(s,!1,a,l);try{var N=p(),Y=$.S;if(Y!==null&&Y(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var it=gA(N,u);zl(s,a,it,Vn(s))}else zl(s,a,u,Vn(s))}catch(at){zl(s,a,{then:function(){},status:"rejected",reason:at},Vn())}finally{X.p=m,$.T=T}}function vA(){}function gg(s,a,l,u){if(s.tag!==5)throw Error(i(476));var p=Xy(s).queue;Yy(s,p,a,lt,l===null?vA:function(){return Ky(s),l(u)})}function Xy(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:lt},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Ky(s){var a=Xy(s).next.queue;zl(s,a,{},Vn())}function pg(){return on(ic)}function Wy(){return Ce().memoizedState}function $y(){return Ce().memoizedState}function bA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Vn();s=js(l);var u=Hs(a,s,l);u!==null&&(Un(u,a,l),kl(u,a,l)),a={cache:Gd()},s.payload=a;return}a=a.return}}function EA(s,a,l){var u=Vn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},nh(s)?Zy(a,l):(l=Pd(s,a,l,u),l!==null&&(Un(l,s,u),Jy(l,a,u)))}function Qy(s,a,l){var u=Vn();zl(s,a,l,u)}function zl(s,a,l,u){var p={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(nh(s))Zy(a,p);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var T=a.lastRenderedState,S=m(T,l);if(p.hasEagerState=!0,p.eagerState=S,Mn(S,T))return zu(s,a,p,0),re===null&&Uu(),!1}catch{}finally{}if(l=Pd(s,a,p,u),l!==null)return Un(l,s,u),Jy(l,a,u),!0}return!1}function mg(s,a,l,u){if(u={lane:2,revertLane:Kg(),action:u,hasEagerState:!1,eagerState:null,next:null},nh(s)){if(a)throw Error(i(479))}else a=Pd(s,l,u,2),a!==null&&Un(a,s,2)}function nh(s){var a=s.alternate;return s===Rt||a!==null&&a===Rt}function Zy(s,a){mo=$u=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Jy(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,ol(s,l)}}var ih={readContext:on,use:Zu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te},t0={readContext:on,use:Zu,useCallback:function(s,a){return xn().memoizedState=[s,a===void 0?null:a],s},useContext:on,useEffect:Vy,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,eh(4194308,4,jy.bind(null,a,s),l)},useLayoutEffect:function(s,a){return eh(4194308,4,s,a)},useInsertionEffect:function(s,a){eh(4,2,s,a)},useMemo:function(s,a){var l=xn();a=a===void 0?null:a;var u=s();if(aa){Dn(!0);try{s()}finally{Dn(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=xn();if(l!==void 0){var p=l(a);if(aa){Dn(!0);try{l(a)}finally{Dn(!1)}}}else p=a;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=EA.bind(null,Rt,s),[u.memoizedState,s]},useRef:function(s){var a=xn();return s={current:s},a.memoizedState=s},useState:function(s){s=ug(s);var a=s.queue,l=Qy.bind(null,Rt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:fg,useDeferredValue:function(s,a){var l=xn();return dg(l,s,a)},useTransition:function(){var s=ug(!1);return s=Yy.bind(null,Rt,s.queue,!0,!1),xn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Rt,p=xn();if(Yt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),re===null)throw Error(i(349));(Ut&124)!==0||Ey(u,a,l)}p.memoizedState=l;var m={value:l,getSnapshot:a};return p.queue=m,Vy(xy.bind(null,u,m,s),[s]),u.flags|=2048,yo(9,th(),Ty.bind(null,u,m,l,a),null),l},useId:function(){var s=xn(),a=re.identifierPrefix;if(Yt){var l=os,u=as;l=(u&~(1<<32-an(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=Qu++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=pA++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:pg,useFormState:My,useActionState:My,useOptimistic:function(s){var a=xn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=mg.bind(null,Rt,!0,l),l.dispatch=a,[s,a]},useMemoCache:og,useCacheRefresh:function(){return xn().memoizedState=bA.bind(null,Rt)}},e0={readContext:on,use:Zu,useCallback:Fy,useContext:on,useEffect:Uy,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:By,useMemo:qy,useReducer:Ju,useRef:Ly,useState:function(){return Ju(us)},useDebugValue:fg,useDeferredValue:function(s,a){var l=Ce();return Gy(l,te.memoizedState,s,a)},useTransition:function(){var s=Ju(us)[0],a=Ce().memoizedState;return[typeof s=="boolean"?s:Vl(s),a]},useSyncExternalStore:by,useId:Wy,useHostTransitionStatus:pg,useFormState:ky,useActionState:ky,useOptimistic:function(s,a){var l=Ce();return wy(l,te,s,a)},useMemoCache:og,useCacheRefresh:$y},TA={readContext:on,use:Zu,useCallback:Fy,useContext:on,useEffect:Uy,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:By,useMemo:qy,useReducer:cg,useRef:Ly,useState:function(){return cg(us)},useDebugValue:fg,useDeferredValue:function(s,a){var l=Ce();return te===null?dg(l,s,a):Gy(l,te.memoizedState,s,a)},useTransition:function(){var s=cg(us)[0],a=Ce().memoizedState;return[typeof s=="boolean"?s:Vl(s),a]},useSyncExternalStore:by,useId:Wy,useHostTransitionStatus:pg,useFormState:Py,useActionState:Py,useOptimistic:function(s,a){var l=Ce();return te!==null?wy(l,te,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:og,useCacheRefresh:$y},vo=null,Bl=0;function sh(s){var a=Bl;return Bl+=1,vo===null&&(vo=[]),fy(vo,s,a)}function jl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function rh(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function n0(s){var a=s._init;return a(s._payload)}function i0(s){function a(j,z){if(s){var q=j.deletions;q===null?(j.deletions=[z],j.flags|=16):q.push(z)}}function l(j,z){if(!s)return null;for(;z!==null;)a(j,z),z=z.sibling;return null}function u(j){for(var z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function p(j,z){return j=rs(j,z),j.index=0,j.sibling=null,j}function m(j,z,q){return j.index=q,s?(q=j.alternate,q!==null?(q=q.index,q<z?(j.flags|=67108866,z):q):(j.flags|=67108866,z)):(j.flags|=1048576,z)}function T(j){return s&&j.alternate===null&&(j.flags|=67108866),j}function S(j,z,q,st){return z===null||z.tag!==6?(z=Vd(q,j.mode,st),z.return=j,z):(z=p(z,q),z.return=j,z)}function N(j,z,q,st){var mt=q.type;return mt===A?it(j,z,q.props.children,st,q.key):z!==null&&(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&n0(mt)===z.type)?(z=p(z,q.props),jl(z,q),z.return=j,z):(z=ju(q.type,q.key,q.props,null,j.mode,st),jl(z,q),z.return=j,z)}function Y(j,z,q,st){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=Ud(q,j.mode,st),z.return=j,z):(z=p(z,q.children||[]),z.return=j,z)}function it(j,z,q,st,mt){return z===null||z.tag!==7?(z=Zr(q,j.mode,st,mt),z.return=j,z):(z=p(z,q),z.return=j,z)}function at(j,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Vd(""+z,j.mode,q),z.return=j,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case b:return q=ju(z.type,z.key,z.props,null,j.mode,q),jl(q,z),q.return=j,q;case x:return z=Ud(z,j.mode,q),z.return=j,z;case w:var st=z._init;return z=st(z._payload),at(j,z,q)}if(vt(z)||V(z))return z=Zr(z,j.mode,q,null),z.return=j,z;if(typeof z.then=="function")return at(j,sh(z),q);if(z.$$typeof===K)return at(j,Gu(j,z),q);rh(j,z)}return null}function W(j,z,q,st){var mt=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return mt!==null?null:S(j,z,""+q,st);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case b:return q.key===mt?N(j,z,q,st):null;case x:return q.key===mt?Y(j,z,q,st):null;case w:return mt=q._init,q=mt(q._payload),W(j,z,q,st)}if(vt(q)||V(q))return mt!==null?null:it(j,z,q,st,null);if(typeof q.then=="function")return W(j,z,sh(q),st);if(q.$$typeof===K)return W(j,z,Gu(j,q),st);rh(j,q)}return null}function Q(j,z,q,st,mt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return j=j.get(q)||null,S(z,j,""+st,mt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case b:return j=j.get(st.key===null?q:st.key)||null,N(z,j,st,mt);case x:return j=j.get(st.key===null?q:st.key)||null,Y(z,j,st,mt);case w:var It=st._init;return st=It(st._payload),Q(j,z,q,st,mt)}if(vt(st)||V(st))return j=j.get(q)||null,it(z,j,st,mt,null);if(typeof st.then=="function")return Q(j,z,q,sh(st),mt);if(st.$$typeof===K)return Q(j,z,q,Gu(z,st),mt);rh(z,st)}return null}function xt(j,z,q,st){for(var mt=null,It=null,yt=z,Et=z=0,Fe=null;yt!==null&&Et<q.length;Et++){yt.index>Et?(Fe=yt,yt=null):Fe=yt.sibling;var Ht=W(j,yt,q[Et],st);if(Ht===null){yt===null&&(yt=Fe);break}s&&yt&&Ht.alternate===null&&a(j,yt),z=m(Ht,z,Et),It===null?mt=Ht:It.sibling=Ht,It=Ht,yt=Fe}if(Et===q.length)return l(j,yt),Yt&&ta(j,Et),mt;if(yt===null){for(;Et<q.length;Et++)yt=at(j,q[Et],st),yt!==null&&(z=m(yt,z,Et),It===null?mt=yt:It.sibling=yt,It=yt);return Yt&&ta(j,Et),mt}for(yt=u(yt);Et<q.length;Et++)Fe=Q(yt,j,Et,q[Et],st),Fe!==null&&(s&&Fe.alternate!==null&&yt.delete(Fe.key===null?Et:Fe.key),z=m(Fe,z,Et),It===null?mt=Fe:It.sibling=Fe,It=Fe);return s&&yt.forEach(function(rr){return a(j,rr)}),Yt&&ta(j,Et),mt}function bt(j,z,q,st){if(q==null)throw Error(i(151));for(var mt=null,It=null,yt=z,Et=z=0,Fe=null,Ht=q.next();yt!==null&&!Ht.done;Et++,Ht=q.next()){yt.index>Et?(Fe=yt,yt=null):Fe=yt.sibling;var rr=W(j,yt,Ht.value,st);if(rr===null){yt===null&&(yt=Fe);break}s&&yt&&rr.alternate===null&&a(j,yt),z=m(rr,z,Et),It===null?mt=rr:It.sibling=rr,It=rr,yt=Fe}if(Ht.done)return l(j,yt),Yt&&ta(j,Et),mt;if(yt===null){for(;!Ht.done;Et++,Ht=q.next())Ht=at(j,Ht.value,st),Ht!==null&&(z=m(Ht,z,Et),It===null?mt=Ht:It.sibling=Ht,It=Ht);return Yt&&ta(j,Et),mt}for(yt=u(yt);!Ht.done;Et++,Ht=q.next())Ht=Q(yt,j,Et,Ht.value,st),Ht!==null&&(s&&Ht.alternate!==null&&yt.delete(Ht.key===null?Et:Ht.key),z=m(Ht,z,Et),It===null?mt=Ht:It.sibling=Ht,It=Ht);return s&&yt.forEach(function(xw){return a(j,xw)}),Yt&&ta(j,Et),mt}function ne(j,z,q,st){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case b:t:{for(var mt=q.key;z!==null;){if(z.key===mt){if(mt=q.type,mt===A){if(z.tag===7){l(j,z.sibling),st=p(z,q.props.children),st.return=j,j=st;break t}}else if(z.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&n0(mt)===z.type){l(j,z.sibling),st=p(z,q.props),jl(st,q),st.return=j,j=st;break t}l(j,z);break}else a(j,z);z=z.sibling}q.type===A?(st=Zr(q.props.children,j.mode,st,q.key),st.return=j,j=st):(st=ju(q.type,q.key,q.props,null,j.mode,st),jl(st,q),st.return=j,j=st)}return T(j);case x:t:{for(mt=q.key;z!==null;){if(z.key===mt)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){l(j,z.sibling),st=p(z,q.children||[]),st.return=j,j=st;break t}else{l(j,z);break}else a(j,z);z=z.sibling}st=Ud(q,j.mode,st),st.return=j,j=st}return T(j);case w:return mt=q._init,q=mt(q._payload),ne(j,z,q,st)}if(vt(q))return xt(j,z,q,st);if(V(q)){if(mt=V(q),typeof mt!="function")throw Error(i(150));return q=mt.call(q),bt(j,z,q,st)}if(typeof q.then=="function")return ne(j,z,sh(q),st);if(q.$$typeof===K)return ne(j,z,Gu(j,q),st);rh(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(l(j,z.sibling),st=p(z,q),st.return=j,j=st):(l(j,z),st=Vd(q,j.mode,st),st.return=j,j=st),T(j)):l(j,z)}return function(j,z,q,st){try{Bl=0;var mt=ne(j,z,q,st);return vo=null,mt}catch(yt){if(yt===Ol||yt===Xu)throw yt;var It=kn(29,yt,null,j.mode);return It.lanes=st,It.return=j,It}finally{}}}var bo=i0(!0),s0=i0(!1),Jn=H(null),Oi=null;function qs(s){var a=s.alternate;nt(Ve,Ve.current&1),nt(Jn,s),Oi===null&&(a===null||po.current!==null||a.memoizedState!==null)&&(Oi=s)}function r0(s){if(s.tag===22){if(nt(Ve,Ve.current),nt(Jn,s),Oi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Oi=s)}}else Gs()}function Gs(){nt(Ve,Ve.current),nt(Jn,Jn.current)}function hs(s){et(Jn),Oi===s&&(Oi=null),et(Ve)}var Ve=H(0);function ah(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||ap(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function _g(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:_({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var yg={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Vn(),p=js(u);p.payload=a,l!=null&&(p.callback=l),a=Hs(s,p,u),a!==null&&(Un(a,s,u),kl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Vn(),p=js(u);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Hs(s,p,u),a!==null&&(Un(a,s,u),kl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Vn(),u=js(l);u.tag=2,a!=null&&(u.callback=a),a=Hs(s,u,l),a!==null&&(Un(a,s,l),kl(a,s,l))}};function a0(s,a,l,u,p,m,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,m,T):a.prototype&&a.prototype.isPureReactComponent?!xl(l,u)||!xl(p,m):!0}function o0(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&yg.enqueueReplaceState(a,a.state,null)}function oa(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=_({},l));for(var p in s)l[p]===void 0&&(l[p]=s[p])}return l}var oh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function l0(s){oh(s)}function c0(s){console.error(s)}function u0(s){oh(s)}function lh(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function h0(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function vg(s,a,l){return l=js(l),l.tag=3,l.payload={element:null},l.callback=function(){lh(s,a)},l}function f0(s){return s=js(s),s.tag=3,s}function d0(s,a,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var m=u.value;s.payload=function(){return p(m)},s.callback=function(){h0(a,l,u)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){h0(a,l,u),typeof p!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function xA(s,a,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Cl(a,l,p,!0),l=Jn.current,l!==null){switch(l.tag){case 13:return Oi===null?Fg():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Kd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),Gg(s,u,p)),!1;case 22:return l.flags|=65536,u===Kd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),Gg(s,u,p)),!1}throw Error(i(435,l.tag))}return Gg(s,u,p),Fg(),!1}if(Yt)return a=Jn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==jd&&(s=Error(i(422),{cause:u}),Rl(Wn(s,l)))):(u!==jd&&(a=Error(i(423),{cause:u}),Rl(Wn(a,l))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=Wn(u,l),p=vg(s.stateNode,u,p),Qd(s,p),ye!==4&&(ye=2)),!1;var m=Error(i(520),{cause:u});if(m=Wn(m,l),Kl===null?Kl=[m]:Kl.push(m),ye!==4&&(ye=2),a===null)return!0;u=Wn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=p&-p,l.lanes|=s,s=vg(l.stateNode,u,s),Qd(l,s),!1;case 1:if(a=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Qs===null||!Qs.has(m))))return l.flags|=65536,p&=-p,l.lanes|=p,p=f0(p),d0(p,s,l,u),Qd(l,p),!1}l=l.return}while(l!==null);return!1}var g0=Error(i(461)),je=!1;function Qe(s,a,l,u){a.child=s===null?s0(a,null,l,u):bo(a,s.child,l,u)}function p0(s,a,l,u,p){l=l.render;var m=a.ref;if("ref"in u){var T={};for(var S in u)S!=="ref"&&(T[S]=u[S])}else T=u;return sa(a),u=ng(s,a,l,T,m,p),S=ig(),s!==null&&!je?(sg(s,a,p),fs(s,a,p)):(Yt&&S&&zd(a),a.flags|=1,Qe(s,a,u,p),a.child)}function m0(s,a,l,u,p){if(s===null){var m=l.type;return typeof m=="function"&&!Ld(m)&&m.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=m,_0(s,a,m,u,p)):(s=ju(l.type,null,u,a,a.mode,p),s.ref=a.ref,s.return=a,a.child=s)}if(m=s.child,!Rg(s,p)){var T=m.memoizedProps;if(l=l.compare,l=l!==null?l:xl,l(T,u)&&s.ref===a.ref)return fs(s,a,p)}return a.flags|=1,s=rs(m,u),s.ref=a.ref,s.return=a,a.child=s}function _0(s,a,l,u,p){if(s!==null){var m=s.memoizedProps;if(xl(m,u)&&s.ref===a.ref)if(je=!1,a.pendingProps=u=m,Rg(s,p))(s.flags&131072)!==0&&(je=!0);else return a.lanes=s.lanes,fs(s,a,p)}return bg(s,a,l,u,p)}function y0(s,a,l){var u=a.pendingProps,p=u.children,m=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,s!==null){for(p=a.child=s.child,m=0;p!==null;)m=m|p.lanes|p.childLanes,p=p.sibling;a.childLanes=m&~u}else a.childLanes=0,a.child=null;return v0(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Yu(a,m!==null?m.cachePool:null),m!==null?_y(a,m):Jd(),r0(a);else return a.lanes=a.childLanes=536870912,v0(s,a,m!==null?m.baseLanes|l:l,l)}else m!==null?(Yu(a,m.cachePool),_y(a,m),Gs(),a.memoizedState=null):(s!==null&&Yu(a,null),Jd(),Gs());return Qe(s,a,p,l),a.child}function v0(s,a,l,u){var p=Xd();return p=p===null?null:{parent:Le._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},s!==null&&Yu(a,null),Jd(),r0(a),s!==null&&Cl(s,a,u,!0),null}function ch(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function bg(s,a,l,u,p){return sa(a),l=ng(s,a,l,u,void 0,p),u=ig(),s!==null&&!je?(sg(s,a,p),fs(s,a,p)):(Yt&&u&&zd(a),a.flags|=1,Qe(s,a,l,p),a.child)}function b0(s,a,l,u,p,m){return sa(a),a.updateQueue=null,l=vy(a,u,l,p),yy(s),u=ig(),s!==null&&!je?(sg(s,a,m),fs(s,a,m)):(Yt&&u&&zd(a),a.flags|=1,Qe(s,a,l,m),a.child)}function E0(s,a,l,u,p){if(sa(a),a.stateNode===null){var m=co,T=l.contextType;typeof T=="object"&&T!==null&&(m=on(T)),m=new l(u,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=yg,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=u,m.state=a.memoizedState,m.refs={},Wd(a),T=l.contextType,m.context=typeof T=="object"&&T!==null?on(T):co,m.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(_g(a,l,T,u),m.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(T=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),T!==m.state&&yg.enqueueReplaceState(m,m.state,null),Pl(a,u,m,p),Nl(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){m=a.stateNode;var S=a.memoizedProps,N=oa(l,S);m.props=N;var Y=m.context,it=l.contextType;T=co,typeof it=="object"&&it!==null&&(T=on(it));var at=l.getDerivedStateFromProps;it=typeof at=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,it||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||Y!==T)&&o0(a,m,u,T),Bs=!1;var W=a.memoizedState;m.state=W,Pl(a,u,m,p),Nl(),Y=a.memoizedState,S||W!==Y||Bs?(typeof at=="function"&&(_g(a,l,at,u),Y=a.memoizedState),(N=Bs||a0(a,l,N,u,W,Y,T))?(it||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),m.props=u,m.state=Y,m.context=T,u=N):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{m=a.stateNode,$d(s,a),T=a.memoizedProps,it=oa(l,T),m.props=it,at=a.pendingProps,W=m.context,Y=l.contextType,N=co,typeof Y=="object"&&Y!==null&&(N=on(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T!==at||W!==N)&&o0(a,m,u,N),Bs=!1,W=a.memoizedState,m.state=W,Pl(a,u,m,p),Nl();var Q=a.memoizedState;T!==at||W!==Q||Bs||s!==null&&s.dependencies!==null&&qu(s.dependencies)?(typeof S=="function"&&(_g(a,l,S,u),Q=a.memoizedState),(it=Bs||a0(a,l,it,u,W,Q,N)||s!==null&&s.dependencies!==null&&qu(s.dependencies))?(Y||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Q,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Q,N)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Q),m.props=u,m.state=Q,m.context=N,u=it):(typeof m.componentDidUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&W===s.memoizedState||(a.flags|=1024),u=!1)}return m=u,ch(s,a),u=(a.flags&128)!==0,m||u?(m=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,s!==null&&u?(a.child=bo(a,s.child,null,p),a.child=bo(a,null,l,p)):Qe(s,a,l,p),a.memoizedState=m.state,s=a.child):s=fs(s,a,p),s}function T0(s,a,l,u){return wl(),a.flags|=256,Qe(s,a,l,u),a.child}var Eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tg(s){return{baseLanes:s,cachePool:cy()}}function xg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=ti),s}function x0(s,a,l){var u=a.pendingProps,p=!1,m=(a.flags&128)!==0,T;if((T=m)||(T=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Yt){if(p?qs(a):Gs(),Yt){var S=_e,N;if(N=S){t:{for(N=S,S=Di;N.nodeType!==8;){if(!S){S=null;break t}if(N=li(N.nextSibling),N===null){S=null;break t}}S=N}S!==null?(a.memoizedState={dehydrated:S,treeContext:Jr!==null?{id:as,overflow:os}:null,retryLane:536870912,hydrationErrors:null},N=kn(18,null,null,0),N.stateNode=S,N.return=a,a.child=N,En=a,_e=null,N=!0):N=!1}N||na(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return ap(S)?a.lanes=32:a.lanes=536870912,null;hs(a)}return S=u.children,u=u.fallback,p?(Gs(),p=a.mode,S=uh({mode:"hidden",children:S},p),u=Zr(u,p,l,null),S.return=a,u.return=a,S.sibling=u,a.child=S,p=a.child,p.memoizedState=Tg(l),p.childLanes=xg(s,T,l),a.memoizedState=Eg,u):(qs(a),Sg(a,S))}if(N=s.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(m)a.flags&256?(qs(a),a.flags&=-257,a=Ag(s,a,l)):a.memoizedState!==null?(Gs(),a.child=s.child,a.flags|=128,a=null):(Gs(),p=u.fallback,S=a.mode,u=uh({mode:"visible",children:u.children},S),p=Zr(p,S,l,null),p.flags|=2,u.return=a,p.return=a,u.sibling=p,a.child=u,bo(a,s.child,null,l),u=a.child,u.memoizedState=Tg(l),u.childLanes=xg(s,T,l),a.memoizedState=Eg,a=p);else if(qs(a),ap(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var Y=T.dgst;T=Y,u=Error(i(419)),u.stack="",u.digest=T,Rl({value:u,source:null,stack:null}),a=Ag(s,a,l)}else if(je||Cl(s,a,l,!1),T=(l&s.childLanes)!==0,je||T){if(T=re,T!==null&&(u=l&-l,u=(u&42)!==0?1:Ms(u),u=(u&(T.suspendedLanes|l))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,lo(s,u),Un(T,s,u),g0;S.data==="$?"||Fg(),a=Ag(s,a,l)}else S.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=N.treeContext,_e=li(S.nextSibling),En=a,Yt=!0,ea=null,Di=!1,s!==null&&(Qn[Zn++]=as,Qn[Zn++]=os,Qn[Zn++]=Jr,as=s.id,os=s.overflow,Jr=a),a=Sg(a,u.children),a.flags|=4096);return a}return p?(Gs(),p=u.fallback,S=a.mode,N=s.child,Y=N.sibling,u=rs(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,Y!==null?p=rs(Y,p):(p=Zr(p,S,l,null),p.flags|=2),p.return=a,u.return=a,u.sibling=p,a.child=u,u=p,p=a.child,S=s.child.memoizedState,S===null?S=Tg(l):(N=S.cachePool,N!==null?(Y=Le._currentValue,N=N.parent!==Y?{parent:Y,pool:Y}:N):N=cy(),S={baseLanes:S.baseLanes|l,cachePool:N}),p.memoizedState=S,p.childLanes=xg(s,T,l),a.memoizedState=Eg,u):(qs(a),l=s.child,s=l.sibling,l=rs(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Sg(s,a){return a=uh({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function uh(s,a){return s=kn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ag(s,a,l){return bo(a,s.child,null,l),s=Sg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function S0(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),Fd(s.return,a,l)}function wg(s,a,l,u,p){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=p)}function A0(s,a,l){var u=a.pendingProps,p=u.revealOrder,m=u.tail;if(Qe(s,a,u.children,l),u=Ve.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&S0(s,l,a);else if(s.tag===19)S0(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(nt(Ve,u),p){case"forwards":for(l=a.child,p=null;l!==null;)s=l.alternate,s!==null&&ah(s)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),wg(a,!1,p,l,m);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(s=p.alternate,s!==null&&ah(s)===null){a.child=p;break}s=p.sibling,p.sibling=l,l=p,p=s}wg(a,!0,l,null,m);break;case"together":wg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fs(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),$s|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Cl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=rs(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=rs(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Rg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&qu(s)))}function SA(s,a,l){switch(a.tag){case 3:Gt(a,a.stateNode.containerInfo),zs(a,Le,s.memoizedState.cache),wl();break;case 27:case 5:Ke(a);break;case 4:Gt(a,a.stateNode.containerInfo);break;case 10:zs(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(qs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?x0(s,a,l):(qs(a),s=fs(s,a,l),s!==null?s.sibling:null);qs(a);break;case 19:var p=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Cl(s,a,l,!1),u=(l&a.childLanes)!==0),p){if(u)return A0(s,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),nt(Ve,Ve.current),u)break;return null;case 22:case 23:return a.lanes=0,y0(s,a,l);case 24:zs(a,Le,s.memoizedState.cache)}return fs(s,a,l)}function w0(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)je=!0;else{if(!Rg(s,l)&&(a.flags&128)===0)return je=!1,SA(s,a,l);je=(s.flags&131072)!==0}else je=!1,Yt&&(a.flags&1048576)!==0&&ny(a,Fu,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var u=a.elementType,p=u._init;if(u=p(u._payload),a.type=u,typeof u=="function")Ld(u)?(s=oa(u,s),a.tag=1,a=E0(null,a,u,s,l)):(a.tag=0,a=bg(null,a,u,s,l));else{if(u!=null){if(p=u.$$typeof,p===Z){a.tag=11,a=p0(null,a,u,s,l);break t}else if(p===M){a.tag=14,a=m0(null,a,u,s,l);break t}}throw a=Bt(u)||u,Error(i(306,a,""))}}return a;case 0:return bg(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,p=oa(u,a.pendingProps),E0(s,a,u,p,l);case 3:t:{if(Gt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var m=a.memoizedState;p=m.element,$d(s,a),Pl(a,u,null,l);var T=a.memoizedState;if(u=T.cache,zs(a,Le,u),u!==m.cache&&qd(a,[Le],l,!0),Nl(),u=T.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=T0(s,a,u,l);break t}else if(u!==p){p=Wn(Error(i(424)),a),Rl(p),a=T0(s,a,u,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_e=li(s.firstChild),En=a,Yt=!0,ea=null,Di=!0,l=s0(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wl(),u===p){a=fs(s,a,l);break t}Qe(s,a,u,l)}a=a.child}return a;case 26:return ch(s,a),s===null?(l=Dv(a.type,null,a.pendingProps,null))?a.memoizedState=l:Yt||(l=a.type,s=a.pendingProps,u=Sh(dt.current).createElement(l),u[ke]=a,u[Ae]=s,Je(u,l,s),Ee(u),a.stateNode=u):a.memoizedState=Dv(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ke(a),s===null&&Yt&&(u=a.stateNode=Rv(a.type,a.pendingProps,dt.current),En=a,Di=!0,p=_e,tr(a.type)?(op=p,_e=li(u.firstChild)):_e=p),Qe(s,a,a.pendingProps.children,l),ch(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Yt&&((p=u=_e)&&(u=ZA(u,a.type,a.pendingProps,Di),u!==null?(a.stateNode=u,En=a,_e=li(u.firstChild),Di=!1,p=!0):p=!1),p||na(a)),Ke(a),p=a.type,m=a.pendingProps,T=s!==null?s.memoizedProps:null,u=m.children,ip(p,m)?u=null:T!==null&&ip(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=ng(s,a,mA,null,null,l),ic._currentValue=p),ch(s,a),Qe(s,a,u,l),a.child;case 6:return s===null&&Yt&&((s=l=_e)&&(l=JA(l,a.pendingProps,Di),l!==null?(a.stateNode=l,En=a,_e=null,s=!0):s=!1),s||na(a)),null;case 13:return x0(s,a,l);case 4:return Gt(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=bo(a,null,u,l):Qe(s,a,u,l),a.child;case 11:return p0(s,a,a.type,a.pendingProps,l);case 7:return Qe(s,a,a.pendingProps,l),a.child;case 8:return Qe(s,a,a.pendingProps.children,l),a.child;case 12:return Qe(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,zs(a,a.type,u.value),Qe(s,a,u.children,l),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,sa(a),p=on(p),u=u(p),a.flags|=1,Qe(s,a,u,l),a.child;case 14:return m0(s,a,a.type,a.pendingProps,l);case 15:return _0(s,a,a.type,a.pendingProps,l);case 19:return A0(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=uh(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=rs(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return y0(s,a,l);case 24:return sa(a),u=on(Le),s===null?(p=Xd(),p===null&&(p=re,m=Gd(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=l),p=m),a.memoizedState={parent:u,cache:p},Wd(a),zs(a,Le,p)):((s.lanes&l)!==0&&($d(s,a),Pl(a,null,null,l),Nl()),p=s.memoizedState,m=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),zs(a,Le,u)):(u=m.cache,zs(a,Le,u),u!==p.cache&&qd(a,[Le],l,!0))),Qe(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function ds(s){s.flags|=4}function R0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Pv(a)){if(a=Jn.current,a!==null&&((Ut&4194048)===Ut?Oi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||a!==Oi))throw Ml=Kd,uy;s.flags|=8192}}function hh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?rl():536870912,s.lanes|=a,So|=a)}function Hl(s,a){if(!Yt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function pe(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function AA(s,a,l){var u=a.pendingProps;switch(Bd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(a),null;case 1:return pe(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),cs(Le),_n(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Al(a)?ds(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ry())),pe(a),null;case 26:return l=a.memoizedState,s===null?(ds(a),l!==null?(pe(a),R0(a,l)):(pe(a),a.flags&=-16777217)):l?l!==s.memoizedState?(ds(a),pe(a),R0(a,l)):(pe(a),a.flags&=-16777217):(s.memoizedProps!==u&&ds(a),pe(a),a.flags&=-16777217),null;case 27:Hn(a),l=dt.current;var p=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ds(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return pe(a),null}s=gt.current,Al(a)?iy(a):(s=Rv(p,u,l),a.stateNode=s,ds(a))}return pe(a),null;case 5:if(Hn(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ds(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return pe(a),null}if(s=gt.current,Al(a))iy(a);else{switch(p=Sh(dt.current),s){case 1:s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=p.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?p.createElement("select",{is:u.is}):p.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?p.createElement(l,{is:u.is}):p.createElement(l)}}s[ke]=a,s[Ae]=u;t:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)s.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break t;for(;p.sibling===null;){if(p.return===null||p.return===a)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=s;t:switch(Je(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&ds(a)}}return pe(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ds(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=dt.current,Al(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,p=En,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[ke]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||bv(s.nodeValue,l)),s||na(a)}else s=Sh(s).createTextNode(u),s[ke]=a,a.stateNode=s}return pe(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Al(a),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[ke]=a}else wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;pe(a),p=!1}else p=ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(hs(a),a):(hs(a),null)}if(hs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==p&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),hh(a,a.updateQueue),pe(a),null;case 4:return _n(),s===null&&Zg(a.stateNode.containerInfo),pe(a),null;case 10:return cs(a.type),pe(a),null;case 19:if(et(Ve),p=a.memoizedState,p===null)return pe(a),null;if(u=(a.flags&128)!==0,m=p.rendering,m===null)if(u)Hl(p,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(m=ah(s),m!==null){for(a.flags|=128,Hl(p,!1),s=m.updateQueue,a.updateQueue=s,hh(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)ey(l,s),l=l.sibling;return nt(Ve,Ve.current&1|2),a.child}s=s.sibling}p.tail!==null&&Fn()>gh&&(a.flags|=128,u=!0,Hl(p,!1),a.lanes=4194304)}else{if(!u)if(s=ah(m),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,hh(a,s),Hl(p,!0),p.tail===null&&p.tailMode==="hidden"&&!m.alternate&&!Yt)return pe(a),null}else 2*Fn()-p.renderingStartTime>gh&&l!==536870912&&(a.flags|=128,u=!0,Hl(p,!1),a.lanes=4194304);p.isBackwards?(m.sibling=a.child,a.child=m):(s=p.last,s!==null?s.sibling=m:a.child=m,p.last=m)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Fn(),a.sibling=null,s=Ve.current,nt(Ve,u?s&1|2:s&1),a):(pe(a),null);case 22:case 23:return hs(a),tg(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(pe(a),a.subtreeFlags&6&&(a.flags|=8192)):pe(a),l=a.updateQueue,l!==null&&hh(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&et(ra),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),cs(Le),pe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function wA(s,a){switch(Bd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return cs(Le),_n(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Hn(a),null;case 13:if(hs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));wl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(Ve),null;case 4:return _n(),null;case 10:return cs(a.type),null;case 22:case 23:return hs(a),tg(),s!==null&&et(ra),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return cs(Le),null;case 25:return null;default:return null}}function C0(s,a){switch(Bd(a),a.tag){case 3:cs(Le),_n();break;case 26:case 27:case 5:Hn(a);break;case 4:_n();break;case 13:hs(a);break;case 19:et(Ve);break;case 10:cs(a.type);break;case 22:case 23:hs(a),tg(),s!==null&&et(ra);break;case 24:cs(Le)}}function Fl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&s)===s){u=void 0;var m=l.create,T=l.inst;u=m(),T.destroy=u}l=l.next}while(l!==p)}}catch(S){ie(a,a.return,S)}}function Ys(s,a,l){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var m=p.next;u=m;do{if((u.tag&s)===s){var T=u.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,p=a;var N=l,Y=S;try{Y()}catch(it){ie(p,N,it)}}}u=u.next}while(u!==m)}}catch(it){ie(a,a.return,it)}}function I0(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{my(a,l)}catch(u){ie(s,s.return,u)}}}function D0(s,a,l){l.props=oa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){ie(s,a,u)}}function ql(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(p){ie(s,a,p)}}function Mi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){ie(s,a,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){ie(s,a,p)}else l.current=null}function O0(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){ie(s,s.return,p)}}function Cg(s,a,l){try{var u=s.stateNode;XA(u,s.type,l,a),u[Ae]=a}catch(p){ie(s,s.return,p)}}function M0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&tr(s.type)||s.tag===4}function Ig(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||M0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&tr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Dg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=xh));else if(u!==4&&(u===27&&tr(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Dg(s,a,l),s=s.sibling;s!==null;)Dg(s,a,l),s=s.sibling}function fh(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&tr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(fh(s,a,l),s=s.sibling;s!==null;)fh(s,a,l),s=s.sibling}function k0(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Je(a,u,l),a[ke]=s,a[Ae]=l}catch(m){ie(s,s.return,m)}}var gs=!1,xe=!1,Og=!1,N0=typeof WeakSet=="function"?WeakSet:Set,He=null;function RA(s,a){if(s=s.containerInfo,ep=Dh,s=G_(s),Id(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var T=0,S=-1,N=-1,Y=0,it=0,at=s,W=null;e:for(;;){for(var Q;at!==l||p!==0&&at.nodeType!==3||(S=T+p),at!==m||u!==0&&at.nodeType!==3||(N=T+u),at.nodeType===3&&(T+=at.nodeValue.length),(Q=at.firstChild)!==null;)W=at,at=Q;for(;;){if(at===s)break e;if(W===l&&++Y===p&&(S=T),W===m&&++it===u&&(N=T),(Q=at.nextSibling)!==null)break;at=W,W=at.parentNode}at=Q}l=S===-1||N===-1?null:{start:S,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(np={focusedElem:s,selectionRange:l},Dh=!1,He=a;He!==null;)if(a=He,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,He=s;else for(;He!==null;){switch(a=He,m=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&m!==null){s=void 0,l=a,p=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var xt=oa(l.type,p,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(xt,m),u.__reactInternalSnapshotBeforeUpdate=s}catch(bt){ie(l,l.return,bt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)rp(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":rp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,He=s;break}He=a.return}}function P0(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Xs(s,l),u&4&&Fl(5,l);break;case 1:if(Xs(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){ie(l,l.return,T)}else{var p=oa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(p,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ie(l,l.return,T)}}u&64&&I0(l),u&512&&ql(l,l.return);break;case 3:if(Xs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{my(s,a)}catch(T){ie(l,l.return,T)}}break;case 27:a===null&&u&4&&k0(l);case 26:case 5:Xs(s,l),a===null&&u&4&&O0(l),u&512&&ql(l,l.return);break;case 12:Xs(s,l);break;case 13:Xs(s,l),u&4&&U0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=LA.bind(null,l),tw(s,l))));break;case 22:if(u=l.memoizedState!==null||gs,!u){a=a!==null&&a.memoizedState!==null||xe,p=gs;var m=xe;gs=u,(xe=a)&&!m?Ks(s,l,(l.subtreeFlags&8772)!==0):Xs(s,l),gs=p,xe=m}break;case 30:break;default:Xs(s,l)}}function L0(s){var a=s.alternate;a!==null&&(s.alternate=null,L0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ps(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,Sn=!1;function ps(s,a,l){for(l=l.child;l!==null;)V0(s,a,l),l=l.sibling}function V0(s,a,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(me,l)}catch{}switch(l.tag){case 26:xe||Mi(l,a),ps(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xe||Mi(l,a);var u=ue,p=Sn;tr(l.type)&&(ue=l.stateNode,Sn=!1),ps(s,a,l),Jl(l.stateNode),ue=u,Sn=p;break;case 5:xe||Mi(l,a);case 6:if(u=ue,p=Sn,ue=null,ps(s,a,l),ue=u,Sn=p,ue!==null)if(Sn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(m){ie(l,a,m)}else try{ue.removeChild(l.stateNode)}catch(m){ie(l,a,m)}break;case 18:ue!==null&&(Sn?(s=ue,Av(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),oc(s)):Av(ue,l.stateNode));break;case 4:u=ue,p=Sn,ue=l.stateNode.containerInfo,Sn=!0,ps(s,a,l),ue=u,Sn=p;break;case 0:case 11:case 14:case 15:xe||Ys(2,l,a),xe||Ys(4,l,a),ps(s,a,l);break;case 1:xe||(Mi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&D0(l,a,u)),ps(s,a,l);break;case 21:ps(s,a,l);break;case 22:xe=(u=xe)||l.memoizedState!==null,ps(s,a,l),xe=u;break;default:ps(s,a,l)}}function U0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{oc(s)}catch(l){ie(a,a.return,l)}}function CA(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new N0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new N0),a;default:throw Error(i(435,s.tag))}}function Mg(s,a){var l=CA(s);a.forEach(function(u){var p=VA.bind(null,s,u);l.has(u)||(l.add(u),u.then(p,p))})}function Nn(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],m=s,T=a,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(tr(S.type)){ue=S.stateNode,Sn=!1;break t}break;case 5:ue=S.stateNode,Sn=!1;break t;case 3:case 4:ue=S.stateNode.containerInfo,Sn=!0;break t}S=S.return}if(ue===null)throw Error(i(160));V0(m,T,p),ue=null,Sn=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)z0(a,s),a=a.sibling}var oi=null;function z0(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nn(a,s),Pn(s),u&4&&(Ys(3,s,s.return),Fl(3,s),Ys(5,s,s.return));break;case 1:Nn(a,s),Pn(s),u&512&&(xe||l===null||Mi(l,l.return)),u&64&&gs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=oi;if(Nn(a,s),Pn(s),u&512&&(xe||l===null||Mi(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Lr]||m[ke]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(u),p.head.insertBefore(m,p.querySelector("head > title"))),Je(m,u,l),m[ke]=s,Ee(m),u=m;break t;case"link":var T=kv("link","href",p).get(u+(l.href||""));if(T){for(var S=0;S<T.length;S++)if(m=T[S],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(S,1);break e}}m=p.createElement(u),Je(m,u,l),p.head.appendChild(m);break;case"meta":if(T=kv("meta","content",p).get(u+(l.content||""))){for(S=0;S<T.length;S++)if(m=T[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(S,1);break e}}m=p.createElement(u),Je(m,u,l),p.head.appendChild(m);break;default:throw Error(i(468,u))}m[ke]=s,Ee(m),u=m}s.stateNode=u}else Nv(p,s.type,s.stateNode);else s.stateNode=Mv(p,u,s.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?Nv(p,s.type,s.stateNode):Mv(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Cg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Nn(a,s),Pn(s),u&512&&(xe||l===null||Mi(l,l.return)),l!==null&&u&4&&Cg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Nn(a,s),Pn(s),u&512&&(xe||l===null||Mi(l,l.return)),s.flags&32){p=s.stateNode;try{Gn(p,"")}catch(Q){ie(s,s.return,Q)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Cg(s,p,l!==null?l.memoizedProps:p)),u&1024&&(Og=!0);break;case 6:if(Nn(a,s),Pn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(Q){ie(s,s.return,Q)}}break;case 3:if(Rh=null,p=oi,oi=Ah(a.containerInfo),Nn(a,s),oi=p,Pn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{oc(a.containerInfo)}catch(Q){ie(s,s.return,Q)}Og&&(Og=!1,B0(s));break;case 4:u=oi,oi=Ah(s.stateNode.containerInfo),Nn(a,s),Pn(s),oi=u;break;case 12:Nn(a,s),Pn(s);break;case 13:Nn(a,s),Pn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ug=Fn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Mg(s,u)));break;case 22:p=s.memoizedState!==null;var N=l!==null&&l.memoizedState!==null,Y=gs,it=xe;if(gs=Y||p,xe=it||N,Nn(a,s),xe=it,gs=Y,Pn(s),u&8192)t:for(a=s.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||N||gs||xe||la(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){N=l=a;try{if(m=N.stateNode,p)T=m.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=N.stateNode;var at=N.memoizedProps.style,W=at!=null&&at.hasOwnProperty("display")?at.display:null;S.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Q){ie(N,N.return,Q)}}}else if(a.tag===6){if(l===null){N=a;try{N.stateNode.nodeValue=p?"":N.memoizedProps}catch(Q){ie(N,N.return,Q)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Mg(s,l))));break;case 19:Nn(a,s),Pn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Mg(s,u)));break;case 30:break;case 21:break;default:Nn(a,s),Pn(s)}}function Pn(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(M0(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,m=Ig(s);fh(s,m,p);break;case 5:var T=l.stateNode;l.flags&32&&(Gn(T,""),l.flags&=-33);var S=Ig(s);fh(s,S,T);break;case 3:case 4:var N=l.stateNode.containerInfo,Y=Ig(s);Dg(s,Y,N);break;default:throw Error(i(161))}}catch(it){ie(s,s.return,it)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function B0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;B0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Xs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)P0(s,a.alternate,a),a=a.sibling}function la(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ys(4,a,a.return),la(a);break;case 1:Mi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&D0(a,a.return,l),la(a);break;case 27:Jl(a.stateNode);case 26:case 5:Mi(a,a.return),la(a);break;case 22:a.memoizedState===null&&la(a);break;case 30:la(a);break;default:la(a)}s=s.sibling}}function Ks(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=s,m=a,T=m.flags;switch(m.tag){case 0:case 11:case 15:Ks(p,m,l),Fl(4,m);break;case 1:if(Ks(p,m,l),u=m,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Y){ie(u,u.return,Y)}if(u=m,p=u.updateQueue,p!==null){var S=u.stateNode;try{var N=p.shared.hiddenCallbacks;if(N!==null)for(p.shared.hiddenCallbacks=null,p=0;p<N.length;p++)py(N[p],S)}catch(Y){ie(u,u.return,Y)}}l&&T&64&&I0(m),ql(m,m.return);break;case 27:k0(m);case 26:case 5:Ks(p,m,l),l&&u===null&&T&4&&O0(m),ql(m,m.return);break;case 12:Ks(p,m,l);break;case 13:Ks(p,m,l),l&&T&4&&U0(p,m);break;case 22:m.memoizedState===null&&Ks(p,m,l),ql(m,m.return);break;case 30:break;default:Ks(p,m,l)}a=a.sibling}}function kg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Il(l))}function Ng(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Il(s))}function ki(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)j0(s,a,l,u),a=a.sibling}function j0(s,a,l,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:ki(s,a,l,u),p&2048&&Fl(9,a);break;case 1:ki(s,a,l,u);break;case 3:ki(s,a,l,u),p&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Il(s)));break;case 12:if(p&2048){ki(s,a,l,u),s=a.stateNode;try{var m=a.memoizedProps,T=m.id,S=m.onPostCommit;typeof S=="function"&&S(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(N){ie(a,a.return,N)}}else ki(s,a,l,u);break;case 13:ki(s,a,l,u);break;case 23:break;case 22:m=a.stateNode,T=a.alternate,a.memoizedState!==null?m._visibility&2?ki(s,a,l,u):Gl(s,a):m._visibility&2?ki(s,a,l,u):(m._visibility|=2,Eo(s,a,l,u,(a.subtreeFlags&10256)!==0)),p&2048&&kg(T,a);break;case 24:ki(s,a,l,u),p&2048&&Ng(a.alternate,a);break;default:ki(s,a,l,u)}}function Eo(s,a,l,u,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=s,T=a,S=l,N=u,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Eo(m,T,S,N,p),Fl(8,T);break;case 23:break;case 22:var it=T.stateNode;T.memoizedState!==null?it._visibility&2?Eo(m,T,S,N,p):Gl(m,T):(it._visibility|=2,Eo(m,T,S,N,p)),p&&Y&2048&&kg(T.alternate,T);break;case 24:Eo(m,T,S,N,p),p&&Y&2048&&Ng(T.alternate,T);break;default:Eo(m,T,S,N,p)}a=a.sibling}}function Gl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,p=u.flags;switch(u.tag){case 22:Gl(l,u),p&2048&&kg(u.alternate,u);break;case 24:Gl(l,u),p&2048&&Ng(u.alternate,u);break;default:Gl(l,u)}a=a.sibling}}var Yl=8192;function To(s){if(s.subtreeFlags&Yl)for(s=s.child;s!==null;)H0(s),s=s.sibling}function H0(s){switch(s.tag){case 26:To(s),s.flags&Yl&&s.memoizedState!==null&&dw(oi,s.memoizedState,s.memoizedProps);break;case 5:To(s);break;case 3:case 4:var a=oi;oi=Ah(s.stateNode.containerInfo),To(s),oi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Yl,Yl=16777216,To(s),Yl=a):To(s));break;default:To(s)}}function F0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Xl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];He=u,G0(u,s)}F0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q0(s),s=s.sibling}function q0(s){switch(s.tag){case 0:case 11:case 15:Xl(s),s.flags&2048&&Ys(9,s,s.return);break;case 3:Xl(s);break;case 12:Xl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,dh(s)):Xl(s);break;default:Xl(s)}}function dh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];He=u,G0(u,s)}F0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ys(8,a,a.return),dh(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,dh(a));break;default:dh(a)}s=s.sibling}}function G0(s,a){for(;He!==null;){var l=He;switch(l.tag){case 0:case 11:case 15:Ys(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Il(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,He=u;else t:for(l=s;He!==null;){u=He;var p=u.sibling,m=u.return;if(L0(u),u===l){He=null;break t}if(p!==null){p.return=m,He=p;break t}He=m}}}var IA={getCacheForType:function(s){var a=on(Le),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},DA=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,Ot=null,Ut=0,Qt=0,Ln=null,Ws=!1,xo=!1,Pg=!1,ms=0,ye=0,$s=0,ca=0,Lg=0,ti=0,So=0,Kl=null,An=null,Vg=!1,Ug=0,gh=1/0,ph=null,Qs=null,Ze=0,Zs=null,Ao=null,wo=0,zg=0,Bg=null,Y0=null,Wl=0,jg=null;function Vn(){if(($t&2)!==0&&Ut!==0)return Ut&-Ut;if($.T!==null){var s=fo;return s!==0?s:Kg()}return ks()}function X0(){ti===0&&(ti=(Ut&536870912)===0||Yt?sl():536870912);var s=Jn.current;return s!==null&&(s.flags|=32),ti}function Un(s,a,l){(s===re&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)&&(Ro(s,0),Js(s,Ut,ti,!1)),Ki(s,l),(($t&2)===0||s!==re)&&(s===re&&(($t&2)===0&&(ca|=l),ye===4&&Js(s,Ut,ti,!1)),Ni(s))}function K0(s,a,l){if(($t&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Pr(s,a),p=u?kA(s,a):qg(s,a,!0),m=u;do{if(p===0){xo&&!u&&Js(s,a,0,!1);break}else{if(l=s.current.alternate,m&&!OA(l)){p=qg(s,a,!1),m=!1;continue}if(p===2){if(m=a,s.errorRecoveryDisabledLanes&m)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var S=s;p=Kl;var N=S.current.memoizedState.isDehydrated;if(N&&(Ro(S,T).flags|=256),T=qg(S,T,!1),T!==2){if(Pg&&!N){S.errorRecoveryDisabledLanes|=m,ca|=m,p=4;break t}m=An,An=p,m!==null&&(An===null?An=m:An.push.apply(An,m))}p=T}if(m=!1,p!==2)continue}}if(p===1){Ro(s,0),Js(s,a,0,!0);break}t:{switch(u=s,m=p,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Js(u,a,ti,!Ws);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Ug+300-Fn(),10<p)){if(Js(u,a,ti,!Ws),Fa(u,0,!0)!==0)break t;u.timeoutHandle=xv(W0.bind(null,u,l,An,ph,Vg,a,ti,ca,So,Ws,m,2,-0,0),p);break t}W0(u,l,An,ph,Vg,a,ti,ca,So,Ws,m,0,-0,0)}}break}while(!0);Ni(s)}function W0(s,a,l,u,p,m,T,S,N,Y,it,at,W,Q){if(s.timeoutHandle=-1,at=a.subtreeFlags,(at&8192||(at&16785408)===16785408)&&(nc={stylesheets:null,count:0,unsuspend:fw},H0(a),at=gw(),at!==null)){s.cancelPendingCommit=at(nv.bind(null,s,a,m,l,u,p,T,S,N,it,1,W,Q)),Js(s,m,T,!Y);return}nv(s,a,m,l,u,p,T,S,N)}function OA(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],m=p.getSnapshot;p=p.value;try{if(!Mn(m(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Js(s,a,l,u){a&=~Lg,a&=~ca,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var p=a;0<p;){var m=31-an(p),T=1<<m;u[m]=-1,p&=~T}l!==0&&vi(s,l,a)}function mh(){return($t&6)===0?($l(0),!1):!0}function Hg(){if(Ot!==null){if(Qt===0)var s=Ot.return;else s=Ot,ls=ia=null,rg(s),vo=null,Bl=0,s=Ot;for(;s!==null;)C0(s.alternate,s),s=s.return;Ot=null}}function Ro(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,WA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Hg(),re=s,Ot=l=rs(s.current,null),Ut=a,Qt=0,Ln=null,Ws=!1,xo=Pr(s,a),Pg=!1,So=ti=Lg=ca=$s=ye=0,An=Kl=null,Vg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var p=31-an(u),m=1<<p;a|=s[p],u&=~m}return ms=a,Uu(),l}function $0(s,a){Rt=null,$.H=ih,a===Ol||a===Xu?(a=dy(),Qt=3):a===uy?(a=dy(),Qt=4):Qt=a===g0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,Ot===null&&(ye=1,lh(s,Wn(a,s.current)))}function Q0(){var s=$.H;return $.H=ih,s===null?ih:s}function Z0(){var s=$.A;return $.A=IA,s}function Fg(){ye=4,Ws||(Ut&4194048)!==Ut&&Jn.current!==null||(xo=!0),($s&134217727)===0&&(ca&134217727)===0||re===null||Js(re,Ut,ti,!1)}function qg(s,a,l){var u=$t;$t|=2;var p=Q0(),m=Z0();(re!==s||Ut!==a)&&(ph=null,Ro(s,a)),a=!1;var T=ye;t:do try{if(Qt!==0&&Ot!==null){var S=Ot,N=Ln;switch(Qt){case 8:Hg(),T=6;break t;case 3:case 2:case 9:case 6:Jn.current===null&&(a=!0);var Y=Qt;if(Qt=0,Ln=null,Co(s,S,N,Y),l&&xo){T=0;break t}break;default:Y=Qt,Qt=0,Ln=null,Co(s,S,N,Y)}}MA(),T=ye;break}catch(it){$0(s,it)}while(!0);return a&&s.shellSuspendCounter++,ls=ia=null,$t=u,$.H=p,$.A=m,Ot===null&&(re=null,Ut=0,Uu()),T}function MA(){for(;Ot!==null;)J0(Ot)}function kA(s,a){var l=$t;$t|=2;var u=Q0(),p=Z0();re!==s||Ut!==a?(ph=null,gh=Fn()+500,Ro(s,a)):xo=Pr(s,a);t:do try{if(Qt!==0&&Ot!==null){a=Ot;var m=Ln;e:switch(Qt){case 1:Qt=0,Ln=null,Co(s,a,m,1);break;case 2:case 9:if(hy(m)){Qt=0,Ln=null,tv(a);break}a=function(){Qt!==2&&Qt!==9||re!==s||(Qt=7),Ni(s)},m.then(a,a);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:hy(m)?(Qt=0,Ln=null,tv(a)):(Qt=0,Ln=null,Co(s,a,m,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var S=Ot;if(!T||Pv(T)){Qt=0,Ln=null;var N=S.sibling;if(N!==null)Ot=N;else{var Y=S.return;Y!==null?(Ot=Y,_h(Y)):Ot=null}break e}}Qt=0,Ln=null,Co(s,a,m,5);break;case 6:Qt=0,Ln=null,Co(s,a,m,6);break;case 8:Hg(),ye=6;break t;default:throw Error(i(462))}}NA();break}catch(it){$0(s,it)}while(!0);return ls=ia=null,$.H=u,$.A=p,$t=l,Ot!==null?0:(re=null,Ut=0,Uu(),ye)}function NA(){for(;Ot!==null&&!ge();)J0(Ot)}function J0(s){var a=w0(s.alternate,s,ms);s.memoizedProps=s.pendingProps,a===null?_h(s):Ot=a}function tv(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=b0(l,a,a.pendingProps,a.type,void 0,Ut);break;case 11:a=b0(l,a,a.pendingProps,a.type.render,a.ref,Ut);break;case 5:rg(a);default:C0(l,a),a=Ot=ey(a,ms),a=w0(l,a,ms)}s.memoizedProps=s.pendingProps,a===null?_h(s):Ot=a}function Co(s,a,l,u){ls=ia=null,rg(a),vo=null,Bl=0;var p=a.return;try{if(xA(s,p,a,l,Ut)){ye=1,lh(s,Wn(l,s.current)),Ot=null;return}}catch(m){if(p!==null)throw Ot=p,m;ye=1,lh(s,Wn(l,s.current)),Ot=null;return}a.flags&32768?(Yt||u===1?s=!0:xo||(Ut&536870912)!==0?s=!1:(Ws=s=!0,(u===2||u===9||u===3||u===6)&&(u=Jn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ev(a,s)):_h(a)}function _h(s){var a=s;do{if((a.flags&32768)!==0){ev(a,Ws);return}s=a.return;var l=AA(a.alternate,a,ms);if(l!==null){Ot=l;return}if(a=a.sibling,a!==null){Ot=a;return}Ot=a=s}while(a!==null);ye===0&&(ye=5)}function ev(s,a){do{var l=wA(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ye=6,Ot=null}function nv(s,a,l,u,p,m,T,S,N){s.cancelPendingCommit=null;do yh();while(Ze!==0);if(($t&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=Nd,al(s,l,m,T,S,N),s===re&&(Ot=re=null,Ut=0),Ao=a,Zs=s,wo=l,zg=m,Bg=p,Y0=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,UA(Or,function(){return ov(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=$.T,$.T=null,p=X.p,X.p=2,T=$t,$t|=4;try{RA(s,a,l)}finally{$t=T,X.p=p,$.T=u}}Ze=1,iv(),sv(),rv()}}function iv(){if(Ze===1){Ze=0;var s=Zs,a=Ao,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var u=X.p;X.p=2;var p=$t;$t|=4;try{z0(a,s);var m=np,T=G_(s.containerInfo),S=m.focusedElem,N=m.selectionRange;if(T!==S&&S&&S.ownerDocument&&q_(S.ownerDocument.documentElement,S)){if(N!==null&&Id(S)){var Y=N.start,it=N.end;if(it===void 0&&(it=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(it,S.value.length);else{var at=S.ownerDocument||document,W=at&&at.defaultView||window;if(W.getSelection){var Q=W.getSelection(),xt=S.textContent.length,bt=Math.min(N.start,xt),ne=N.end===void 0?bt:Math.min(N.end,xt);!Q.extend&&bt>ne&&(T=ne,ne=bt,bt=T);var j=F_(S,bt),z=F_(S,ne);if(j&&z&&(Q.rangeCount!==1||Q.anchorNode!==j.node||Q.anchorOffset!==j.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var q=at.createRange();q.setStart(j.node,j.offset),Q.removeAllRanges(),bt>ne?(Q.addRange(q),Q.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),Q.addRange(q))}}}}for(at=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&at.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<at.length;S++){var st=at[S];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Dh=!!ep,np=ep=null}finally{$t=p,X.p=u,$.T=l}}s.current=a,Ze=2}}function sv(){if(Ze===2){Ze=0;var s=Zs,a=Ao,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var u=X.p;X.p=2;var p=$t;$t|=4;try{P0(s,a.alternate,a)}finally{$t=p,X.p=u,$.T=l}}Ze=3}}function rv(){if(Ze===4||Ze===3){Ze=0,Dr();var s=Zs,a=Ao,l=wo,u=Y0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ze=5:(Ze=0,Ao=Zs=null,av(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(Qs=null),qa(l),a=a.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(me,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=$.T,p=X.p,X.p=2,$.T=null;try{for(var m=s.onRecoverableError,T=0;T<u.length;T++){var S=u[T];m(S.value,{componentStack:S.stack})}}finally{$.T=a,X.p=p}}(wo&3)!==0&&yh(),Ni(s),p=s.pendingLanes,(l&4194090)!==0&&(p&42)!==0?s===jg?Wl++:(Wl=0,jg=s):Wl=0,$l(0)}}function av(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Il(a)))}function yh(s){return iv(),sv(),rv(),ov()}function ov(){if(Ze!==5)return!1;var s=Zs,a=zg;zg=0;var l=qa(wo),u=$.T,p=X.p;try{X.p=32>l?32:l,$.T=null,l=Bg,Bg=null;var m=Zs,T=wo;if(Ze=0,Ao=Zs=null,wo=0,($t&6)!==0)throw Error(i(331));var S=$t;if($t|=4,q0(m.current),j0(m,m.current,T,l),$t=S,$l(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(me,m)}catch{}return!0}finally{X.p=p,$.T=u,av(s,a)}}function lv(s,a,l){a=Wn(l,a),a=vg(s.stateNode,a,2),s=Hs(s,a,2),s!==null&&(Ki(s,2),Ni(s))}function ie(s,a,l){if(s.tag===3)lv(s,s,l);else for(;a!==null;){if(a.tag===3){lv(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qs===null||!Qs.has(u))){s=Wn(l,s),l=f0(2),u=Hs(a,l,2),u!==null&&(d0(l,u,a,s),Ki(u,2),Ni(u));break}}a=a.return}}function Gg(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new DA;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(l)||(Pg=!0,p.add(l),s=PA.bind(null,s,a,l),a.then(s,s))}function PA(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Ut&l)===l&&(ye===4||ye===3&&(Ut&62914560)===Ut&&300>Fn()-Ug?($t&2)===0&&Ro(s,0):Lg|=l,So===Ut&&(So=0)),Ni(s)}function cv(s,a){a===0&&(a=rl()),s=lo(s,a),s!==null&&(Ki(s,a),Ni(s))}function LA(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),cv(s,l)}function VA(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),cv(s,l)}function UA(s,a){return yi(s,a)}var vh=null,Io=null,Yg=!1,bh=!1,Xg=!1,ua=0;function Ni(s){s!==Io&&s.next===null&&(Io===null?vh=Io=s:Io=Io.next=s),bh=!0,Yg||(Yg=!0,BA())}function $l(s,a){if(!Xg&&bh){Xg=!0;do for(var l=!1,u=vh;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var m=0;else{var T=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-an(42|s)+1)-1,m&=p&~(T&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,dv(u,m))}else m=Ut,m=Fa(u,u===re?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Pr(u,m)||(l=!0,dv(u,m));u=u.next}while(l);Xg=!1}}function zA(){uv()}function uv(){bh=Yg=!1;var s=0;ua!==0&&(KA()&&(s=ua),ua=0);for(var a=Fn(),l=null,u=vh;u!==null;){var p=u.next,m=hv(u,a);m===0?(u.next=null,l===null?vh=p:l.next=p,p===null&&(Io=l)):(l=u,(s!==0||(m&3)!==0)&&(bh=!0)),u=p}$l(s)}function hv(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,m=s.pendingLanes&-62914561;0<m;){var T=31-an(m),S=1<<T,N=p[T];N===-1?((S&l)===0||(S&u)!==0)&&(p[T]=il(S,a)):N<=a&&(s.expiredLanes|=S),m&=~S}if(a=re,l=Ut,l=Fa(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Qt===2||Qt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Xt(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Pr(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&Xt(u),qa(l)){case 2:case 8:l=ja;break;case 32:l=Or;break;case 268435456:l=Ha;break;default:l=Or}return u=fv.bind(null,s),l=yi(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&Xt(u),s.callbackPriority=2,s.callbackNode=null,2}function fv(s,a){if(Ze!==0&&Ze!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(yh()&&s.callbackNode!==l)return null;var u=Ut;return u=Fa(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(K0(s,u,a),hv(s,Fn()),s.callbackNode!=null&&s.callbackNode===l?fv.bind(null,s):null)}function dv(s,a){if(yh())return null;K0(s,a,!0)}function BA(){$A(function(){($t&6)!==0?yi(el,zA):uv()})}function Kg(){return ua===0&&(ua=sl()),ua}function gv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:$a(""+s)}function pv(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function jA(s,a,l,u,p){if(a==="submit"&&l&&l.stateNode===p){var m=gv((p[Ae]||null).action),T=u.submitter;T&&(a=(a=T[Ae]||null)?gv(a.formAction):T.getAttribute("formAction"),a!==null&&(m=a,T=null));var S=new Qa("action","action",null,u,p);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ua!==0){var N=T?pv(p,T):new FormData(p);gg(l,{pending:!0,data:N,method:p.method,action:m},null,N)}}else typeof m=="function"&&(S.preventDefault(),N=T?pv(p,T):new FormData(p),gg(l,{pending:!0,data:N,method:p.method,action:m},m,N))},currentTarget:p}]})}}for(var Wg=0;Wg<kd.length;Wg++){var $g=kd[Wg],HA=$g.toLowerCase(),FA=$g[0].toUpperCase()+$g.slice(1);ai(HA,"on"+FA)}ai(K_,"onAnimationEnd"),ai(W_,"onAnimationIteration"),ai($_,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(aA,"onTransitionRun"),ai(oA,"onTransitionStart"),ai(lA,"onTransitionCancel"),ai(Q_,"onTransitionEnd"),$i("onMouseEnter",["mouseout","mouseover"]),$i("onMouseLeave",["mouseout","mouseover"]),$i("onPointerEnter",["pointerout","pointerover"]),$i("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function mv(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],p=u.event;u=u.listeners;t:{var m=void 0;if(a)for(var T=u.length-1;0<=T;T--){var S=u[T],N=S.instance,Y=S.currentTarget;if(S=S.listener,N!==m&&p.isPropagationStopped())break t;m=S,p.currentTarget=Y;try{m(p)}catch(it){oh(it)}p.currentTarget=null,m=N}else for(T=0;T<u.length;T++){if(S=u[T],N=S.instance,Y=S.currentTarget,S=S.listener,N!==m&&p.isPropagationStopped())break t;m=S,p.currentTarget=Y;try{m(p)}catch(it){oh(it)}p.currentTarget=null,m=N}}}}function Mt(s,a){var l=a[ll];l===void 0&&(l=a[ll]=new Set);var u=s+"__bubble";l.has(u)||(_v(a,s,2,!1),l.add(u))}function Qg(s,a,l){var u=0;a&&(u|=4),_v(l,s,u,a)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function Zg(s){if(!s[Eh]){s[Eh]=!0,cl.forEach(function(l){l!=="selectionchange"&&(qA.has(l)||Qg(l,!1,s),Qg(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Eh]||(a[Eh]=!0,Qg("selectionchange",!1,a))}}function _v(s,a,l,u){switch(jv(a)){case 2:var p=_w;break;case 8:p=yw;break;default:p=fp}l=p.bind(null,a,l,s),p=void 0,!Xn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(a,l,{capture:!0,passive:p}):s.addEventListener(a,l,!0):p!==void 0?s.addEventListener(a,l,{passive:p}):s.addEventListener(a,l,!1)}function Jg(s,a,l,u,p){var m=u;if((a&1)===0&&(a&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var S=u.stateNode.containerInfo;if(S===p)break;if(T===4)for(T=u.return;T!==null;){var N=T.tag;if((N===3||N===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;S!==null;){if(T=Wi(S),T===null)return;if(N=T.tag,N===5||N===6||N===26||N===27){u=m=T;continue t}S=S.parentNode}}u=u.return}xu(function(){var Y=m,it=Yn(l),at=[];t:{var W=Z_.get(s);if(W!==void 0){var Q=Qa,xt=s;switch(s){case"keypress":if(Ai(l)===0)break t;case"keydown":case"keyup":Q=io;break;case"focusin":xt="focus",Q=to;break;case"focusout":xt="blur",Q=to;break;case"beforeblur":case"afterblur":Q=to;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Kn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ad;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Ou;break;case K_:case W_:case $_:Q=eo;break;case Q_:Q=ku;break;case"scroll":case"scrollend":Q=Su;break;case"wheel":Q=so;break;case"copy":case"cut":case"paste":Q=no;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=El;break;case"toggle":case"beforetoggle":Q=Pu}var bt=(a&4)!==0,ne=!bt&&(s==="scroll"||s==="scrollend"),j=bt?W!==null?W+"Capture":null:W;bt=[];for(var z=Y,q;z!==null;){var st=z;if(q=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||q===null||j===null||(st=Fr(z,j),st!=null&&bt.push(Zl(z,st,q))),ne)break;z=z.return}0<bt.length&&(W=new Q(W,xt,null,l,it),at.push({event:W,listeners:bt}))}}if((a&7)===0){t:{if(W=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",W&&l!==Ji&&(xt=l.relatedTarget||l.fromElement)&&(Wi(xt)||xt[qn]))break t;if((Q||W)&&(W=it.window===it?it:(W=it.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(xt=l.relatedTarget||l.toElement,Q=Y,xt=xt?Wi(xt):null,xt!==null&&(ne=o(xt),bt=xt.tag,xt!==ne||bt!==5&&bt!==27&&bt!==6)&&(xt=null)):(Q=null,xt=Y),Q!==xt)){if(bt=Kn,st="onMouseLeave",j="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(bt=El,st="onPointerLeave",j="onPointerEnter",z="pointer"),ne=Q==null?W:Ei(Q),q=xt==null?W:Ei(xt),W=new bt(st,z+"leave",Q,l,it),W.target=ne,W.relatedTarget=q,st=null,Wi(it)===Y&&(bt=new bt(j,z+"enter",xt,l,it),bt.target=q,bt.relatedTarget=ne,st=bt),ne=st,Q&&xt)e:{for(bt=Q,j=xt,z=0,q=bt;q;q=Do(q))z++;for(q=0,st=j;st;st=Do(st))q++;for(;0<z-q;)bt=Do(bt),z--;for(;0<q-z;)j=Do(j),q--;for(;z--;){if(bt===j||j!==null&&bt===j.alternate)break e;bt=Do(bt),j=Do(j)}bt=null}else bt=null;Q!==null&&yv(at,W,Q,bt,!1),xt!==null&&ne!==null&&yv(at,ne,xt,bt,!0)}}t:{if(W=Y?Ei(Y):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var mt=V_;else if(Pe(W))if(U_)mt=iA;else{mt=eA;var It=tA}else Q=W.nodeName,!Q||Q.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Y&&gl(Y.elementType)&&(mt=V_):mt=nA;if(mt&&(mt=mt(s,Y))){ss(at,mt,l,it);break t}It&&It(s,W,Y),s==="focusout"&&Y&&W.type==="number"&&Y.memoizedProps.value!=null&&Vs(W,"number",W.value)}switch(It=Y?Ei(Y):window,s){case"focusin":(Pe(It)||It.contentEditable==="true")&&(ro=It,Dd=Y,Sl=null);break;case"focusout":Sl=Dd=ro=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,Y_(at,l,it);break;case"selectionchange":if(rA)break;case"keydown":case"keyup":Y_(at,l,it)}var yt;if(Ci)t:{switch(s){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Lt?J(s,l)&&(Et="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Et="onCompositionStart");Et&&(E&&l.locale!=="ko"&&(Lt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Lt&&(yt=ml()):(Si=it,Us="value"in Si?Si.value:Si.textContent,Lt=!0)),It=Th(Y,Et),0<It.length&&(Et=new vl(Et,s,null,l,it),at.push({event:Et,listeners:It}),yt?Et.data=yt:(yt=ht(l),yt!==null&&(Et.data=yt)))),(yt=v?Ne(s,l):Vt(s,l))&&(Et=Th(Y,"onBeforeInput"),0<Et.length&&(It=new vl("onBeforeInput","beforeinput",null,l,it),at.push({event:It,listeners:Et}),It.data=yt)),jA(at,s,Y,l,it)}mv(at,a)})}function Zl(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Th(s,a){for(var l=a+"Capture",u=[];s!==null;){var p=s,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=Fr(s,l),p!=null&&u.unshift(Zl(s,p,m)),p=Fr(s,a),p!=null&&u.push(Zl(s,p,m))),s.tag===3)return u;s=s.return}return[]}function Do(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function yv(s,a,l,u,p){for(var m=a._reactName,T=[];l!==null&&l!==u;){var S=l,N=S.alternate,Y=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||Y===null||(N=Y,p?(Y=Fr(l,m),Y!=null&&T.unshift(Zl(l,Y,N))):p||(Y=Fr(l,m),Y!=null&&T.push(Zl(l,Y,N)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var GA=/\r\n?/g,YA=/\u0000|\uFFFD/g;function vv(s){return(typeof s=="string"?s:""+s).replace(GA,`
`).replace(YA,"")}function bv(s,a){return a=vv(a),vv(s)===a}function xh(){}function ee(s,a,l,u,p,m){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Gn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Gn(s,""+u);break;case"className":Ti(s,"class",u);break;case"tabIndex":Ti(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ti(s,l,u);break;case"style":dl(s,u,m);break;case"data":if(a!=="object"){Ti(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=$a(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(a!=="input"&&ee(s,a,"name",p.name,p,null),ee(s,a,"formEncType",p.formEncType,p,null),ee(s,a,"formMethod",p.formMethod,p,null),ee(s,a,"formTarget",p.formTarget,p,null)):(ee(s,a,"encType",p.encType,p,null),ee(s,a,"method",p.method,p,null),ee(s,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=$a(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=xh);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=$a(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Mt("beforetoggle",s),Mt("toggle",s),Ls(s,"popover",u);break;case"xlinkActuate":We(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":We(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":We(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":We(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":We(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":We(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":We(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":We(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":We(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ls(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xd.get(l)||l,Ls(s,l,u))}}function tp(s,a,l,u,p,m){switch(l){case"style":dl(s,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Gn(s,u):(typeof u=="number"||typeof u=="bigint")&&Gn(s,""+u);break;case"onScroll":u!=null&&Mt("scroll",s);break;case"onScrollEnd":u!=null&&Mt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=xh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),m=s[Ae]||null,m=m!=null?m[l]:null,typeof m=="function"&&s.removeEventListener(a,m,p),typeof u=="function")){typeof m!="function"&&m!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,p);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Ls(s,l,u)}}}function Je(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",s),Mt("load",s);var u=!1,p=!1,m;for(m in l)if(l.hasOwnProperty(m)){var T=l[m];if(T!=null)switch(m){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,m,T,l,null)}}p&&ee(s,a,"srcSet",l.srcSet,l,null),u&&ee(s,a,"src",l.src,l,null);return;case"input":Mt("invalid",s);var S=m=T=p=null,N=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var it=l[u];if(it!=null)switch(u){case"name":p=it;break;case"type":T=it;break;case"checked":N=it;break;case"defaultChecked":Y=it;break;case"value":m=it;break;case"defaultValue":S=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,a));break;default:ee(s,a,u,it,l,null)}}Br(s,m,S,N,Y,T,p,!1),Wa(s);return;case"select":Mt("invalid",s),u=T=m=null;for(p in l)if(l.hasOwnProperty(p)&&(S=l[p],S!=null))switch(p){case"value":m=S;break;case"defaultValue":T=S;break;case"multiple":u=S;default:ee(s,a,p,S,l,null)}a=m,l=T,s.multiple=!!u,a!=null?Zi(s,!!u,a,!1):l!=null&&Zi(s,!!u,l,!0);return;case"textarea":Mt("invalid",s),m=p=u=null;for(T in l)if(l.hasOwnProperty(T)&&(S=l[T],S!=null))switch(T){case"value":u=S;break;case"defaultValue":p=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:ee(s,a,T,S,l,null)}jr(s,u,p,m),Wa(s);return;case"option":for(N in l)if(l.hasOwnProperty(N)&&(u=l[N],u!=null))switch(N){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ee(s,a,N,u,l,null)}return;case"dialog":Mt("beforetoggle",s),Mt("toggle",s),Mt("cancel",s),Mt("close",s);break;case"iframe":case"object":Mt("load",s);break;case"video":case"audio":for(u=0;u<Ql.length;u++)Mt(Ql[u],s);break;case"image":Mt("error",s),Mt("load",s);break;case"details":Mt("toggle",s);break;case"embed":case"source":case"link":Mt("error",s),Mt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ee(s,a,Y,u,l,null)}return;default:if(gl(a)){for(it in l)l.hasOwnProperty(it)&&(u=l[it],u!==void 0&&tp(s,a,it,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&ee(s,a,S,u,l,null))}function XA(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,T=null,S=null,N=null,Y=null,it=null;for(Q in l){var at=l[Q];if(l.hasOwnProperty(Q)&&at!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=at;default:u.hasOwnProperty(Q)||ee(s,a,Q,null,u,at)}}for(var W in u){var Q=u[W];if(at=l[W],u.hasOwnProperty(W)&&(Q!=null||at!=null))switch(W){case"type":m=Q;break;case"name":p=Q;break;case"checked":Y=Q;break;case"defaultChecked":it=Q;break;case"value":T=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,a));break;default:Q!==at&&ee(s,a,W,Q,u,at)}}On(s,T,S,N,Y,it,m,p);return;case"select":Q=T=S=W=null;for(m in l)if(N=l[m],l.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Q=N;default:u.hasOwnProperty(m)||ee(s,a,m,null,u,N)}for(p in u)if(m=u[p],N=l[p],u.hasOwnProperty(p)&&(m!=null||N!=null))switch(p){case"value":W=m;break;case"defaultValue":S=m;break;case"multiple":T=m;default:m!==N&&ee(s,a,p,m,u,N)}a=S,l=T,u=Q,W!=null?Zi(s,!!l,W,!1):!!u!=!!l&&(a!=null?Zi(s,!!l,a,!0):Zi(s,!!l,l?[]:"",!1));return;case"textarea":Q=W=null;for(S in l)if(p=l[S],l.hasOwnProperty(S)&&p!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(s,a,S,null,u,p)}for(T in u)if(p=u[T],m=l[T],u.hasOwnProperty(T)&&(p!=null||m!=null))switch(T){case"value":W=p;break;case"defaultValue":Q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==m&&ee(s,a,T,p,u,m)}Jt(s,W,Q);return;case"option":for(var xt in l)if(W=l[xt],l.hasOwnProperty(xt)&&W!=null&&!u.hasOwnProperty(xt))switch(xt){case"selected":s.selected=!1;break;default:ee(s,a,xt,null,u,W)}for(N in u)if(W=u[N],Q=l[N],u.hasOwnProperty(N)&&W!==Q&&(W!=null||Q!=null))switch(N){case"selected":s.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:ee(s,a,N,W,u,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in l)W=l[bt],l.hasOwnProperty(bt)&&W!=null&&!u.hasOwnProperty(bt)&&ee(s,a,bt,null,u,W);for(Y in u)if(W=u[Y],Q=l[Y],u.hasOwnProperty(Y)&&W!==Q&&(W!=null||Q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:ee(s,a,Y,W,u,Q)}return;default:if(gl(a)){for(var ne in l)W=l[ne],l.hasOwnProperty(ne)&&W!==void 0&&!u.hasOwnProperty(ne)&&tp(s,a,ne,void 0,u,W);for(it in u)W=u[it],Q=l[it],!u.hasOwnProperty(it)||W===Q||W===void 0&&Q===void 0||tp(s,a,it,W,u,Q);return}}for(var j in l)W=l[j],l.hasOwnProperty(j)&&W!=null&&!u.hasOwnProperty(j)&&ee(s,a,j,null,u,W);for(at in u)W=u[at],Q=l[at],!u.hasOwnProperty(at)||W===Q||W==null&&Q==null||ee(s,a,at,W,u,Q)}var ep=null,np=null;function Sh(s){return s.nodeType===9?s:s.ownerDocument}function Ev(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function ip(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sp=null;function KA(){var s=window.event;return s&&s.type==="popstate"?s===sp?!1:(sp=s,!0):(sp=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(s){return Sv.resolve(null).then(s).catch(QA)}:xv;function QA(s){setTimeout(function(){throw s})}function tr(s){return s==="head"}function Av(s,a){var l=a,u=0,p=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var T=s.ownerDocument;if(l&1&&Jl(T.documentElement),l&2&&Jl(T.body),l&4)for(l=T.head,Jl(l),T=l.firstChild;T;){var S=T.nextSibling,N=T.nodeName;T[Lr]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=S}}if(p===0){s.removeChild(m),oc(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);oc(a)}function rp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":rp(l),Ps(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function ZA(s,a,l,u){for(;s.nodeType===1;){var p=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Lr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(m=s.getAttribute("rel"),m==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(m!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(m=s.getAttribute("src"),(m!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===m)return s}else return s;if(s=li(s.nextSibling),s===null)break}return null}function JA(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=li(s.nextSibling),s===null))return null;return s}function ap(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function tw(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function li(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var op=null;function wv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function Rv(s,a,l){switch(a=Sh(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Jl(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ps(s)}var ei=new Map,Cv=new Set;function Ah(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var _s=X.d;X.d={f:ew,r:nw,D:iw,C:sw,L:rw,m:aw,X:lw,S:ow,M:cw};function ew(){var s=_s.f(),a=mh();return s||a}function nw(s){var a=bi(s);a!==null&&a.tag===5&&a.type==="form"?Ky(a):_s.r(s)}var Oo=typeof document>"u"?null:document;function Iv(s,a,l){var u=Oo;if(u&&typeof a=="string"&&a){var p=we(a);p='link[rel="'+s+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),Cv.has(p)||(Cv.add(p),s={rel:s,crossOrigin:l,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),Je(a,"link",s),Ee(a),u.head.appendChild(a)))}}function iw(s){_s.D(s),Iv("dns-prefetch",s,null)}function sw(s,a){_s.C(s,a),Iv("preconnect",s,a)}function rw(s,a,l){_s.L(s,a,l);var u=Oo;if(u&&s&&a){var p='link[rel="preload"][as="'+we(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+we(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+we(l.imageSizes)+'"]')):p+='[href="'+we(s)+'"]';var m=p;switch(a){case"style":m=Mo(s);break;case"script":m=ko(s)}ei.has(m)||(s=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ei.set(m,s),u.querySelector(p)!==null||a==="style"&&u.querySelector(tc(m))||a==="script"&&u.querySelector(ec(m))||(a=u.createElement("link"),Je(a,"link",s),Ee(a),u.head.appendChild(a)))}}function aw(s,a){_s.m(s,a);var l=Oo;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+we(u)+'"][href="'+we(s)+'"]',m=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(s)}if(!ei.has(m)&&(s=_({rel:"modulepreload",href:s},a),ei.set(m,s),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ec(m)))return}u=l.createElement("link"),Je(u,"link",s),Ee(u),l.head.appendChild(u)}}}function ow(s,a,l){_s.S(s,a,l);var u=Oo;if(u&&s){var p=yn(u).hoistableStyles,m=Mo(s);a=a||"default";var T=p.get(m);if(!T){var S={loading:0,preload:null};if(T=u.querySelector(tc(m)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ei.get(m))&&lp(s,l);var N=T=u.createElement("link");Ee(N),Je(N,"link",s),N._p=new Promise(function(Y,it){N.onload=Y,N.onerror=it}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wh(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:S},p.set(m,T)}}}function lw(s,a){_s.X(s,a);var l=Oo;if(l&&s){var u=yn(l).hoistableScripts,p=ko(s),m=u.get(p);m||(m=l.querySelector(ec(p)),m||(s=_({src:s,async:!0},a),(a=ei.get(p))&&cp(s,a),m=l.createElement("script"),Ee(m),Je(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(p,m))}}function cw(s,a){_s.M(s,a);var l=Oo;if(l&&s){var u=yn(l).hoistableScripts,p=ko(s),m=u.get(p);m||(m=l.querySelector(ec(p)),m||(s=_({src:s,async:!0,type:"module"},a),(a=ei.get(p))&&cp(s,a),m=l.createElement("script"),Ee(m),Je(m,"link",s),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(p,m))}}function Dv(s,a,l,u){var p=(p=dt.current)?Ah(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Mo(l.href),l=yn(p).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Mo(l.href);var m=yn(p).hoistableStyles,T=m.get(s);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(s,T),(m=p.querySelector(tc(s)))&&!m._p&&(T.instance=m,T.state.loading=5),ei.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ei.set(s,l),m||uw(p,s,l,T.state))),a&&u===null)throw Error(i(528,""));return T}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ko(l),l=yn(p).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Mo(s){return'href="'+we(s)+'"'}function tc(s){return'link[rel="stylesheet"]['+s+"]"}function Ov(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function uw(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Je(a,"link",l),Ee(a),s.head.appendChild(a))}function ko(s){return'[src="'+we(s)+'"]'}function ec(s){return"script[async]"+s}function Mv(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+we(l.href)+'"]');if(u)return a.instance=u,Ee(u),u;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ee(u),Je(u,"style",p),wh(u,l.precedence,s),a.instance=u;case"stylesheet":p=Mo(l.href);var m=s.querySelector(tc(p));if(m)return a.state.loading|=4,a.instance=m,Ee(m),m;u=Ov(l),(p=ei.get(p))&&lp(u,p),m=(s.ownerDocument||s).createElement("link"),Ee(m);var T=m;return T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Je(m,"link",u),a.state.loading|=4,wh(m,l.precedence,s),a.instance=m;case"script":return m=ko(l.src),(p=s.querySelector(ec(m)))?(a.instance=p,Ee(p),p):(u=l,(p=ei.get(m))&&(u=_({},l),cp(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Ee(p),Je(p,"link",u),s.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,wh(u,l.precedence,s));return a.instance}function wh(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,m=p,T=0;T<u.length;T++){var S=u[T];if(S.dataset.precedence===a)m=S;else if(m!==p)break}m?m.parentNode.insertBefore(s,m.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function lp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function cp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Rh=null;function kv(s,a,l){if(Rh===null){var u=new Map,p=Rh=new Map;p.set(l,u)}else p=Rh,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),p=0;p<l.length;p++){var m=l[p];if(!(m[Lr]||m[ke]||s==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var T=m.getAttribute(a)||"";T=s+T;var S=u.get(T);S?S.push(m):u.set(T,[m])}}return u}function Nv(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function hw(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Pv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var nc=null;function fw(){}function dw(s,a,l){if(nc===null)throw Error(i(475));var u=nc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Mo(l.href),m=s.querySelector(tc(p));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=Ch.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=m,Ee(m);return}m=s.ownerDocument||s,l=Ov(l),(p=ei.get(p))&&lp(l,p),m=m.createElement("link"),Ee(m);var T=m;T._p=new Promise(function(S,N){T.onload=S,T.onerror=N}),Je(m,"link",l),a.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Ch.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function gw(){if(nc===null)throw Error(i(475));var s=nc;return s.stylesheets&&s.count===0&&up(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&up(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ch(){if(this.count--,this.count===0){if(this.stylesheets)up(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ih=null;function up(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ih=new Map,a.forEach(pw,s),Ih=null,Ch.call(s))}function pw(s,a){if(!(a.state.loading&4)){var l=Ih.get(s);if(l)var u=l.get(null);else{l=new Map,Ih.set(s,l);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var T=p[m];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),u=T)}u&&l.set(null,u)}p=a.instance,T=p.getAttribute("data-precedence"),m=l.get(T)||u,m===u&&l.set(null,p),l.set(T,p),this.count++,u=Ch.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),m?m.parentNode.insertBefore(p,m.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),a.state.loading|=4}}var ic={$$typeof:K,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function mw(s,a,l,u,p,m,T,S){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xi(0),this.hiddenUpdates=Xi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Lv(s,a,l,u,p,m,T,S,N,Y,it,at){return s=new mw(s,a,l,T,S,N,Y,at),a=1,m===!0&&(a|=24),m=kn(3,null,null,a),s.current=m,m.stateNode=s,a=Gd(),a.refCount++,s.pooledCache=a,a.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:a},Wd(m),s}function Vv(s){return s?(s=co,s):co}function Uv(s,a,l,u,p,m){p=Vv(p),u.context===null?u.context=p:u.pendingContext=p,u=js(a),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Hs(s,u,a),l!==null&&(Un(l,s,a),kl(l,s,a))}function zv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function hp(s,a){zv(s,a),(s=s.alternate)&&zv(s,a)}function Bv(s){if(s.tag===13){var a=lo(s,67108864);a!==null&&Un(a,s,67108864),hp(s,67108864)}}var Dh=!0;function _w(s,a,l,u){var p=$.T;$.T=null;var m=X.p;try{X.p=2,fp(s,a,l,u)}finally{X.p=m,$.T=p}}function yw(s,a,l,u){var p=$.T;$.T=null;var m=X.p;try{X.p=8,fp(s,a,l,u)}finally{X.p=m,$.T=p}}function fp(s,a,l,u){if(Dh){var p=dp(u);if(p===null)Jg(s,a,u,Oh,l),Hv(s,u);else if(bw(p,s,a,l,u))u.stopPropagation();else if(Hv(s,u),a&4&&-1<vw.indexOf(s)){for(;p!==null;){var m=bi(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var T=ii(m.pendingLanes);if(T!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var N=1<<31-an(T);S.entanglements[1]|=N,T&=~N}Ni(m),($t&6)===0&&(gh=Fn()+500,$l(0))}}break;case 13:S=lo(m,2),S!==null&&Un(S,m,2),mh(),hp(m,2)}if(m=dp(u),m===null&&Jg(s,a,u,Oh,l),m===p)break;p=m}p!==null&&u.stopPropagation()}else Jg(s,a,u,null,l)}}function dp(s){return s=Yn(s),gp(s)}var Oh=null;function gp(s){if(Oh=null,s=Wi(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Oh=s,null}function jv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_d()){case el:return 2;case ja:return 8;case Or:case yd:return 32;case Ha:return 268435456;default:return 32}default:return 32}}var pp=!1,er=null,nr=null,ir=null,sc=new Map,rc=new Map,sr=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hv(s,a){switch(s){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":sc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(a.pointerId)}}function ac(s,a,l,u,p,m){return s===null||s.nativeEvent!==m?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[p]},a!==null&&(a=bi(a),a!==null&&Bv(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),s)}function bw(s,a,l,u,p){switch(a){case"focusin":return er=ac(er,s,a,l,u,p),!0;case"dragenter":return nr=ac(nr,s,a,l,u,p),!0;case"mouseover":return ir=ac(ir,s,a,l,u,p),!0;case"pointerover":var m=p.pointerId;return sc.set(m,ac(sc.get(m)||null,s,a,l,u,p)),!0;case"gotpointercapture":return m=p.pointerId,rc.set(m,ac(rc.get(m)||null,s,a,l,u,p)),!0}return!1}function Fv(s){var a=Wi(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,mu(s.priority,function(){if(l.tag===13){var u=Vn();u=Ms(u);var p=lo(l,u);p!==null&&Un(p,l,u),hp(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Mh(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=dp(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ji=u,l.target.dispatchEvent(u),Ji=null}else return a=bi(l),a!==null&&Bv(a),s.blockedOn=l,!1;a.shift()}return!0}function qv(s,a,l){Mh(s)&&l.delete(a)}function Ew(){pp=!1,er!==null&&Mh(er)&&(er=null),nr!==null&&Mh(nr)&&(nr=null),ir!==null&&Mh(ir)&&(ir=null),sc.forEach(qv),rc.forEach(qv)}function kh(s,a){s.blockedOn===a&&(s.blockedOn=null,pp||(pp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Ew)))}var Nh=null;function Gv(s){Nh!==s&&(Nh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Nh===s&&(Nh=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],p=s[a+2];if(typeof u!="function"){if(gp(u||l)===null)continue;break}var m=bi(l);m!==null&&(s.splice(a,3),a-=3,gg(m,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function oc(s){function a(N){return kh(N,s)}er!==null&&kh(er,s),nr!==null&&kh(nr,s),ir!==null&&kh(ir,s),sc.forEach(a),rc.forEach(a);for(var l=0;l<sr.length;l++){var u=sr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)Fv(l),l.blockedOn===null&&sr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],m=l[u+1],T=p[Ae]||null;if(typeof m=="function")T||Gv(l);else if(T){var S=null;if(m&&m.hasAttribute("formAction")){if(p=m,T=m[Ae]||null)S=T.formAction;else if(gp(p)!==null)continue}else S=T.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Gv(l)}}}function mp(s){this._internalRoot=s}Ph.prototype.render=mp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=Vn();Uv(l,u,s,a,null,null)},Ph.prototype.unmount=mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Uv(s.current,2,null,s,null,null),mh(),a[qn]=null}};function Ph(s){this._internalRoot=s}Ph.prototype.unstable_scheduleHydration=function(s){if(s){var a=ks();s={blockedOn:null,target:s,priority:a};for(var l=0;l<sr.length&&a!==0&&a<sr[l].priority;l++);sr.splice(l,0,s),l===0&&Fv(s)}};var Yv=t.version;if(Yv!=="19.1.0")throw Error(i(527,Yv,"19.1.0"));X.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var Tw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{me=Lh.inject(Tw),Wt=Lh}catch{}}return cc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,u="",p=l0,m=c0,T=u0,S=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=Lv(s,1,!1,null,null,l,u,p,m,T,S,null),s[qn]=a.current,Zg(s),new mp(a)},cc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var u=!1,p="",m=l0,T=c0,S=u0,N=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(N=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=Lv(s,1,!0,a,l??null,u,p,m,T,S,N,Y),a.context=Vv(null),l=a.current,u=Vn(),u=Ms(u),p=js(u),p.callback=null,Hs(l,p,u),l=u,a.current.lanes=l,Ki(a,l),Ni(a),s[qn]=a.current,Zg(s),new Ph(a)},cc.version="19.1.0",cc}var nb;function Nw(){if(nb)return vp.exports;nb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),vp.exports=kw(),vp.exports}var Pw=Nw();const Lw=()=>{};var ib={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},Vw=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],h=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},WT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,h=c?n[r+1]:0,f=r+2<n.length,g=f?n[r+2]:0,_=o>>2,y=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,x=g&63;f||(x=64,c||(b=64)),i.push(e[_],e[y],e[b],e[x])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(KT(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Vw(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],h=r<n.length?e[n.charAt(r)]:0;++r;const g=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||h==null||g==null||y==null)throw new Uw;const b=o<<2|h>>4;if(i.push(b),g!==64){const x=h<<4&240|g>>2;if(i.push(x),y!==64){const A=g<<6&192|y;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Uw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zw=function(n){const t=KT(n);return WT.encodeByteArray(t,!0)},xf=function(n){return zw(n).replace(/\./g,"")},$T=function(n){try{return WT.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=()=>Bw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof ib>"u")return;const n=ib.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Fw=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&$T(n[1]);return t&&JSON.parse(t)},Qf=()=>{try{return Lw()||jw()||Hw()||Fw()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},QT=n=>{var t,e;return(e=(t=Qf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},ZT=n=>{const t=QT(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},JT=()=>{var n;return(n=Qf())===null||n===void 0?void 0:n.config},tx=n=>{var t;return(t=Qf())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(n){return n.endsWith(".cloudworkstations.dev")}async function Pm(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xf(JSON.stringify(e)),xf(JSON.stringify(c)),""].join(".")}const wc={};function Gw(){const n={prod:[],emulator:[]};for(const t of Object.keys(wc))wc[t]?n.emulator.push(t):n.prod.push(t);return n}function Yw(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let sb=!1;function Lm(n,t){if(typeof window>"u"||typeof document>"u"||!wr(window.location.host)||wc[n]===t||wc[n]||sb)return;wc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",o=Gw().prod.length>0;function c(){const b=document.getElementById(i);b&&b.remove()}function h(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function f(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{sb=!0,c()},b}function _(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function y(){const b=Yw(i),x=e("text"),A=document.getElementById(x)||document.createElement("span"),C=e("learnmore"),I=document.getElementById(C)||document.createElement("a"),U=e("preprendIcon"),B=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const K=b.element;h(K),_(I,C);const Z=g();f(B,U),K.append(B,A,I,Z),document.body.appendChild(K)}o?(A.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function Kw(){var n;const t=(n=Qf())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Ww(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $w(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zw(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Jw(){return!Kw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function eR(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class Yi extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=nR,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?iR(o,i):"Error",h=`${this.serviceName}: ${c} (${r}).`;return new Yi(r,h,i)}}function iR(n,t){return n.replace(sR,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const sR=/\{\$([^}]+)}/g;function rR(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Aa(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(rb(o)&&rb(c)){if(!Aa(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function rb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function _c(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function yc(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function aR(n,t){const e=new oR(n,t);return e.subscribe.bind(e)}class oR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");lR(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=xp),r.error===void 0&&(r.error=xp),r.complete===void 0&&(r.complete=xp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class vr{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new qw;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hR(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uR(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uR(n){return n===pa?void 0:n}function hR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new cR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Nt||(Nt={}));const dR={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},gR=Nt.INFO,pR={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},mR=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=pR[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vm{constructor(t){this.name=t,this._logLevel=gR,this._logHandler=mR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const _R=(n,t)=>t.some(e=>n instanceof e);let ab,ob;function yR(){return ab||(ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return ob||(ob=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nx=new WeakMap,Wp=new WeakMap,ix=new WeakMap,Sp=new WeakMap,Um=new WeakMap;function bR(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(mr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&nx.set(e,n)}).catch(()=>{}),Um.set(t,n),t}function ER(n){if(Wp.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});Wp.set(n,t)}let $p={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Wp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||ix.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return mr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function TR(n){$p=n($p)}function xR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Ap(this),t,...e);return ix.set(i,t.sort?t.sort():[t]),mr(i)}:vR().includes(n)?function(...t){return n.apply(Ap(this),t),mr(nx.get(this))}:function(...t){return mr(n.apply(Ap(this),t))}}function SR(n){return typeof n=="function"?xR(n):(n instanceof IDBTransaction&&ER(n),_R(n,yR())?new Proxy(n,$p):n)}function mr(n){if(n instanceof IDBRequest)return bR(n);if(Sp.has(n))return Sp.get(n);const t=SR(n);return t!==n&&(Sp.set(n,t),Um.set(t,n)),t}const Ap=n=>Um.get(n);function AR(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),h=mr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(mr(c.result),f.oldVersion,f.newVersion,mr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",g=>r(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const wR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],wp=new Map;function lb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(wp.get(t))return wp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=RR.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||wR.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,r?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),r&&f.done]))[0]};return wp.set(t,o),o}TR(n=>({...n,get:(t,e,i)=>lb(t,e)||n.get(t,e,i),has:(t,e)=>!!lb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(IR(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function IR(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qp="@firebase/app",cb="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Vm("@firebase/app"),DR="@firebase/app-compat",OR="@firebase/analytics-compat",MR="@firebase/analytics",kR="@firebase/app-check-compat",NR="@firebase/app-check",PR="@firebase/auth",LR="@firebase/auth-compat",VR="@firebase/database",UR="@firebase/data-connect",zR="@firebase/database-compat",BR="@firebase/functions",jR="@firebase/functions-compat",HR="@firebase/installations",FR="@firebase/installations-compat",qR="@firebase/messaging",GR="@firebase/messaging-compat",YR="@firebase/performance",XR="@firebase/performance-compat",KR="@firebase/remote-config",WR="@firebase/remote-config-compat",$R="@firebase/storage",QR="@firebase/storage-compat",ZR="@firebase/firestore",JR="@firebase/ai",tC="@firebase/firestore-compat",eC="firebase",nC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="[DEFAULT]",iC={[Qp]:"fire-core",[DR]:"fire-core-compat",[MR]:"fire-analytics",[OR]:"fire-analytics-compat",[NR]:"fire-app-check",[kR]:"fire-app-check-compat",[PR]:"fire-auth",[LR]:"fire-auth-compat",[VR]:"fire-rtdb",[UR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[BR]:"fire-fn",[jR]:"fire-fn-compat",[HR]:"fire-iid",[FR]:"fire-iid-compat",[qR]:"fire-fcm",[GR]:"fire-fcm-compat",[YR]:"fire-perf",[XR]:"fire-perf-compat",[KR]:"fire-rc",[WR]:"fire-rc-compat",[$R]:"fire-gcs",[QR]:"fire-gcs-compat",[ZR]:"fire-fst",[tC]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,sC=new Map,Jp=new Map;function ub(n,t){try{n.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function wa(n){const t=n.name;if(Jp.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;Jp.set(t,n);for(const e of Sf.values())ub(e,n);for(const e of sC.values())ub(e,n);return!0}function Zf(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new eu("app","Firebase",rC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=nC;function sx(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Zp,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw _r.create("bad-app-name",{appName:String(r)});if(e||(e=JT()),!e)throw _r.create("no-options");const o=Sf.get(r);if(o){if(Aa(e,o.options)&&Aa(i,o.config))return o;throw _r.create("duplicate-app",{appName:r})}const c=new fR(r);for(const f of Jp.values())c.addComponent(f);const h=new aC(e,i,c);return Sf.set(r,h),h}function zm(n=Zp){const t=Sf.get(n);if(!t&&n===Zp&&JT())return sx();if(!t)throw _r.create("no-app",{appName:n});return t}function Bi(n,t,e){var i;let r=(i=iC[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const h=[`Unable to register library "${r}" with version "${t}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(h.join(" "));return}wa(new vr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebase-heartbeat-database",lC=1,Uc="firebase-heartbeat-store";let Rp=null;function rx(){return Rp||(Rp=AR(oC,lC,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Uc)}catch(e){console.warn(e)}}}}).catch(n=>{throw _r.create("idb-open",{originalErrorMessage:n.message})})),Rp}async function cC(n){try{const e=(await rx()).transaction(Uc),i=await e.objectStore(Uc).get(ax(n));return await e.done,i}catch(t){if(t instanceof Yi)Ds.warn(t.message);else{const e=_r.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ds.warn(e.message)}}}async function hb(n,t){try{const i=(await rx()).transaction(Uc,"readwrite");await i.objectStore(Uc).put(t,ax(n)),await i.done}catch(e){if(e instanceof Yi)Ds.warn(e.message);else{const i=_r.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(i.message)}}}function ax(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=1024,hC=30;class fC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new gC(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>hC){const c=pC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ds.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fb(),{heartbeatsToSend:i,unsentEntries:r}=dC(this._heartbeatsCache.heartbeats),o=xf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ds.warn(e),""}}}function fb(){return new Date().toISOString().substring(0,10)}function dC(n,t=uC){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),db(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),db(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class gC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?eR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await cC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return hb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return hb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function db(n){return xf(JSON.stringify({version:2,heartbeats:n})).length}function pC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(n){wa(new vr("platform-logger",t=>new CR(t),"PRIVATE")),wa(new vr("heartbeat",t=>new fC(t),"PRIVATE")),Bi(Qp,cb,n),Bi(Qp,cb,"esm2017"),Bi("fire-js","")}mC("");var _C="firebase",yC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(_C,yC,"app");function Bm(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function ox(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vC=ox,lx=new eu("auth","Firebase",ox());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af=new Vm("@firebase/auth");function bC(n,...t){Af.logLevel<=Nt.WARN&&Af.warn(`Auth (${La}): ${n}`,...t)}function af(n,...t){Af.logLevel<=Nt.ERROR&&Af.error(`Auth (${La}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(n,...t){throw jm(n,...t)}function ji(n,...t){return jm(n,...t)}function cx(n,t,e){const i=Object.assign(Object.assign({},vC()),{[t]:e});return new eu("auth","Firebase",i).create(t,{appName:n.name})}function Rs(n){return cx(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jm(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return lx.create(n,...t)}function Tt(n,t,...e){if(!n)throw jm(t,...e)}function Ts(n){const t="INTERNAL ASSERTION FAILED: "+n;throw af(t),new Error(t)}function Os(n,t){n||Ts(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function EC(){return gb()==="http:"||gb()==="https:"}function gb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EC()||$w()||"connection"in navigator)?navigator.onLine:!0}function xC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=Xw()||Qw()}get(){return TC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(n,t){Os(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wC=new iu(3e4,6e4);function Rr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Cr(n,t,e,i,r={}){return hx(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=nu(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:t,headers:f},o);return Ww()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&wr(n.emulatorConfig.host)&&(g.credentials="include"),ux.fetch()(await fx(n,n.config.apiHost,e,h),g)})}async function hx(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},SC),t);try{const r=new CC(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Vh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Vh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Vh(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw cx(n,_,g);pi(n,_)}}catch(r){if(r instanceof Yi)throw r;pi(n,"network-request-failed",{message:String(r)})}}async function su(n,t,e,i,r={}){const o=await Cr(n,t,e,i,r);return"mfaPendingCredential"in o&&pi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function fx(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?Hm(n.config,r):`${n.config.apiScheme}://${r}`;return AC.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function RC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(ji(this.auth,"network-request-failed")),wC.get())})}}function Vh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=ji(n,t,i);return r.customData._tokenResponse=e,r}function pb(n){return n!==void 0&&n.enterprise!==void 0}class IC{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return RC(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DC(n,t){return Cr(n,"GET","/v2/recaptchaConfig",Rr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,t){return Cr(n,"POST","/v1/accounts:delete",t)}async function wf(n,t){return Cr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function MC(n,t=!1){const e=rn(n),i=await e.getIdToken(t),r=Fm(i);Tt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Rc(Cp(r.auth_time)),issuedAtTime:Rc(Cp(r.iat)),expirationTime:Rc(Cp(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Cp(n){return Number(n)*1e3}function Fm(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const r=$T(e);return r?JSON.parse(r):(af("Failed to decode base64 JWT payload"),null)}catch(r){return af("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function mb(n){const t=Fm(n);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Yi&&kC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function kC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rc(this.lastLoginAt),this.creationTime=Rc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(n){var t;const e=n.auth,i=await n.getIdToken(),r=await zc(n,wf(e,{idToken:i}));Tt(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?dx(o.providerUserInfo):[],h=LC(n.providerData,c),f=n.isAnonymous,g=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),_=f?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(n,y)}async function PC(n){const t=rn(n);await Rf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function LC(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function dx(n){return n.map(t=>{var{providerId:e}=t,i=Bm(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VC(n,t){const e=await hx(n,{},async()=>{const i=nu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await fx(n,r,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&wr(n.emulatorConfig.host)&&(f.credentials="include"),ux.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function UC(n,t){return Cr(n,"POST","/v2/accounts:revokeToken",Rr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const e=mb(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await VC(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new zo;return i&&(Tt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Tt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Tt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(n,t){Tt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class hi{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=Bm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await zc(this,this.stsTokenManager.getToken(this.auth,t));return Tt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return MC(this,t)}reload(){return PC(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new hi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Rf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bn(this.auth.app))return Promise.reject(Rs(this.auth));const t=await this.getIdToken();return await zc(this,OC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,h,f,g,_;const y=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(r=e.email)!==null&&r!==void 0?r:void 0,x=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,A=(c=e.photoURL)!==null&&c!==void 0?c:void 0,C=(h=e.tenantId)!==null&&h!==void 0?h:void 0,I=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,U=(g=e.createdAt)!==null&&g!==void 0?g:void 0,B=(_=e.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:Z,isAnonymous:G,providerData:rt,stsTokenManager:M}=e;Tt(K&&M,t,"internal-error");const w=zo.fromJSON(this.name,M);Tt(typeof K=="string",t,"internal-error"),ar(y,t.name),ar(b,t.name),Tt(typeof Z=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),ar(x,t.name),ar(A,t.name),ar(C,t.name),ar(I,t.name),ar(U,t.name),ar(B,t.name);const D=new hi({uid:K,auth:t,email:b,emailVerified:Z,displayName:y,isAnonymous:G,photoURL:A,phoneNumber:x,tenantId:C,stsTokenManager:w,createdAt:U,lastLoginAt:B});return rt&&Array.isArray(rt)&&(D.providerData=rt.map(P=>Object.assign({},P))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(t,e,i=!1){const r=new zo;r.updateFromServerResponse(e);const o=new hi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Rf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Tt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?dx(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),h=new zo;h.updateFromIdToken(i);const f=new hi({uid:r.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new em(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,g),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Map;function xs(n){Os(n instanceof Function,"Expected a class definition");let t=_b.get(n);return t?(Os(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,_b.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}gx.type="NONE";const yb=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(n,t,e){return`firebase:${n}:${t}:${e}`}class Bo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=of(this.userKey,r.apiKey,o),this.fullPersistenceKey=of("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await wf(this.auth,{idToken:t}).catch(()=>{});return e?hi._fromGetAccountInfoResponse(this.auth,e,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Bo(xs(yb),t,i);const r=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=r[0]||xs(yb);const c=of(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const _=await g._get(c);if(_){let y;if(typeof _=="string"){const b=await wf(t,{idToken:_}).catch(()=>{});if(!b)break;y=await hi._fromGetAccountInfoResponse(t,b,_)}else y=hi._fromJSON(t,_);g!==o&&(h=y),o=g;break}}catch{}const f=r.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Bo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new Bo(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(px(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bx(t))return"Blackberry";if(Ex(t))return"Webos";if(mx(t))return"Safari";if((t.includes("chrome/")||_x(t))&&!t.includes("edge/"))return"Chrome";if(vx(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function px(n=pn()){return/firefox\//i.test(n)}function mx(n=pn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _x(n=pn()){return/crios\//i.test(n)}function yx(n=pn()){return/iemobile/i.test(n)}function vx(n=pn()){return/android/i.test(n)}function bx(n=pn()){return/blackberry/i.test(n)}function Ex(n=pn()){return/webos/i.test(n)}function qm(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zC(n=pn()){var t;return qm(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function BC(){return Zw()&&document.documentMode===10}function Tx(n=pn()){return qm(n)||vx(n)||Ex(n)||bx(n)||/windows phone/i.test(n)||yx(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n,t=[]){let e;switch(n){case"Browser":e=vb(pn());break;case"Worker":e=`${vb(pn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${La}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,t={}){return Cr(n,"GET","/v2/passwordPolicy",Rr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=6;class qC{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:FC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(r=f.containsLowercaseLetter)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bb(this),this.idTokenSubscription=new bb(this),this.beforeStateQueue=new jC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xs(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await wf(this,{idToken:t}),i=await hi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Bn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,h=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(t);(!c||c===h)&&(f!=null&&f.user)&&(r=f.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Rf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bn(this.app))return Promise.reject(Rs(this));const e=t?rn(t):null;return e&&Tt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bn(this.app)?Promise.reject(Rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bn(this.app)?Promise.reject(Rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await HC(this),e=new qC(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await UC(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&xs(t)||this._popupRedirectResolver;Tt(e,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[xs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&bC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Va(n){return rn(n)}class bb{constructor(t){this.auth=t,this.observer=null,this.addObserver=aR(e=>this.observer=e)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YC(n){Jf=n}function Sx(n){return Jf.loadJS(n)}function XC(){return Jf.recaptchaEnterpriseScript}function KC(){return Jf.gapiScript}function WC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $C{constructor(){this.enterprise=new QC}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class QC{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const ZC="recaptcha-enterprise",Ax="NO_RECAPTCHA";class JC{constructor(t){this.type=ZC,this.auth=Va(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{DC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new IC(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function r(o,c,h){const f=window.grecaptcha;pb(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(Ax)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $C().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&pb(window.grecaptcha))r(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=XC();f.length!==0&&(f+=h),Sx(f).then(()=>{r(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function Eb(n,t,e,i=!1,r=!1){const o=new JC(n);let c;if(r)c=Ax;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function nm(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Eb(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Eb(n,t,e,e==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(n,t){const e=Zf(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Aa(o,t??{}))return r;pi(r,"already-initialized")}return e.initialize({options:t})}function e2(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(xs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function n2(n,t,e){const i=Va(n);Tt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=wx(t),{host:c,port:h}=i2(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},_=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Tt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Tt(Aa(g,i.config.emulator)&&Aa(_,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=_,i.settings.appVerificationDisabledForTesting=!0,wr(c)?(Pm(`${o}//${c}${f}`),Lm("Auth",!0)):s2()}function wx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function i2(n){const t=wx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Tb(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:Tb(c)}}}function Tb(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function s2(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ts("not implemented")}_getIdTokenResponse(t){return Ts("not implemented")}_linkToIdToken(t,e){return Ts("not implemented")}_getReauthenticationResolver(t){return Ts("not implemented")}}async function r2(n,t){return Cr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(n,t){return su(n,"POST","/v1/accounts:signInWithPassword",Rr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(n,t){return su(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,t))}async function l2(n,t){return su(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends Gm{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Bc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Bc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(t,e,"signInWithPassword",a2);case"emailLink":return o2(t,{email:this._email,oobCode:this._password});default:pi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(t,i,"signUpPassword",r2);case"emailLink":return l2(t,{idToken:e,email:this._email,oobCode:this._password});default:pi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n,t){return su(n,"POST","/v1/accounts:signInWithIdp",Rr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="http://localhost";class Ra extends Gm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ra(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):pi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=Bm(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Ra(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return jo(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,jo(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,jo(t,e)}buildRequest(){const t={requestUri:c2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=nu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h2(n){const t=_c(yc(n)).link,e=t?_c(yc(t)).deep_link_id:null,i=_c(yc(n)).deep_link_id;return(i?_c(yc(i)).link:null)||i||e||t||n}class Ym{constructor(t){var e,i,r,o,c,h;const f=_c(yc(t)),g=(e=f.apiKey)!==null&&e!==void 0?e:null,_=(i=f.oobCode)!==null&&i!==void 0?i:null,y=u2((r=f.mode)!==null&&r!==void 0?r:null);Tt(g&&_&&y,"argument-error"),this.apiKey=g,this.operation=y,this.code=_,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=f.lang)!==null&&c!==void 0?c:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(t){const e=h2(t);try{return new Ym(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.providerId=Zo.PROVIDER_ID}static credential(t,e){return Bc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Ym.parseLink(e);return Tt(i,"argument-error"),Bc._fromEmailAndCode(t,i.code,i.tenantId)}}Zo.PROVIDER_ID="password";Zo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Rx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends ru{constructor(){super("facebook.com")}static credential(t){return Ra._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ra._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return lr.credential(e,i)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends ru{constructor(){super("github.com")}static credential(t){return Ra._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends ru{constructor(){super("twitter.com")}static credential(t,e){return Ra._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ur.credential(e,i)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(n,t){return su(n,"POST","/v1/accounts:signUp",Rr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await hi._fromIdTokenResponse(t,i,r),c=xb(i);return new Ca({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=xb(i);return new Ca({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function xb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends Yi{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Cf.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Cf(t,e,i,r)}}function Cx(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cf._fromErrorAndOperation(n,o,t,i):o})}async function d2(n,t,e=!1){const i=await zc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ca._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2(n,t,e=!1){const{auth:i}=n;if(Bn(i.app))return Promise.reject(Rs(i));const r="reauthenticate";try{const o=await zc(n,Cx(i,r,t,n),e);Tt(o.idToken,i,"internal-error");const c=Fm(o.idToken);Tt(c,i,"internal-error");const{sub:h}=c;return Tt(n.uid===h,i,"user-mismatch"),Ca._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&pi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(n,t,e=!1){if(Bn(n.app))return Promise.reject(Rs(n));const i="signIn",r=await Cx(n,i,t),o=await Ca._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function p2(n,t){return Ix(Va(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(n){const t=Va(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function m2(n,t,e){if(Bn(n.app))return Promise.reject(Rs(n));const i=Va(n),c=await nm(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f2).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Dx(n),f}),h=await Ca._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function _2(n,t,e){return Bn(n.app)?Promise.reject(Rs(n)):p2(rn(n),Zo.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Dx(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(n,t){return rn(n).setPersistence(t)}function v2(n,t,e,i){return rn(n).onIdTokenChanged(t,e,i)}function b2(n,t,e){return rn(n).beforeAuthStateChanged(t,e)}function E2(n,t,e,i){return rn(n).onAuthStateChanged(t,e,i)}function T2(n){return rn(n).signOut()}const If="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(If,"1"),this.storage.removeItem(If),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=1e3,S2=10;class Mx extends Ox{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);BC()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,S2):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Mx.type="LOCAL";const A2=Mx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends Ox{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}kx.type="SESSION";const Xm=kx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new td(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await w2(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=Km("",20);r.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(y){const b=y;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(b.data.response);break;default:clearTimeout(_),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return window}function C2(n){Hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function I2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function O2(){return Nx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebaseLocalStorageDb",M2=1,Df="firebaseLocalStorage",Lx="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ed(n,t){return n.transaction([Df],t?"readwrite":"readonly").objectStore(Df)}function k2(){const n=indexedDB.deleteDatabase(Px);return new au(n).toPromise()}function im(){const n=indexedDB.open(Px,M2);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Df,{keyPath:Lx})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Df)?t(i):(i.close(),await k2(),t(await im()))})})}async function Sb(n,t,e){const i=ed(n,!0).put({[Lx]:t,value:e});return new au(i).toPromise()}async function N2(n,t){const e=ed(n,!1).get(t),i=await new au(e).toPromise();return i===void 0?null:i.value}function Ab(n,t){const e=ed(n,!0).delete(t);return new au(e).toPromise()}const P2=800,L2=3;class Vx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>L2)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(O2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await I2(),!this.activeServiceWorker)return;this.sender=new R2(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||D2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await Sb(t,If,"1"),await Ab(t,If),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sb(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>N2(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ab(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=ed(r,!1).getAll();return new au(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vx.type="LOCAL";const V2=Vx;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(n,t){return t?xs(t):(Tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends Gm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jo(t,this._buildIdpRequest())}_linkToIdToken(t,e){return jo(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return jo(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function z2(n){return Ix(n.auth,new Wm(n),n.bypassAuthState)}function B2(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),g2(e,new Wm(n),n.bypassAuthState)}async function j2(n){const{auth:t,user:e}=n;return Tt(e,t,"internal-error"),d2(e,new Wm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return z2;case"linkViaPopup":case"linkViaRedirect":return j2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:pi(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new iu(2e3,1e4);class Uo extends Ux{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=Km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,H2.get())};t()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="pendingRedirect",lf=new Map;class q2 extends Ux{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=lf.get(this.auth._key());if(!t){try{const i=await G2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}lf.set(this.auth._key(),t)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G2(n,t){const e=K2(t),i=X2(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function Y2(n,t){lf.set(n._key(),t)}function X2(n){return xs(n._redirectPersistence)}function K2(n){return of(F2,n.config.apiKey,n.name)}async function W2(n,t,e=!1){if(Bn(n.app))return Promise.reject(Rs(n));const i=Va(n),r=U2(i,t),c=await new q2(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=10*60*1e3;class Q2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Z2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!zx(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(ji(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$2&&this.cachedEventUids.clear(),this.cachedEventUids.has(wb(t))}saveEventToCache(t){this.cachedEventUids.add(wb(t)),this.lastProcessedEventTime=Date.now()}}function wb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function zx({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Z2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zx(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J2(n,t={}){return Cr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eI=/^https?/;async function nI(n){if(n.config.emulator)return;const{authorizedDomains:t}=await J2(n);for(const e of t)try{if(iI(e))return}catch{}pi(n,"unauthorized-domain")}function iI(n){const t=tm(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!eI.test(e))return!1;if(tI.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new iu(3e4,6e4);function Rb(){const n=Hi().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function rI(n){return new Promise((t,e)=>{var i,r,o;function c(){Rb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rb(),e(ji(n,"network-request-failed"))},timeout:sI.get()})}if(!((r=(i=Hi().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Hi().gapi)===null||o===void 0)&&o.load)c();else{const h=WC("iframefcb");return Hi()[h]=()=>{gapi.load?c():e(ji(n,"network-request-failed"))},Sx(`${KC()}?onload=${h}`).catch(f=>e(f))}}).catch(t=>{throw cf=null,t})}let cf=null;function aI(n){return cf=cf||rI(n),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=new iu(5e3,15e3),lI="__/auth/iframe",cI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fI(n){const t=n.config;Tt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Hm(t,cI):`https://${n.config.authDomain}/${lI}`,i={apiKey:t.apiKey,appName:n.name,v:La},r=hI.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${nu(i).slice(1)}`}async function dI(n){const t=await aI(n),e=Hi().gapi;return Tt(e,n,"internal-error"),t.open({where:document.body,url:fI(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=ji(n,"network-request-failed"),h=Hi().setTimeout(()=>{o(c)},oI.get());function f(){Hi().clearTimeout(h),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pI=500,mI=600,_I="_blank",yI="http://localhost";class Cb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vI(n,t,e,i=pI,r=mI){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},gI),{width:i.toString(),height:r.toString(),top:o,left:c}),g=pn().toLowerCase();e&&(h=_x(g)?_I:e),px(g)&&(t=t||yI,f.scrollbars="yes");const _=Object.entries(f).reduce((b,[x,A])=>`${b}${x}=${A},`,"");if(zC(g)&&h!=="_self")return bI(t||"",h),new Cb(null);const y=window.open(t||"",h,_);Tt(y,n,"popup-blocked");try{y.focus()}catch{}return new Cb(y)}function bI(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="__/auth/handler",TI="emulator/auth/handler",xI=encodeURIComponent("fac");async function Ib(n,t,e,i,r,o){Tt(n.config.authDomain,n,"auth-domain-config-required"),Tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:La,eventId:r};if(t instanceof Rx){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",rR(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,y]of Object.entries({}))c[_]=y}if(t instanceof ru){const _=t.getScopes().filter(y=>y!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),g=f?`#${xI}=${encodeURIComponent(f)}`:"";return`${SI(n)}?${nu(h).slice(1)}${g}`}function SI({config:n}){return n.emulator?Hm(n,TI):`https://${n.authDomain}/${EI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class AI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xm,this._completeRedirectFn=W2,this._overrideRedirectResult=Y2}async _openPopup(t,e,i,r){var o;Os((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await Ib(t,e,i,tm(),r);return vI(t,c,Km())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Ib(t,e,i,tm(),r);return C2(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Os(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await dI(t),i=new Q2(t);return e.register("authEvent",r=>(Tt(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Ip,{type:Ip},r=>{var o;const c=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Ip];c!==void 0&&e(!!c),pi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=nI(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Tx()||mx()||qm()}}const wI=AI;var Db="@firebase/auth",Ob="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function II(n){wa(new vr("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Tt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xx(n)},g=new GC(i,r,o,f);return e2(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),wa(new vr("auth-internal",t=>{const e=Va(t.getProvider("auth").getImmediate());return(i=>new RI(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bi(Db,Ob,CI(n)),Bi(Db,Ob,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=5*60,OI=tx("authIdTokenMaxAge")||DI;let Mb=null;const MI=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>OI)return;const r=e==null?void 0:e.token;Mb!==r&&(Mb=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function kI(n=zm()){const t=Zf(n,"auth");if(t.isInitialized())return t.getImmediate();const e=t2(n,{popupRedirectResolver:wI,persistence:[V2,A2,Xm]}),i=tx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=MI(o.toString());b2(e,c,()=>c(e.currentUser)),v2(e,h=>c(h))}}const r=QT("auth");return r&&n2(e,`http://${r}`),e}function NI(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}YC({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=ji("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",NI().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});II("Browser");var kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $m;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function D(){}D.prototype=w.prototype,M.D=w.prototype,M.prototype=new D,M.prototype.constructor=M,M.C=function(P,L,V){for(var k=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)k[Bt-2]=arguments[Bt];return w.prototype[L].apply(P,k)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,w,D){D||(D=0);var P=Array(16);if(typeof w=="string")for(var L=0;16>L;++L)P[L]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(L=0;16>L;++L)P[L]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=M.g[0],D=M.g[1],L=M.g[2];var V=M.g[3],k=w+(V^D&(L^V))+P[0]+3614090360&4294967295;w=D+(k<<7&4294967295|k>>>25),k=V+(L^w&(D^L))+P[1]+3905402710&4294967295,V=w+(k<<12&4294967295|k>>>20),k=L+(D^V&(w^D))+P[2]+606105819&4294967295,L=V+(k<<17&4294967295|k>>>15),k=D+(w^L&(V^w))+P[3]+3250441966&4294967295,D=L+(k<<22&4294967295|k>>>10),k=w+(V^D&(L^V))+P[4]+4118548399&4294967295,w=D+(k<<7&4294967295|k>>>25),k=V+(L^w&(D^L))+P[5]+1200080426&4294967295,V=w+(k<<12&4294967295|k>>>20),k=L+(D^V&(w^D))+P[6]+2821735955&4294967295,L=V+(k<<17&4294967295|k>>>15),k=D+(w^L&(V^w))+P[7]+4249261313&4294967295,D=L+(k<<22&4294967295|k>>>10),k=w+(V^D&(L^V))+P[8]+1770035416&4294967295,w=D+(k<<7&4294967295|k>>>25),k=V+(L^w&(D^L))+P[9]+2336552879&4294967295,V=w+(k<<12&4294967295|k>>>20),k=L+(D^V&(w^D))+P[10]+4294925233&4294967295,L=V+(k<<17&4294967295|k>>>15),k=D+(w^L&(V^w))+P[11]+2304563134&4294967295,D=L+(k<<22&4294967295|k>>>10),k=w+(V^D&(L^V))+P[12]+1804603682&4294967295,w=D+(k<<7&4294967295|k>>>25),k=V+(L^w&(D^L))+P[13]+4254626195&4294967295,V=w+(k<<12&4294967295|k>>>20),k=L+(D^V&(w^D))+P[14]+2792965006&4294967295,L=V+(k<<17&4294967295|k>>>15),k=D+(w^L&(V^w))+P[15]+1236535329&4294967295,D=L+(k<<22&4294967295|k>>>10),k=w+(L^V&(D^L))+P[1]+4129170786&4294967295,w=D+(k<<5&4294967295|k>>>27),k=V+(D^L&(w^D))+P[6]+3225465664&4294967295,V=w+(k<<9&4294967295|k>>>23),k=L+(w^D&(V^w))+P[11]+643717713&4294967295,L=V+(k<<14&4294967295|k>>>18),k=D+(V^w&(L^V))+P[0]+3921069994&4294967295,D=L+(k<<20&4294967295|k>>>12),k=w+(L^V&(D^L))+P[5]+3593408605&4294967295,w=D+(k<<5&4294967295|k>>>27),k=V+(D^L&(w^D))+P[10]+38016083&4294967295,V=w+(k<<9&4294967295|k>>>23),k=L+(w^D&(V^w))+P[15]+3634488961&4294967295,L=V+(k<<14&4294967295|k>>>18),k=D+(V^w&(L^V))+P[4]+3889429448&4294967295,D=L+(k<<20&4294967295|k>>>12),k=w+(L^V&(D^L))+P[9]+568446438&4294967295,w=D+(k<<5&4294967295|k>>>27),k=V+(D^L&(w^D))+P[14]+3275163606&4294967295,V=w+(k<<9&4294967295|k>>>23),k=L+(w^D&(V^w))+P[3]+4107603335&4294967295,L=V+(k<<14&4294967295|k>>>18),k=D+(V^w&(L^V))+P[8]+1163531501&4294967295,D=L+(k<<20&4294967295|k>>>12),k=w+(L^V&(D^L))+P[13]+2850285829&4294967295,w=D+(k<<5&4294967295|k>>>27),k=V+(D^L&(w^D))+P[2]+4243563512&4294967295,V=w+(k<<9&4294967295|k>>>23),k=L+(w^D&(V^w))+P[7]+1735328473&4294967295,L=V+(k<<14&4294967295|k>>>18),k=D+(V^w&(L^V))+P[12]+2368359562&4294967295,D=L+(k<<20&4294967295|k>>>12),k=w+(D^L^V)+P[5]+4294588738&4294967295,w=D+(k<<4&4294967295|k>>>28),k=V+(w^D^L)+P[8]+2272392833&4294967295,V=w+(k<<11&4294967295|k>>>21),k=L+(V^w^D)+P[11]+1839030562&4294967295,L=V+(k<<16&4294967295|k>>>16),k=D+(L^V^w)+P[14]+4259657740&4294967295,D=L+(k<<23&4294967295|k>>>9),k=w+(D^L^V)+P[1]+2763975236&4294967295,w=D+(k<<4&4294967295|k>>>28),k=V+(w^D^L)+P[4]+1272893353&4294967295,V=w+(k<<11&4294967295|k>>>21),k=L+(V^w^D)+P[7]+4139469664&4294967295,L=V+(k<<16&4294967295|k>>>16),k=D+(L^V^w)+P[10]+3200236656&4294967295,D=L+(k<<23&4294967295|k>>>9),k=w+(D^L^V)+P[13]+681279174&4294967295,w=D+(k<<4&4294967295|k>>>28),k=V+(w^D^L)+P[0]+3936430074&4294967295,V=w+(k<<11&4294967295|k>>>21),k=L+(V^w^D)+P[3]+3572445317&4294967295,L=V+(k<<16&4294967295|k>>>16),k=D+(L^V^w)+P[6]+76029189&4294967295,D=L+(k<<23&4294967295|k>>>9),k=w+(D^L^V)+P[9]+3654602809&4294967295,w=D+(k<<4&4294967295|k>>>28),k=V+(w^D^L)+P[12]+3873151461&4294967295,V=w+(k<<11&4294967295|k>>>21),k=L+(V^w^D)+P[15]+530742520&4294967295,L=V+(k<<16&4294967295|k>>>16),k=D+(L^V^w)+P[2]+3299628645&4294967295,D=L+(k<<23&4294967295|k>>>9),k=w+(L^(D|~V))+P[0]+4096336452&4294967295,w=D+(k<<6&4294967295|k>>>26),k=V+(D^(w|~L))+P[7]+1126891415&4294967295,V=w+(k<<10&4294967295|k>>>22),k=L+(w^(V|~D))+P[14]+2878612391&4294967295,L=V+(k<<15&4294967295|k>>>17),k=D+(V^(L|~w))+P[5]+4237533241&4294967295,D=L+(k<<21&4294967295|k>>>11),k=w+(L^(D|~V))+P[12]+1700485571&4294967295,w=D+(k<<6&4294967295|k>>>26),k=V+(D^(w|~L))+P[3]+2399980690&4294967295,V=w+(k<<10&4294967295|k>>>22),k=L+(w^(V|~D))+P[10]+4293915773&4294967295,L=V+(k<<15&4294967295|k>>>17),k=D+(V^(L|~w))+P[1]+2240044497&4294967295,D=L+(k<<21&4294967295|k>>>11),k=w+(L^(D|~V))+P[8]+1873313359&4294967295,w=D+(k<<6&4294967295|k>>>26),k=V+(D^(w|~L))+P[15]+4264355552&4294967295,V=w+(k<<10&4294967295|k>>>22),k=L+(w^(V|~D))+P[6]+2734768916&4294967295,L=V+(k<<15&4294967295|k>>>17),k=D+(V^(L|~w))+P[13]+1309151649&4294967295,D=L+(k<<21&4294967295|k>>>11),k=w+(L^(D|~V))+P[4]+4149444226&4294967295,w=D+(k<<6&4294967295|k>>>26),k=V+(D^(w|~L))+P[11]+3174756917&4294967295,V=w+(k<<10&4294967295|k>>>22),k=L+(w^(V|~D))+P[2]+718787259&4294967295,L=V+(k<<15&4294967295|k>>>17),k=D+(V^(L|~w))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(L+(k<<21&4294967295|k>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+V&4294967295}i.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var D=w-this.blockSize,P=this.B,L=this.h,V=0;V<w;){if(L==0)for(;V<=D;)r(this,M,V),V+=this.blockSize;if(typeof M=="string"){for(;V<w;)if(P[L++]=M.charCodeAt(V++),L==this.blockSize){r(this,P),L=0;break}}else for(;V<w;)if(P[L++]=M[V++],L==this.blockSize){r(this,P),L=0;break}}this.h=L,this.o+=w},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var D=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=D&255,D/=256;for(this.u(M),M=Array(16),w=D=0;4>w;++w)for(var P=0;32>P;P+=8)M[D++]=this.g[w]>>>P&255;return M};function o(M,w){var D=h;return Object.prototype.hasOwnProperty.call(D,M)?D[M]:D[M]=w(M)}function c(M,w){this.h=w;for(var D=[],P=!0,L=M.length-1;0<=L;L--){var V=M[L]|0;P&&V==w||(D[L]=V,P=!1)}this.g=D}var h={};function f(M){return-128<=M&&128>M?o(M,function(w){return new c([w|0],0>w?-1:0)}):new c([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return I(g(-M));for(var w=[],D=1,P=0;M>=D;P++)w[P]=M/D|0,D*=4294967296;return new c(w,0)}function _(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return I(_(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(w,8)),P=y,L=0;L<M.length;L+=8){var V=Math.min(8,M.length-L),k=parseInt(M.substring(L,L+V),w);8>V?(V=g(Math.pow(w,V)),P=P.j(V).add(g(k))):(P=P.j(D),P=P.add(g(k)))}return P}var y=f(0),b=f(1),x=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-I(this).m();for(var M=0,w=1,D=0;D<this.g.length;D++){var P=this.i(D);M+=(0<=P?P:4294967296+P)*w,w*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(C(this))return"-"+I(this).toString(M);for(var w=g(Math.pow(M,6)),D=this,P="";;){var L=Z(D,w).g;D=U(D,L.j(w));var V=((0<D.g.length?D.g[0]:D.h)>>>0).toString(M);if(D=L,A(D))return V+P;for(;6>V.length;)V="0"+V;P=V+P}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function C(M){return M.h==-1}n.l=function(M){return M=U(this,M),C(M)?-1:A(M)?0:1};function I(M){for(var w=M.g.length,D=[],P=0;P<w;P++)D[P]=~M.g[P];return new c(D,~M.h).add(b)}n.abs=function(){return C(this)?I(this):this},n.add=function(M){for(var w=Math.max(this.g.length,M.g.length),D=[],P=0,L=0;L<=w;L++){var V=P+(this.i(L)&65535)+(M.i(L)&65535),k=(V>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);P=k>>>16,V&=65535,k&=65535,D[L]=k<<16|V}return new c(D,D[D.length-1]&-2147483648?-1:0)};function U(M,w){return M.add(I(w))}n.j=function(M){if(A(this)||A(M))return y;if(C(this))return C(M)?I(this).j(I(M)):I(I(this).j(M));if(C(M))return I(this.j(I(M)));if(0>this.l(x)&&0>M.l(x))return g(this.m()*M.m());for(var w=this.g.length+M.g.length,D=[],P=0;P<2*w;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<M.g.length;L++){var V=this.i(P)>>>16,k=this.i(P)&65535,Bt=M.i(L)>>>16,vt=M.i(L)&65535;D[2*P+2*L]+=k*vt,B(D,2*P+2*L),D[2*P+2*L+1]+=V*vt,B(D,2*P+2*L+1),D[2*P+2*L+1]+=k*Bt,B(D,2*P+2*L+1),D[2*P+2*L+2]+=V*Bt,B(D,2*P+2*L+2)}for(P=0;P<w;P++)D[P]=D[2*P+1]<<16|D[2*P];for(P=w;P<2*w;P++)D[P]=0;return new c(D,0)};function B(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function K(M,w){this.g=M,this.h=w}function Z(M,w){if(A(w))throw Error("division by zero");if(A(M))return new K(y,y);if(C(M))return w=Z(I(M),w),new K(I(w.g),I(w.h));if(C(w))return w=Z(M,I(w)),new K(I(w.g),w.h);if(30<M.g.length){if(C(M)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var D=b,P=w;0>=P.l(M);)D=G(D),P=G(P);var L=rt(D,1),V=rt(P,1);for(P=rt(P,2),D=rt(D,2);!A(P);){var k=V.add(P);0>=k.l(M)&&(L=L.add(D),V=k),P=rt(P,1),D=rt(D,1)}return w=U(M,L.j(w)),new K(L,w)}for(L=y;0<=M.l(w);){for(D=Math.max(1,Math.floor(M.m()/w.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),V=g(D),k=V.j(w);C(k)||0<k.l(M);)D-=P,V=g(D),k=V.j(w);A(V)&&(V=b),L=L.add(V),M=U(M,k)}return new K(L,M)}n.A=function(M){return Z(this,M).h},n.and=function(M){for(var w=Math.max(this.g.length,M.g.length),D=[],P=0;P<w;P++)D[P]=this.i(P)&M.i(P);return new c(D,this.h&M.h)},n.or=function(M){for(var w=Math.max(this.g.length,M.g.length),D=[],P=0;P<w;P++)D[P]=this.i(P)|M.i(P);return new c(D,this.h|M.h)},n.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),D=[],P=0;P<w;P++)D[P]=this.i(P)^M.i(P);return new c(D,this.h^M.h)};function G(M){for(var w=M.g.length+1,D=[],P=0;P<w;P++)D[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(D,M.h)}function rt(M,w){var D=w>>5;w%=32;for(var P=M.g.length-D,L=[],V=0;V<P;V++)L[V]=0<w?M.i(V+D)>>>w|M.i(V+D+1)<<32-w:M.i(V+D);return new c(L,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,$m=c}).apply(typeof kb<"u"?kb:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Bx,vc,jx,uf,sm,Hx,Fx,qx;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function r(d,v){if(v)t:{var E=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var F=d[R];if(!(F in E))break t;E=E[F]}d=d[d.length-1],R=E[d],v=v(R),v!=R&&v!=null&&t(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,R=!1,F={next:function(){if(!R&&E<d.length){var J=E++;return{value:v(J,d[J]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}r("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function _(d,v,E){return d.call.apply(d.bind,arguments)}function y(d,v,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),d.apply(v,F)}}return function(){return d.apply(v,arguments)}}function b(d,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:y,b.apply(null,arguments)}function x(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function A(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,F,J){for(var ht=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ht[Lt-2]=arguments[Lt];return v.prototype[F].apply(R,ht)}}function C(d){const v=d.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=d[R];return E}return[]}function I(d,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(f(R)){const F=d.length||0,J=R.length||0;d.length=F+J;for(let ht=0;ht<J;ht++)d[F+ht]=R[ht]}else d.push(R)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(d){return/^[\s\xa0]*$/.test(d)}function K(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function Z(d){return Z[" "](d),d}Z[" "]=function(){};var G=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function rt(d,v,E){for(const R in d)v.call(E,d[R],R,d)}function M(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function w(d){const v={};for(const E in d)v[E]=d[E];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,v){let E,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(E in R)d[E]=R[E];for(let J=0;J<D.length;J++)E=D[J],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function L(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function V(d){h.setTimeout(()=>{throw d},0)}function k(){var d=ct;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Bt{constructor(){this.h=this.g=null}add(v,E){const R=vt.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var vt=new U(()=>new $,d=>d.reset());class ${constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let X,lt=!1,ct=new Bt,O=()=>{const d=h.Promise.resolve(void 0);X=()=>{d.then(H)}};var H=()=>{for(var d;d=k();){try{d.h.call(d.g)}catch(E){V(E)}var v=vt;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}lt=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function nt(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}nt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return d}();function pt(d,v){if(nt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(G){t:{try{Z(v.nodeName);var F=!0;break t}catch{}F=!1}F||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:dt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&pt.aa.h.call(this)}}A(pt,nt);var dt={2:"touch",3:"pen",4:"mouse"};pt.prototype.h=function(){pt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),Gt=0;function _n(d,v,E,R,F){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=F,this.key=++Gt,this.da=this.fa=!1}function Ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Hn(d){this.src=d,this.g={},this.h=0}Hn.prototype.add=function(d,v,E,R,F){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var ht=yi(d,v,R,F);return-1<ht?(v=d[ht],E||(v.fa=!1)):(v=new _n(v,this.src,J,!!R,F),v.fa=E,d.push(v)),v};function _i(d,v){var E=v.type;if(E in d.g){var R=d.g[E],F=Array.prototype.indexOf.call(R,v,void 0),J;(J=0<=F)&&Array.prototype.splice.call(R,F,1),J&&(Ke(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function yi(d,v,E,R){for(var F=0;F<d.length;++F){var J=d[F];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==R)return F}return-1}var Xt="closure_lm_"+(1e6*Math.random()|0),ge={};function Dr(d,v,E,R,F){if(Array.isArray(v)){for(var J=0;J<v.length;J++)Dr(d,v[J],E,R,F);return null}return E=gu(E),d&&d[qt]?d.K(v,E,g(R)?!!R.capture:!1,F):Fn(d,v,E,!1,R,F)}function Fn(d,v,E,R,F,J){if(!v)throw Error("Invalid event type");var ht=g(F)?!!F.capture:!!F,Lt=Ha(d);if(Lt||(d[Xt]=Lt=new Hn(d)),E=Lt.add(v,E,R,ht,J),E.proxy)return E;if(R=_d(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)gt||(F=ht),F===void 0&&(F=!1),d.addEventListener(v.toString(),R,F);else if(d.attachEvent)d.attachEvent(Or(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _d(){function d(E){return v.call(d.src,d.listener,E)}const v=yd;return d}function el(d,v,E,R,F){if(Array.isArray(v))for(var J=0;J<v.length;J++)el(d,v[J],E,R,F);else R=g(R)?!!R.capture:!!R,E=gu(E),d&&d[qt]?(d=d.i,v=String(v).toString(),v in d.g&&(J=d.g[v],E=yi(J,E,R,F),-1<E&&(Ke(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ha(d))&&(v=d.g[v.toString()],d=-1,v&&(d=yi(v,E,R,F)),(E=-1<d?v[d]:null)&&ja(E))}function ja(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[qt])_i(v.i,d);else{var E=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(E,R,d.capture):v.detachEvent?v.detachEvent(Or(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=Ha(v))?(_i(E,d),E.h==0&&(E.src=null,v[Xt]=null)):Ke(d)}}}function Or(d){return d in ge?ge[d]:ge[d]="on"+d}function yd(d,v){if(d.da)d=!0;else{v=new pt(v,this);var E=d.listener,R=d.ha||d.src;d.fa&&ja(d),d=E.call(R,v)}return d}function Ha(d){return d=d[Xt],d instanceof Hn?d:null}var nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(d){return typeof d=="function"?d:(d[nl]||(d[nl]=function(v){return d.handleEvent(v)}),d[nl])}function me(){et.call(this),this.i=new Hn(this),this.M=this,this.F=null}A(me,et),me.prototype[qt]=!0,me.prototype.removeEventListener=function(d,v,E,R){el(this,d,v,E,R)};function Wt(d,v){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new nt(v,d);else if(v instanceof nt)v.target=v.target||d;else{var F=v;v=new nt(R,d),P(v,F)}if(F=!0,E)for(var J=E.length-1;0<=J;J--){var ht=v.g=E[J];F=Dn(ht,R,!0,v)&&F}if(ht=v.g=d,F=Dn(ht,R,!0,v)&&F,F=Dn(ht,R,!1,v)&&F,E)for(J=0;J<E.length;J++)ht=v.g=E[J],F=Dn(ht,R,!1,v)&&F}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],R=0;R<E.length;R++)Ke(E[R]);delete d.g[v],d.h--}}this.F=null},me.prototype.K=function(d,v,E,R){return this.i.add(String(d),v,!1,E,R)},me.prototype.L=function(d,v,E,R){return this.i.add(String(d),v,!0,E,R)};function Dn(d,v,E,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,J=0;J<v.length;++J){var ht=v[J];if(ht&&!ht.da&&ht.capture==E){var Lt=ht.listener,Ne=ht.ha||ht.src;ht.fa&&_i(d.i,ht),F=Lt.call(Ne,R)!==!1&&F}}return F&&!R.defaultPrevented}function an(d,v,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function pu(d){d.g=an(()=>{d.g=null,d.i&&(d.i=!1,pu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class vd extends et{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(d){et.call(this),this.h=d,this.g={}}A(Mr,et);var kr=[];function Nr(d){rt(d.g,function(v,E){this.g.hasOwnProperty(E)&&ja(v)},d),d.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Nr(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=h.JSON.stringify,Fa=h.JSON.parse,Pr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function il(){}il.prototype.h=null;function sl(d){return d.h||(d.h=d.i())}function rl(){}var Xi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ki(){nt.call(this,"d")}A(Ki,nt);function al(){nt.call(this,"c")}A(al,nt);var vi={},ol=null;function Ms(){return ol=ol||new me}vi.La="serverreachability";function qa(d){nt.call(this,vi.La,d)}A(qa,nt);function ks(d){const v=Ms();Wt(v,new qa(v))}vi.STAT_EVENT="statevent";function mu(d,v){nt.call(this,vi.STAT_EVENT,d),this.stat=v}A(mu,nt);function ce(d){const v=Ms();Wt(v,new mu(v,d))}vi.Ma="timingevent";function ke(d,v){nt.call(this,vi.Ma,d),this.size=v}A(ke,nt);function Ae(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function qn(){this.g=!0}qn.prototype.xa=function(){this.g=!1};function ll(d,v,E,R,F,J){d.info(function(){if(d.g)if(J)for(var ht="",Lt=J.split("&"),Ne=0;Ne<Lt.length;Ne++){var Vt=Lt[Ne].split("=");if(1<Vt.length){var Be=Vt[0];Vt=Vt[1];var Pe=Be.split("_");ht=2<=Pe.length&&Pe[1]=="type"?ht+(Be+"="+Vt+"&"):ht+(Be+"=redacted&")}}else ht=null;else ht=J;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+v+`
`+E+`
`+ht})}function bd(d,v,E,R,F,J,ht){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+v+`
`+E+`
`+J+" "+ht})}function Ns(d,v,E,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Lr(d,E)+(R?" "+R:"")})}function _u(d,v){d.info(function(){return"TIMEOUT: "+v})}qn.prototype.info=function(){};function Lr(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var J=F[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ht=1;ht<F.length;ht++)F[ht]=""}}}}return ii(E)}catch{return v}}var Ps={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bi;function Ei(){}A(Ei,il),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},bi=new Ei;function yn(d,v,E,R){this.j=d,this.i=v,this.l=E,this.R=R||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var cl={},Ga={};function si(d,v,E){d.L=1,d.v=jr(On(v)),d.m=E,d.P=!0,$i(d,null)}function $i(d,v){d.F=Date.now(),Vr(d),d.A=On(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),pl(E.i,"t",R),d.C=0,E=d.j.J,d.h=new Ee,d.g=ku(d.j,E?v:null,!d.m),0<d.O&&(d.M=new vd(b(d.Y,d,d.g),d.O)),v=d.U,E=d.g,R=d.ca;var F="readystatechange";Array.isArray(F)||(F&&(kr[0]=F.toString()),F=kr);for(var J=0;J<F.length;J++){var ht=Dr(E,F[J],R||v.handleEvent,!1,v.h||v);if(!ht)break;v.g[ht.key]=ht}v=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ks(),ll(d.i,d.u,d.A,d.l,d.R,d.m)}yn.prototype.ca=function(d){d=d.target;const v=this.M;v&&Kn(d)==3?v.j():this.Y(d)},yn.prototype.Y=function(d){try{if(d==this.g)t:{const Pe=Kn(this.g);var v=this.g.Ba();const ss=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Pe!=4||v==7||(v==8||0>=ss?ks(3):ks(2)),Ls(this);var E=this.g.Z();this.X=E;e:if(yu(this)){var R=Au(this.g);d="";var F=R.length,J=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),Ti(this);var ht="";break e}this.h.i=new h.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(J&&v==F-1)});R.length=0,this.h.g+=d,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=E==200,bd(this.i,this.u,this.A,this.l,this.R,Pe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Lt,Ne=this.g;if((Lt=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Lt)){var Vt=Lt;break e}}Vt=null}if(E=Vt)Ns(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ur(this,E);else{this.o=!1,this.s=3,ce(12),We(this),Ti(this);break t}}if(this.P){E=!0;let $e;for(;!this.J&&this.C<ht.length;)if($e=vu(this,ht),$e==Ga){Pe==4&&(this.s=4,ce(14),E=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if($e==cl){this.s=4,ce(15),Ns(this.i,this.l,ht,"[Invalid Chunk]"),E=!1;break}else Ns(this.i,this.l,$e,null),Ur(this,$e);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||ht.length!=0||this.h.h||(this.s=1,ce(16),E=!1),this.o=this.o&&E,!E)Ns(this.i,this.l,ht,"[Invalid Chunked Response]"),We(this),Ti(this);else if(0<ht.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),Wr(Be),Be.M=!0,ce(11))}}else Ns(this.i,this.l,ht,null),Ur(this,ht);Pe==4&&We(this),this.o&&!this.J&&(Pe==4?Du(this.j,this):(this.o=!1,Vr(this)))}else Ad(this.g),E==400&&0<ht.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),We(this),Ti(this)}}}catch{}finally{}};function yu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function vu(d,v){var E=d.C,R=v.indexOf(`
`,E);return R==-1?Ga:(E=Number(v.substring(E,R)),isNaN(E)?cl:(R+=1,R+E>v.length?Ga:(v=v.slice(R,R+E),d.C=R+E,v)))}yn.prototype.cancel=function(){this.J=!0,We(this)};function Vr(d){d.S=Date.now()+d.I,bu(d,d.I)}function bu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ae(b(d.ba,d),v)}function Ls(d){d.B&&(h.clearTimeout(d.B),d.B=null)}yn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(_u(this.i,this.A),this.L!=2&&(ks(),ce(17)),We(this),this.s=2,Ti(this)):bu(this,this.S-d)};function Ti(d){d.j.G==0||d.J||Du(d.j,d)}function We(d){Ls(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,Nr(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Ur(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||ul(E.h,d))){if(!d.K&&ul(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)io(E),eo(E);else break t;bl(E),ce(18)}}else E.za=F[1],0<E.za-E.T&&37500>F[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ae(b(E.Za,E),6e3));if(1>=Xa(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else is(E,11)}else if((d.K||E.g==d)&&io(E),!B(v))for(F=E.Da.g.parse(v),v=0;v<F.length;v++){let Vt=F[v];if(E.T=Vt[0],Vt=Vt[1],E.G==2)if(Vt[0]=="c"){E.K=Vt[1],E.ia=Vt[2];const Be=Vt[3];Be!=null&&(E.la=Be,E.j.info("VER="+E.la));const Pe=Vt[4];Pe!=null&&(E.Aa=Pe,E.j.info("SVER="+E.Aa));const ss=Vt[5];ss!=null&&typeof ss=="number"&&0<ss&&(R=1.5*ss,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const $e=d.g;if($e){const Ii=$e.g?$e.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ii){var J=R.h;J.g||Ii.indexOf("spdy")==-1&&Ii.indexOf("quic")==-1&&Ii.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ka(J,J.h),J.h=null))}if(R.D){const Tl=$e.g?$e.g.getResponseHeader("X-HTTP-Session-Id"):null;Tl&&(R.ya=Tl,Jt(R.I,R.D,Tl))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ht=d;if(R.qa=Mu(R,R.J?R.ia:null,R.W),ht.K){vn(R.h,ht);var Lt=ht,Ne=R.L;Ne&&(Lt.I=Ne),Lt.B&&(Ls(Lt),Vr(Lt)),R.g=ht}else Cu(R);0<E.i.length&&no(E)}else Vt[0]!="stop"&&Vt[0]!="close"||is(E,7);else E.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?is(E,7):yl(E):Vt[0]!="noop"&&E.l&&E.l.ta(Vt),E.v=0)}}ks(4)}catch{}}var Eu=class{constructor(d,v){this.g=d,this.map=v}};function Qi(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ya(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Xa(d){return d.h?1:d.g?d.g.size:0}function ul(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Ka(d,v){d.g?d.g.add(v):d.h=v}function vn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Qi.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function hl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return C(d.i)}function Ed(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],E=d.length,R=0;R<E;R++)v.push(d[R]);return v}v=[],E=0;for(R in d)v[E++]=d[R];return v}function Wa(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const R in d)v[E++]=R;return v}}}function fl(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Wa(d),R=Ed(d),F=R.length,J=0;J<F;J++)v.call(void 0,R[J],E&&E[J],d)}var zr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Td(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),F=null;if(0<=R){var J=d[E].substring(0,R);F=d[E].substring(R+1)}else J=d[E];v(J,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function we(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof we){this.h=d.h,Br(this,d.j),this.o=d.o,this.g=d.g,Vs(this,d.s),this.l=d.l;var v=d.i,E=new Ji;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Zi(this,E),this.m=d.m}else d&&(v=String(d).match(zr))?(this.h=!1,Br(this,v[1]||"",!0),this.o=Gn(v[2]||""),this.g=Gn(v[3]||"",!0),Vs(this,v[4]),this.l=Gn(v[5]||"",!0),Zi(this,v[6]||"",!0),this.m=Gn(v[7]||"")):(this.h=!1,this.i=new Ji(null,this.h))}we.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Hr(v,dl,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Hr(v,dl,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Hr(E,E.charAt(0)=="/"?xd:gl,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Hr(E,$a)),d.join("")};function On(d){return new we(d)}function Br(d,v,E){d.j=E?Gn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Vs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function Zi(d,v,E){v instanceof Ji?(d.i=v,xu(d.i,d.h)):(E||(v=Hr(v,Sd)),d.i=new Ji(v,d.h))}function Jt(d,v,E){d.i.set(v,E)}function jr(d){return Jt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Gn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Hr(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,Tu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Tu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var dl=/[#\/\?@]/g,gl=/[#\?:]/g,xd=/[#\?]/g,Sd=/[#\?@]/g,$a=/#/g;function Ji(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Yn(d){d.g||(d.g=new Map,d.h=0,d.i&&Td(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Ji.prototype,n.add=function(d,v){Yn(this),this.i=null,d=xi(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function ts(d,v){Yn(d),v=xi(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function es(d,v){return Yn(d),v=xi(d,v),d.g.has(v)}n.forEach=function(d,v){Yn(this),this.g.forEach(function(E,R){E.forEach(function(F){d.call(v,F,R,this)},this)},this)},n.na=function(){Yn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const F=d[R];for(let J=0;J<F.length;J++)E.push(v[R])}return E},n.V=function(d){Yn(this);let v=[];if(typeof d=="string")es(this,d)&&(v=v.concat(this.g.get(xi(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},n.set=function(d,v){return Yn(this),this.i=null,d=xi(this,d),es(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function pl(d,v,E){ts(d,v),0<E.length&&(d.i=null,d.g.set(xi(d,v),C(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const J=encodeURIComponent(String(R)),ht=this.V(R);for(R=0;R<ht.length;R++){var F=J;ht[R]!==""&&(F+="="+encodeURIComponent(String(ht[R]))),d.push(F)}}return this.i=d.join("&")};function xi(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function xu(d,v){v&&!d.j&&(Yn(d),d.i=null,d.g.forEach(function(E,R){var F=R.toLowerCase();R!=F&&(ts(this,R),pl(this,F,E))},d)),d.j=v}function Fr(d,v){const E=new qn;if(h.Image){const R=new Image;R.onload=x(Xn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=x(Xn,E,"TestLoadImage: error",!1,v,R),R.onabort=x(Xn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=x(Xn,E,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function ri(d,v){const E=new qn,R=new AbortController,F=setTimeout(()=>{R.abort(),Xn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(J=>{clearTimeout(F),J.ok?Xn(E,"TestPingServer: ok",!0,v):Xn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Xn(E,"TestPingServer: error",!1,v)})}function Xn(d,v,E,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(E)}catch{}}function qr(){this.g=new Pr}function Si(d,v,E){const R=E||"";try{fl(d,function(F,J){let ht=F;g(F)&&(ht=ii(F)),v.push(R+J+"="+encodeURIComponent(ht))})}catch(F){throw v.push(R+"type="+encodeURIComponent("_badmap")),F}}function Us(d){this.l=d.Ub||null,this.j=d.eb||!1}A(Us,il),Us.prototype.g=function(){return new ns(this.l,this.j)},Us.prototype.i=function(d){return function(){return d}}({});function ns(d,v){me.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(ns,me),n=ns.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,wi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Ai(this):wi(this),this.readyState==3&&ml(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Ai(this))},n.Qa=function(d){this.g&&(this.response=d,Ai(this))},n.ga=function(){this.g&&Ai(this)};function Ai(d){d.readyState=4,d.l=null,d.j=null,d.v=null,wi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function wi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function _l(d){let v="";return rt(d,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function ze(d,v,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=_l(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Jt(d,v,E))}function Kt(d){me.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Kt,me);var Qa=/^https?$/i,Gr=["POST","PUT"];n=Kt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bi.g(),this.v=this.o?sl(this.o):sl(bi),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){Su(this,J);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)E.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())E.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),F=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Gr,v,void 0))||R||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ht]of E)this.g.setRequestHeader(J,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){Su(this,J)}};function Su(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Za(d),Ri(d)}function Za(d){d.A||(d.A=!0,Wt(d,"complete"),Wt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Wt(this,"complete"),Wt(this,"abort"),Ri(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ri(this,!0)),Kt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ja(this):this.bb())},n.bb=function(){Ja(this)};function Ja(d){if(d.h&&typeof c<"u"&&(!d.v[1]||Kn(d)!=4||d.Z()!=2)){if(d.u&&Kn(d)==4)an(d.Ea,0,d);else if(Wt(d,"readystatechange"),Kn(d)==4){d.h=!1;try{const ht=d.Z();t:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var R;if(R=ht===0){var F=String(d.D).match(zr)[1]||null;!F&&h.self&&h.self.location&&(F=h.self.location.protocol.slice(0,-1)),R=!Qa.test(F?F.toLowerCase():"")}E=R}if(E)Wt(d,"complete"),Wt(d,"success");else{d.m=6;try{var J=2<Kn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",Za(d)}}finally{Ri(d)}}}}function Ri(d,v){if(d.g){Yr(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Wt(d,"ready");try{E.onreadystatechange=R}catch{}}}function Yr(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Kn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Fa(v)}};function Au(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ad(d){const v={};d=(d.g&&2<=Kn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(B(d[R]))continue;var E=L(d[R]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[F]||[];v[F]=J,J.push(E)}M(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xr(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function to(d){this.Aa=0,this.i=[],this.j=new qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xr("baseRetryDelayMs",5e3,d),this.cb=Xr("retryDelaySeedMs",1e4,d),this.Wa=Xr("forwardChannelMaxRetries",2,d),this.wa=Xr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(d&&d.concurrentRequestLimit),this.Da=new qr,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=to.prototype,n.la=8,n.G=1,n.connect=function(d,v,E,R){ce(0),this.W=d,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Mu(this,null,this.W),no(this)};function yl(d){if(wu(d),d.G==3){var v=d.U++,E=On(d.I);if(Jt(E,"SID",d.K),Jt(E,"RID",v),Jt(E,"TYPE","terminate"),Kr(d,E),v=new yn(d,d.j,v),v.L=2,v.v=jr(On(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=ku(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Vr(v)}Ou(d)}function eo(d){d.g&&(Wr(d),d.g.cancel(),d.g=null)}function wu(d){eo(d),d.u&&(h.clearTimeout(d.u),d.u=null),io(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function no(d){if(!Ya(d.h)&&!d.s){d.s=!0;var v=d.Ga;X||O(),lt||(X(),lt=!0),ct.add(v,d),d.B=0}}function wd(d,v){return Xa(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ae(b(d.Ga,d,v),El(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const F=new yn(this,this.j,d);let J=this.o;if(this.S&&(J?(J=w(J),P(J,this.S)):J=this.S),this.m!==null||this.O||(F.H=J,J=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Ru(this,F,v),E=On(this.I),Jt(E,"RID",d),Jt(E,"CVER",22),this.D&&Jt(E,"X-HTTP-Session-Id",this.D),Kr(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(_l(J)))+"&"+v:this.m&&ze(E,this.m,J)),Ka(this.h,F),this.Ua&&Jt(E,"TYPE","init"),this.P?(Jt(E,"$req",v),Jt(E,"SID","null"),F.T=!0,si(F,E,null)):si(F,E,v),this.G=2}}else this.G==3&&(d?vl(this,d):this.i.length==0||Ya(this.h)||vl(this))};function vl(d,v){var E;v?E=v.l:E=d.U++;const R=On(d.I);Jt(R,"SID",d.K),Jt(R,"RID",E),Jt(R,"AID",d.T),Kr(d,R),d.m&&d.o&&ze(R,d.m,d.o),E=new yn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Ru(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ka(d.h,E),si(E,R,v)}function Kr(d,v){d.H&&rt(d.H,function(E,R){Jt(v,R,E)}),d.l&&fl({},function(E,R){Jt(v,R,E)})}function Ru(d,v,E){E=Math.min(d.i.length,E);var R=d.l?b(d.l.Na,d.l,d):null;t:{var F=d.i;let J=-1;for(;;){const ht=["count="+E];J==-1?0<E?(J=F[0].g,ht.push("ofs="+J)):J=0:ht.push("ofs="+J);let Lt=!0;for(let Ne=0;Ne<E;Ne++){let Vt=F[Ne].g;const Be=F[Ne].map;if(Vt-=J,0>Vt)J=Math.max(0,F[Ne].g-100),Lt=!1;else try{Si(Be,ht,"req"+Vt+"_")}catch{R&&R(Be)}}if(Lt){R=ht.join("&");break t}}}return d=d.i.splice(0,E),v.D=d,R}function Cu(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;X||O(),lt||(X(),lt=!0),ct.add(v,d),d.v=0}}function bl(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ae(b(d.Fa,d),El(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ae(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),eo(this),Iu(this))};function Wr(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Iu(d){d.g=new yn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=On(d.qa);Jt(v,"RID","rpc"),Jt(v,"SID",d.K),Jt(v,"AID",d.T),Jt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Jt(v,"TO",d.ja),Jt(v,"TYPE","xmlhttp"),Kr(d,v),d.m&&d.o&&ze(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=jr(On(v)),E.m=null,E.P=!0,$i(E,d)}n.Za=function(){this.C!=null&&(this.C=null,eo(this),bl(this),ce(19))};function io(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function Du(d,v){var E=null;if(d.g==v){io(d),Wr(d),d.g=null;var R=2}else if(ul(d.h,v))E=v.D,vn(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var F=d.B;R=Ms(),Wt(R,new ke(R,E)),no(d)}else Cu(d);else if(F=v.s,F==3||F==0&&0<v.X||!(R==1&&wd(d,v)||R==2&&bl(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),F){case 1:is(d,5);break;case 4:is(d,10);break;case 3:is(d,6);break;default:is(d,2)}}}function El(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function is(d,v){if(d.j.info("Error code "+v),v==2){var E=b(d.fb,d),R=d.Xa;const F=!R;R=new we(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Br(R,"https"),jr(R),F?Fr(R.toString(),E):ri(R.toString(),E)}else ce(2);d.G=0,d.l&&d.l.sa(v),Ou(d),wu(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Ou(d){if(d.G=0,d.ka=[],d.l){const v=hl(d.h);(v.length!=0||d.i.length!=0)&&(I(d.ka,v),I(d.ka,d.i),d.h.i.length=0,C(d.i),d.i.length=0),d.l.ra()}}function Mu(d,v,E){var R=E instanceof we?On(E):new we(E);if(R.g!="")v&&(R.g=v+"."+R.g),Vs(R,R.s);else{var F=h.location;R=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var J=new we(null);R&&Br(J,R),v&&(J.g=v),F&&Vs(J,F),E&&(J.l=E),R=J}return E=d.D,v=d.ya,E&&v&&Jt(R,E,v),Jt(R,"VER",d.la),Kr(d,R),R}function ku(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Kt(new Us({eb:E})):new Kt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}n=Nu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function so(){}so.prototype.g=function(d,v){return new bn(d,v)};function bn(d,v){me.call(this),this.g=new to(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!B(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!B(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ci(this)}A(bn,me),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){yl(this.g)},bn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=ii(d),d=E);v.i.push(new Eu(v.Ya++,d)),v.G==3&&no(v)},bn.prototype.N=function(){this.g.l=null,delete this.j,yl(this.g),delete this.g,bn.aa.N.call(this)};function Pu(d){Ki.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const E in v){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}A(Pu,Ki);function Lu(){al.call(this),this.status=1}A(Lu,al);function Ci(d){this.g=d}A(Ci,Nu),Ci.prototype.ua=function(){Wt(this.g,"a")},Ci.prototype.ta=function(d){Wt(this.g,new Pu(d))},Ci.prototype.sa=function(d){Wt(this.g,new Lu)},Ci.prototype.ra=function(){Wt(this.g,"b")},so.prototype.createWebChannel=so.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,qx=function(){return new so},Fx=function(){return Ms()},Hx=vi,sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ps.NO_ERROR=0,Ps.TIMEOUT=8,Ps.HTTP_ERROR=6,uf=Ps,Wi.COMPLETE="complete",jx=Wi,rl.EventType=Xi,Xi.OPEN="a",Xi.CLOSE="b",Xi.ERROR="c",Xi.MESSAGE="d",me.prototype.listen=me.prototype.K,vc=rl,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,Bx=Kt}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const Nb="@firebase/firestore",Pb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Vm("@firebase/firestore");function Lo(){return Ia.logLevel}function _t(n,...t){if(Ia.logLevel<=Nt.DEBUG){const e=t.map(Qm);Ia.debug(`Firestore (${Jo}): ${n}`,...e)}}function Da(n,...t){if(Ia.logLevel<=Nt.ERROR){const e=t.map(Qm);Ia.error(`Firestore (${Jo}): ${n}`,...e)}}function nd(n,...t){if(Ia.logLevel<=Nt.WARN){const e=t.map(Qm);Ia.warn(`Firestore (${Jo}): ${n}`,...e)}}function Qm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Gx(n,i,e)}function Gx(n,t,e){let i=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Da(i),new Error(i)}function be(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||Gx(t,r,i)}function oe(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Yi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(hn.UNAUTHENTICATED))}shutdown(){}}class LI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class VI{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){be(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ba,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},h=f=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ba)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string",31837,{l:i}),new Yx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class UI{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zI{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new UI(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BI{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){be(this.o===void 0,3512);const i=o=>{o.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,_t("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Lb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(be(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Lb(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=jI(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function jt(n,t){return n<t?-1:n>t?1:0}function rm(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return jt(i,r);{const o=HI(),c=FI(o.encode(Vb(n,e)),o.encode(Vb(t,e)));return c!==0?c:jt(i,r)}}e+=i>65535?2:1}return jt(n.length,t.length)}function Vb(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function FI(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return jt(n[e],t[e]);return jt(n.length,t.length)}function qo(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=-62135596800,zb=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(t){return Xe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*zb);return new Xe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new St(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new St(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Ub)throw new St(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zb}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Ub;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(t){return new he(t)}static min(){return new he(new Xe(0,0))}static max(){return new he(new Xe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__name__";class Vi{constructor(t,e,i){e===void 0?e=0:e>t.length&&Dt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Dt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Vi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return jt(t.length,e.length)}static compareSegments(t,e){const i=Vi.isNumericId(t),r=Vi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Vi.extractNumericId(t).compare(Vi.extractNumericId(e)):rm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $m.fromString(t.substring(4,t.length-2))}}class De extends Vi{construct(t,e,i){return new De(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new St(ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new De(e)}static emptyPath(){return new De([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Vi{construct(t,e,i){return new nn(t,e,i)}static isValidIdentifier(t){return qI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bb}static keyField(){return new nn([Bb])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new St(ut.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if(h==="\\"){if(r+1===t.length)throw new St(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new St(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else h==="`"?(c=!c,r++):h!=="."||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new St(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new nn(e)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(De.fromString(t))}static fromName(t){return new Ct(De.fromString(t).popFirst(5))}static empty(){return new Ct(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&De.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return De.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new De(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=-1;function GI(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=he.fromTimestamp(i===1e9?new Xe(e+1,0):new Xe(e,i));return new br(r,Ct.empty(),t)}function YI(n){return new br(n.readTime,n.key,jc)}class br{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new br(he.min(),Ct.empty(),jc)}static max(){return new br(he.max(),Ct.empty(),jc)}}function XI(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Ct.comparator(n.documentKey,t.documentKey),e!==0?e:jt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zm(n){if(n.code!==ut.FAILED_PRECONDITION||n.message!==KI)throw n;_t("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ot.reject(e)}static resolve(t){return new ot((e,i)=>{e(t)})}static reject(t){return new ot((e,i)=>{i(t)})}static waitFor(t){return new ot((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next(r=>r?ot.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ot((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(_=>{c[g]=_,++h,h===o&&i(c)},_=>r(_))}})}static doWhile(t,e){return new ot((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function $I(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ou(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Jm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-1;function e_(n){return n==null}function Of(n){return n===0&&1/n==-1/0}function QI(n){return typeof n=="number"&&Number.isInteger(n)&&!Of(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="";function ZI(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=jb(t)),t=JI(n.get(e),t);return jb(t)}function JI(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Kx:e+="";break;default:e+=o}}return e}function jb(n){return n+Kx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function tl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Wx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new In(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new In(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zh(this.root,t,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zh(this.root,t,this.comparator,!0)}}class zh{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=r??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new tn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return tn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.comparator=t,this.data=new In(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(t){return new Fb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof sn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new sn(this.comparator);return e.data=t,e}}class Fb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new fi([])}unionWith(t){let e=new sn(nn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new fi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return qo(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tD("Invalid base64 string: "+o):o}}(t);return new qi(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new qi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qi.EMPTY_BYTE_STRING=new qi("");const eD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oa(n){if(be(!!n,39018),typeof n=="string"){let t=0;const e=eD.exec(n);if(be(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:en(n.seconds),nanos:en(n.nanos)}}function en(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Go(n){return typeof n=="string"?qi.fromBase64String(n):qi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="server_timestamp",Qx="__type__",Zx="__previous_value__",Jx="__local_write_time__";function n_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Qx])===null||e===void 0?void 0:e.stringValue)===$x}function i_(n){const t=n.mapValue.fields[Zx];return n_(t)?i_(t):t}function Mf(n){const t=Oa(n.mapValue.fields[Jx].timestampValue);return new Xe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,e,i,r,o,c,h,f,g,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=_}}const kf="(default)";class Nf{constructor(t,e){this.projectId=t,this.database=e||kf}static empty(){return new Nf("","")}get isDefaultDatabase(){return this.database===kf}isEqual(t){return t instanceof Nf&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",iD="__max__",Bh={mapValue:{}},eS="__vector__",am="value";function Ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?n_(n)?4:rD(n)?9007199254740991:sD(n)?10:11:Dt(28295,{value:n})}function Gi(n,t){if(n===t)return!0;const e=Ma(n);if(e!==Ma(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Mf(n).isEqual(Mf(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Oa(r.timestampValue),h=Oa(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return Go(r.bytesValue).isEqual(Go(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return en(r.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(r.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return en(r.integerValue)===en(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=en(r.doubleValue),h=en(o.doubleValue);return c===h?Of(c)===Of(h):isNaN(c)&&isNaN(h)}return!1}(n,t);case 9:return qo(n.arrayValue.values||[],t.arrayValue.values||[],Gi);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Hb(c)!==Hb(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Gi(c[f],h[f])))return!1;return!0}(n,t);default:return Dt(52216,{left:n})}}function Hc(n,t){return(n.values||[]).find(e=>Gi(e,t))!==void 0}function Yo(n,t){if(n===t)return 0;const e=Ma(n),i=Ma(t);if(e!==i)return jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return function(o,c){const h=en(o.integerValue||o.doubleValue),f=en(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return qb(n.timestampValue,t.timestampValue);case 4:return qb(Mf(n),Mf(t));case 5:return rm(n.stringValue,t.stringValue);case 6:return function(o,c){const h=Go(o),f=Go(c);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const _=jt(h[g],f[g]);if(_!==0)return _}return jt(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const h=jt(en(o.latitude),en(c.latitude));return h!==0?h:jt(en(o.longitude),en(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Gb(n.arrayValue,t.arrayValue);case 10:return function(o,c){var h,f,g,_;const y=o.fields||{},b=c.fields||{},x=(h=y[am])===null||h===void 0?void 0:h.arrayValue,A=(f=b[am])===null||f===void 0?void 0:f.arrayValue,C=jt(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=A==null?void 0:A.values)===null||_===void 0?void 0:_.length)||0);return C!==0?C:Gb(x,A)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===Bh.mapValue&&c===Bh.mapValue)return 0;if(o===Bh.mapValue)return 1;if(c===Bh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let y=0;y<f.length&&y<_.length;++y){const b=rm(f[y],_[y]);if(b!==0)return b;const x=Yo(h[f[y]],g[_[y]]);if(x!==0)return x}return jt(f.length,_.length)}(n.mapValue,t.mapValue);default:throw Dt(23264,{Pe:e})}}function qb(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return jt(n,t);const e=Oa(n),i=Oa(t),r=jt(e.seconds,i.seconds);return r!==0?r:jt(e.nanos,i.nanos)}function Gb(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Yo(e[r],i[r]);if(o)return o}return jt(e.length,i.length)}function Xo(n){return om(n)}function om(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Oa(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return Go(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Ct.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=om(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${om(e.fields[c])}`;return r+"}"}(n.mapValue):Dt(61005,{value:n})}function hf(n){switch(Ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=i_(n);return t?16+hf(t):16;case 5:return 2*n.stringValue.length;case 6:return Go(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+hf(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return tl(i.fields,(o,c)=>{r+=o.length+hf(c)}),r}(n.mapValue);default:throw Dt(13486,{value:n})}}function lm(n){return!!n&&"integerValue"in n}function s_(n){return!!n&&"arrayValue"in n}function ff(n){return!!n&&"mapValue"in n}function sD(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[tS])===null||e===void 0?void 0:e.stringValue)===eS}function Cc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return tl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Cc(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Cc(n.arrayValue.values[e]);return t}return Object.assign({},n)}function rD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===iD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this.value=t}static empty(){return new ui({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ff(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cc(e)}setAll(t){let e=nn.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=Cc(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());ff(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ff(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){tl(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ui(Cc(this.value))}}function nS(n){const t=[];return tl(n.fields,(e,i)=>{const r=new nn([e]);if(ff(i)){const o=nS(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new fi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ci(t,0,he.min(),he.min(),he.min(),ui.empty(),0)}static newFoundDocument(t,e,i,r){return new ci(t,1,e,he.min(),i,r,0)}static newNoDocument(t,e){return new ci(t,2,e,he.min(),he.min(),ui.empty(),0)}static newUnknownDocument(t,e){return new ci(t,3,e,he.min(),he.min(),ui.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e){this.position=t,this.inclusive=e}}function Yb(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=Ct.comparator(Ct.fromName(c.referenceValue),e.key):i=Yo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xb(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Gi(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,e="asc"){this.field=t,this.dir=e}}function aD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class Ge extends iS{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new lD(t,e,i):e==="array-contains"?new hD(t,i):e==="in"?new fD(t,i):e==="not-in"?new dD(t,i):e==="array-contains-any"?new gD(t,i):new Ge(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new cD(t,i):new uD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Yo(e,this.value)):e!==null&&Ma(this.value)===Ma(e)&&this.matchesComparison(Yo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends iS{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Er(t,e)}matches(t){return sS(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function sS(n){return n.op==="and"}function rS(n){return oD(n)&&sS(n)}function oD(n){for(const t of n.filters)if(t instanceof Er)return!1;return!0}function cm(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(rS(n))return n.filters.map(t=>cm(t)).join(",");{const t=n.filters.map(e=>cm(e)).join(",");return`${n.op}(${t})`}}function aS(n,t){return n instanceof Ge?function(i,r){return r instanceof Ge&&i.op===r.op&&i.field.isEqual(r.field)&&Gi(i.value,r.value)}(n,t):n instanceof Er?function(i,r){return r instanceof Er&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,h)=>o&&aS(c,r.filters[h]),!0):!1}(n,t):void Dt(19439)}function oS(n){return n instanceof Ge?function(e){return`${e.field.canonicalString()} ${e.op} ${Xo(e.value)}`}(n):n instanceof Er?function(e){return e.op.toString()+" {"+e.getFilters().map(oS).join(" ,")+"}"}(n):"Filter"}class lD extends Ge{constructor(t,e,i){super(t,e,i),this.key=Ct.fromName(i.referenceValue)}matches(t){const e=Ct.comparator(t.key,this.key);return this.matchesComparison(e)}}class cD extends Ge{constructor(t,e){super(t,"in",e),this.keys=lS("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class uD extends Ge{constructor(t,e){super(t,"not-in",e),this.keys=lS("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function lS(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Ct.fromName(i.referenceValue))}class hD extends Ge{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return s_(e)&&Hc(e.arrayValue,this.value)}}class fD extends Ge{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hc(this.value.arrayValue,e)}}class dD extends Ge{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Hc(this.value.arrayValue,e)}}class gD extends Ge{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!s_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Hc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.Ie=null}}function Kb(n,t=null,e=[],i=[],r=null,o=null,c=null){return new pD(n,t,e,i,r,o,c)}function r_(n){const t=oe(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>cm(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),e_(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Xo(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Xo(i)).join(",")),t.Ie=e}return t.Ie}function a_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!aD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!aS(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Xb(n.startAt,t.startAt)&&Xb(n.endAt,t.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function mD(n,t,e,i,r,o,c,h){return new id(n,t,e,i,r,o,c,h)}function _D(n){return new id(n)}function Wb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yD(n){return n.collectionGroup!==null}function Ic(n){const t=oe(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new sn(nn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new Lf(o,i))}),e.has(nn.keyField().canonicalString())||t.Ee.push(new Lf(nn.keyField(),i))}return t.Ee}function Ea(n){const t=oe(n);return t.de||(t.de=vD(t,Ic(n))),t.de}function vD(n,t){if(n.limitType==="F")return Kb(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Lf(r.field,o)});const e=n.endAt?new Pf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pf(n.startAt.position,n.startAt.inclusive):null;return Kb(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function um(n,t,e){return new id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cS(n,t){return a_(Ea(n),Ea(t))&&n.limitType===t.limitType}function uS(n){return`${r_(Ea(n))}|lt:${n.limitType}`}function uc(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>oS(r)).join(", ")}]`),e_(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Xo(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Xo(r)).join(",")),`Target(${i})`}(Ea(n))}; limitType=${n.limitType})`}function o_(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Ct.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of Ic(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,h,f){const g=Yb(c,h,f);return c.inclusive?g<=0:g<0}(i.startAt,Ic(i),r)||i.endAt&&!function(c,h,f){const g=Yb(c,h,f);return c.inclusive?g>=0:g>0}(i.endAt,Ic(i),r))}(n,t)}function bD(n){return(t,e)=>{let i=!1;for(const r of Ic(n)){const o=ED(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function ED(n,t,e){const i=n.field.isKeyField()?Ct.comparator(t.key,e.key):function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?Yo(f,g):Dt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Dt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){tl(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Wx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new In(Ct.comparator);function Vf(){return TD}const hS=new In(Ct.comparator);function jh(...n){let t=hS;for(const e of n)t=t.insert(e.key,e);return t}function fS(n){let t=hS;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function ya(){return Dc()}function dS(){return Dc()}function Dc(){return new Ua(n=>n.toString(),(n,t)=>n.isEqual(t))}const xD=new In(Ct.comparator),SD=new sn(Ct.comparator);function dn(...n){let t=SD;for(const e of n)t=t.add(e);return t}const AD=new sn(jt);function wD(){return AD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Of(t)?"-0":t}}function gS(n){return{integerValue:""+n}}function RD(n,t){return QI(t)?gS(t):l_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function CD(n,t,e){return n instanceof Uf?function(r,o){const c={fields:{[Qx]:{stringValue:$x},[Jx]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&n_(o)&&(o=i_(o)),o&&(c.fields[Zx]=o),{mapValue:c}}(e,t):n instanceof Fc?mS(n,t):n instanceof qc?_S(n,t):function(r,o){const c=pS(r,o),h=$b(c)+$b(r.Re);return lm(c)&&lm(r.Re)?gS(h):l_(r.serializer,h)}(n,t)}function ID(n,t,e){return n instanceof Fc?mS(n,t):n instanceof qc?_S(n,t):e}function pS(n,t){return n instanceof zf?function(i){return lm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Uf extends sd{}class Fc extends sd{constructor(t){super(),this.elements=t}}function mS(n,t){const e=yS(t);for(const i of n.elements)e.some(r=>Gi(r,i))||e.push(i);return{arrayValue:{values:e}}}class qc extends sd{constructor(t){super(),this.elements=t}}function _S(n,t){let e=yS(t);for(const i of n.elements)e=e.filter(r=>!Gi(r,i));return{arrayValue:{values:e}}}class zf extends sd{constructor(t,e){super(),this.serializer=t,this.Re=e}}function $b(n){return en(n.integerValue||n.doubleValue)}function yS(n){return s_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DD(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Fc&&r instanceof Fc||i instanceof qc&&r instanceof qc?qo(i.elements,r.elements,Gi):i instanceof zf&&r instanceof zf?Gi(i.Re,r.Re):i instanceof Uf&&r instanceof Uf}(n.transform,t.transform)}class OD{constructor(t,e){this.version=t,this.transformResults=e}}class Cs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Cs}static exists(t){return new Cs(void 0,t)}static updateTime(t){return new Cs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function df(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class rd{}function vS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new ES(n.key,Cs.none()):new lu(n.key,n.data,Cs.none());{const e=n.data,i=ui.empty();let r=new sn(nn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new za(n.key,i,new fi(r.toArray()),Cs.none())}}function MD(n,t,e){n instanceof lu?function(r,o,c){const h=r.value.clone(),f=Zb(r.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,t,e):n instanceof za?function(r,o,c){if(!df(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=Zb(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(bS(r)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function Oc(n,t,e,i){return n instanceof lu?function(o,c,h,f){if(!df(o.precondition,c))return h;const g=o.value.clone(),_=Jb(o.fieldTransforms,f,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof za?function(o,c,h,f){if(!df(o.precondition,c))return h;const g=Jb(o.fieldTransforms,f,c),_=c.data;return _.setAll(bS(o)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(n,t,e,i):function(o,c,h){return df(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,t,e)}function kD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=pS(i.transform,r||null);o!=null&&(e===null&&(e=ui.empty()),e.set(i.field,o))}return e||null}function Qb(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&qo(i,r,(o,c)=>DD(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class lu extends rd{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class za extends rd{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bS(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Zb(n,t,e){const i=new Map;be(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,ID(c,h,e[r]))}return i}function Jb(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,CD(o,c,t))}return i}class ES extends rd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ND extends rd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&MD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Oc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Oc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=dS();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const f=vS(c,h);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(he.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),dn())}isEqual(t){return this.batchId===t.batchId&&qo(this.mutations,t.mutations,(e,i)=>Qb(e,i))&&qo(this.baseMutations,t.baseMutations,(e,i)=>Qb(e,i))}}class c_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){be(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return xD}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new c_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,zt;function VD(n){switch(n){case ut.OK:return Dt(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Dt(15467,{code:n})}}function UD(n){if(n===void 0)return Da("GRPC error has no .code"),ut.UNKNOWN;switch(n){case Ie.OK:return ut.OK;case Ie.CANCELLED:return ut.CANCELLED;case Ie.UNKNOWN:return ut.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return ut.INTERNAL;case Ie.UNAVAILABLE:return ut.UNAVAILABLE;case Ie.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Ie.NOT_FOUND:return ut.NOT_FOUND;case Ie.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Ie.ABORTED:return ut.ABORTED;case Ie.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Ie.DATA_LOSS:return ut.DATA_LOSS;default:return Dt(39323,{code:n})}}(zt=Ie||(Ie={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new $m([4294967295,4294967295],0);class zD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BD(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function jD(n,t){return hm(n,t.toTimestamp())}function Ho(n){return be(!!n,49232),he.fromTimestamp(function(e){const i=Oa(e);return new Xe(i.seconds,i.nanos)}(n))}function TS(n,t){return fm(n,t).canonicalString()}function fm(n,t){const e=function(r){return new De(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function HD(n){const t=De.fromString(n);return be($D(t),10190,{key:t.toString()}),t}function dm(n,t){return TS(n.databaseId,t.path)}function FD(n){const t=HD(n);return t.length===4?De.emptyPath():GD(t)}function qD(n){return new De(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function GD(n){return be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function tE(n,t,e){return{name:dm(n,t),fields:e.value.mapValue.fields}}function YD(n,t){let e;if(t instanceof lu)e={update:tE(n,t.key,t.value)};else if(t instanceof ES)e={delete:dm(n,t.key)};else if(t instanceof za)e={update:tE(n,t.key,t.data),updateMask:WD(t.fieldMask)};else{if(!(t instanceof ND))return Dt(16599,{ft:t.type});e={verify:dm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const h=c.transform;if(h instanceof Uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Fc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof qc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zf)return{fieldPath:c.field.canonicalString(),increment:h.Re};throw Dt(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:jD(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Dt(27497)}(n,t.precondition)),e}function XD(n,t){return n&&n.length>0?(be(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?Ho(r.updateTime):Ho(o);return c.isEqual(he.min())&&(c=Ho(o)),new OD(c,r.transformResults||[])}(e,t))):[]}function KD(n){let t=FD(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){be(i===1,65062);const _=e.from[0];_.allDescendants?r=_.collectionId:t=t.child(_.collectionId)}let o=[];e.where&&(o=function(y){const b=xS(y);return b instanceof Er&&rS(b)?b.getFilters():[b]}(e.where));let c=[];e.orderBy&&(c=function(y){return y.map(b=>function(A){return new Lf(Vo(A.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(y){let b;return b=typeof y=="object"?y.value:y,e_(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(y){const b=!!y.before,x=y.values||[];return new Pf(x,b)}(e.startAt));let g=null;return e.endAt&&(g=function(y){const b=!y.before,x=y.values||[];return new Pf(x,b)}(e.endAt)),mD(t,r,c,o,h,"F",f,g)}function xS(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Vo(e.unaryFilter.field);return Ge.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Vo(e.unaryFilter.field);return Ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Vo(e.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(e.unaryFilter.field);return Ge.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ge.create(Vo(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Er.create(e.compositeFilter.filters.map(i=>xS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}}(e.compositeFilter.op))}(n):Dt(30097,{filter:n})}function Vo(n){return nn.fromServerFormat(n.fieldPath)}function WD(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $D(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.wt=t}}function ZD(n){const t=KD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?um(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.Cn=new tO}addToCollectionParentIndex(t,e){return this.Cn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(br.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(br.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class tO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new sn(De.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new sn(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SS=41943040;class Rn{static withCacheSize(t){return new Rn(t,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(SS,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ko(0)}static lr(){return new Ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LruGarbageCollector",eO=1048576;function iE([n,t],[e,i]){const r=jt(n,e);return r===0?jt(t,i):r}class nO{constructor(t){this.Er=t,this.buffer=new sn(iE),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();iE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){_t(nE,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ou(e)?_t(nE,"Ignoring IndexedDB error during garbage collection: ",e):await Zm(e)}await this.mr(3e5)})}}class sO{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(Jm.le);const i=new nO(e);return this.gr.forEachTarget(t,r=>i.Rr(r.sequenceNumber)).next(()=>this.gr.yr(t,r=>i.Rr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.gr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(eE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let i,r,o,c,h,f,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,c=Date.now(),this.nthSequenceNumber(t,r))).next(y=>(i=y,h=Date.now(),this.removeTargets(t,i,e))).next(y=>(o=y,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(y=>(g=Date.now(),Lo()<=Nt.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${y} documents in `+(g-f)+`ms
Total Duration: ${g-_}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y})))}}function rO(n,t){return new sO(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changes=new Ua(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ci.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Oc(i.mutation,r,fi.empty(),Xe.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,dn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=dn()){const r=ya();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=jh();return o.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=ya();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,dn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=Vf();const c=Dc(),h=function(){return Dc()}();return e.forEach((f,g)=>{const _=i.get(g.key);r.has(g.key)&&(_===void 0||_.mutation instanceof za)?o=o.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Oc(_.mutation,g,_.mutation.getFieldMask(),Xe.now())):c.set(g.key,fi.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,_)=>c.set(g,_)),e.forEach((g,_)=>{var y;return h.set(g,new oO(_,(y=c.get(g))!==null&&y!==void 0?y:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Dc();let r=new In((c,h)=>c-h),o=dn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let _=i.get(f)||fi.empty();_=h.applyToLocalView(g,_),i.set(f,_);const y=(r.get(h.batchId)||dn()).add(f);r=r.insert(h.batchId,y)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,_=f.value,y=dS();_.forEach(b=>{if(!o.has(b)){const x=vS(e.get(b),i.get(b));x!==null&&y.set(b,x),o=o.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(t,g,y))}return ot.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return Ct.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):yD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ot.resolve(ya());let h=jc,f=o;return c.next(g=>ot.forEach(g,(_,y)=>(h<y.largestBatchId&&(h=y.largestBatchId),o.get(_)?ot.resolve():this.remoteDocumentCache.getEntry(t,_).next(b=>{f=f.insert(_,b)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,dn())).next(_=>({batchId:h,changes:fS(_)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Ct(e)).next(i=>{let r=jh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=jh();return this.indexManager.getCollectionParents(t,o).next(h=>ot.forEach(h,f=>{const g=function(y,b){return new id(b,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,r).next(_=>{_.forEach((y,b)=>{c=c.insert(y,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((f,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,ci.newInvalidDocument(_)))});let h=jh();return c.forEach((f,g)=>{const _=o.get(f);_!==void 0&&Oc(_.mutation,g,fi.empty(),Xe.now()),o_(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return ot.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Ho(r.createTime)}}(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(r){return{name:r.name,query:ZD(r.bundledQuery),readTime:Ho(r.readTime)}}(e)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.overlays=new In(Ct.comparator),this.Qr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=ya();return ot.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.St(t,e,o)}),ot.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const r=ya(),o=e.length+1,c=new Ct(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ot.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new In((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let _=o.get(g.largestBatchId);_===null&&(_=ya(),o=o.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const h=ya(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,_)=>h.set(g,_)),!(h.size()>=r)););return ot.resolve(h)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Qr.get(r.largestBatchId).delete(i.key);this.Qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new LD(e,i));let o=this.Qr.get(e);o===void 0&&(o=dn(),this.Qr.set(e,o)),this.Qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.sessionToken=qi.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.$r=new sn(qe.Ur),this.Kr=new sn(qe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const i=new qe(t,e);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.zr(new qe(t,e))}jr(t,e){t.forEach(i=>this.removeReference(i,e))}Hr(t){const e=new Ct(new De([])),i=new qe(e,t),r=new qe(e,t+1),o=[];return this.Kr.forEachInRange([i,r],c=>{this.zr(c),o.push(c.key)}),o}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Ct(new De([])),i=new qe(e,t),r=new qe(e,t+1);let o=dn();return this.Kr.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new qe(t,0),i=this.$r.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class qe{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Ct.comparator(t.key,e.key)||jt(t.Zr,e.Zr)}static Wr(t,e){return jt(t.Zr,e.Zr)||Ct.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new sn(qe.Ur)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new PD(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Xr=this.Xr.add(new qe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ot.resolve(c)}lookupMutationBatch(t,e){return ot.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ti(i),o=r<0?0:r;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?t_:this.nr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qe(e,0),r=new qe(e,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([i,r],c=>{const h=this.ei(c.Zr);o.push(h)}),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new sn(jt);return e.forEach(r=>{const o=new qe(r,0),c=new qe(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,c],h=>{i=i.add(h.Zr)})}),ot.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Ct.isDocumentKey(o)||(o=o.child(""));const c=new qe(new Ct(o),0);let h=new sn(jt);return this.Xr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(f.Zr)),!0)},c),ot.resolve(this.ni(h))}ni(t){const e=[];return t.forEach(i=>{const r=this.ei(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){be(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return ot.forEach(e.mutations,r=>{const o=new qe(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Xr=i})}sr(t){}containsKey(t,e){const i=new qe(e,0),r=this.Xr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(t){this.ii=t,this.docs=function(){return new In(Ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ii(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():ci.newInvalidDocument(e))}getEntries(t,e){let i=Vf();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():ci.newInvalidDocument(r))}),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Vf();const c=e.path,h=new Ct(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:_}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||XI(YI(_),i)<=0||(r.has(_.key)||o_(e,_))&&(o=o.insert(_.key,_.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Dt(9500)}si(t,e){return ot.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new gO(this)}getSize(t){return ot.resolve(this.size)}}class gO extends aO{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Br.addEntry(t,r)):this.Br.removeEntry(i)}),ot.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(t){this.persistence=t,this.oi=new Ua(e=>r_(e),a_),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this._i=0,this.ai=new u_,this.targetCount=0,this.ui=Ko.cr()}forEachTarget(t,e){return this.oi.forEach((i,r)=>e(r)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this._i&&(this._i=e),ot.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Ko(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.Tr(e),ot.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.oi.forEach((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.oi.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ot.waitFor(o).next(()=>r)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.oi.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this.ai.Gr(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this.ai.jr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ai.Yr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t,e){this.ci={},this.overlays={},this.li=new Jm(0),this.hi=!1,this.hi=!0,this.Pi=new hO,this.referenceDelegate=t(this),this.Ti=new pO(this),this.indexManager=new JD,this.remoteDocumentCache=function(r){return new dO(r)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new QD(e),this.Ei=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new uO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ci[t.toKey()];return i||(i=new fO(e,this.referenceDelegate),this.ci[t.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,i){_t("MemoryPersistence","Starting transaction:",t);const r=new mO(this.li.next());return this.referenceDelegate.di(),i(r).next(o=>this.referenceDelegate.Ai(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ri(t,e){return ot.or(Object.values(this.ci).map(i=>()=>i.containsKey(t,e)))}}class mO extends WI{constructor(t){super(),this.currentSequenceNumber=t}}class h_{constructor(t){this.persistence=t,this.Vi=new u_,this.mi=null}static fi(t){return new h_(t)}get gi(){if(this.mi)return this.mi;throw Dt(60996)}addReference(t,e,i){return this.Vi.addReference(i,e),this.gi.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.Vi.removeReference(i,e),this.gi.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(r=>this.gi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.gi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.gi,i=>{const r=Ct.fromPath(i);return this.pi(t,r).next(o=>{o||e.removeEntry(r,he.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(i=>{i?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return ot.or([()=>ot.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Bf{constructor(t,e){this.persistence=t,this.yi=new Ua(i=>ZI(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=rO(this,e)}static fi(t,e){return new Bf(t,e)}di(){}Ai(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}br(t){let e=0;return this.yr(t,i=>{e++}).next(()=>e)}yr(t,e){return ot.forEach(this.yi,(i,r)=>this.Dr(t,i,r).next(o=>o?ot.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.si(t,c=>this.Dr(t,c,e).next(h=>{h||(i++,o.removeEntry(c,he.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.yi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),ot.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=hf(t.data.value)),e}Dr(t,e,i){return ot.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.yi.get(e);return ot.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ds=i,this.As=r}static Rs(t,e){let i=dn(),r=dn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new f_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Jw()?8:$I(pn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ws(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.bs(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new _O;return this.Ss(t,e,c).next(h=>{if(o.result=h,this.fs)return this.Ds(t,e,c,h.size)})}).next(()=>o.result)}Ds(t,e,i,r){return i.documentReadCount<this.gs?(Lo()<=Nt.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",uc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ot.resolve()):(Lo()<=Nt.DEBUG&&_t("QueryEngine","Query:",uc(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ps*r?(Lo()<=Nt.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",uc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ea(e))):ot.resolve())}ws(t,e){if(Wb(e))return ot.resolve(null);let i=Ea(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=um(e,null,"F"),i=Ea(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=dn(...o);return this.ys.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.vs(e,h);return this.Cs(e,g,c,f.readTime)?this.ws(t,um(e,null,"F")):this.Fs(t,g,e,f)}))})))}bs(t,e,i,r){return Wb(e)||r.isEqual(he.min())?ot.resolve(null):this.ys.getDocuments(t,i).next(o=>{const c=this.vs(e,o);return this.Cs(e,c,i,r)?ot.resolve(null):(Lo()<=Nt.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),uc(e)),this.Fs(t,c,e,GI(r,jc)).next(h=>h))})}vs(t,e){let i=new sn(bD(t));return e.forEach((r,o)=>{o_(t,o)&&(i=i.add(o))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return Lo()<=Nt.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",uc(e)),this.ys.getDocumentsMatchingQuery(t,e,br.min(),i)}Fs(t,e,i,r){return this.ys.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="LocalStore";class bO{constructor(t,e,i,r){this.persistence=t,this.Ms=e,this.serializer=r,this.xs=new In(jt),this.Os=new Ua(o=>r_(o),a_),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(i)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function EO(n,t,e,i){return new bO(n,t,e,i)}async function wS(n,t){const e=oe(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let f=dn();for(const g of r){c.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}for(const g of o){h.push(g.batchId);for(const _ of g.mutations)f=f.add(_.key)}return e.localDocuments.getDocuments(i,f).next(g=>({ks:g,removedBatchIds:c,addedBatchIds:h}))})})}function TO(n,t){const e=oe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,_){const y=g.batch,b=y.keys();let x=ot.resolve();return b.forEach(A=>{x=x.next(()=>_.getEntry(f,A)).next(C=>{const I=g.docVersions.get(A);be(I!==null,48541),C.version.compareTo(I)<0&&(y.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),_.addEntry(C)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,y))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=dn();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function xO(n){const t=oe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function SO(n,t){const e=oe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=t_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}class sE{constructor(){this.activeTargetIds=wD()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AO{constructor(){this.xo=new sE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,i){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new sE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="ConnectivityMonitor";class aE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){_t(rE,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){_t(rE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh=null;function gm(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="RestConnection",RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CO{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${i}/databases/${r}`,this.Go=this.databaseId.database===kf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}zo(t,e,i,r,o){const c=gm(),h=this.jo(t,e.toUriEncodedString());_t(Dp,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,r,o);const{host:g}=new URL(h),_=wr(g);return this.Jo(t,h,f,i,_).then(y=>(_t(Dp,`Received RPC '${t}' ${c}: `,y),y),y=>{throw nd(Dp,`RPC '${t}' ${c} failed with error: `,y,"url: ",h,"request:",i),y})}Yo(t,e,i,r,o,c){return this.zo(t,e,i,r,o)}Ho(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}jo(t,e){const i=RO[t];return`${this.Ko}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class DO extends CO{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=gm();return new Promise((h,f)=>{const g=new Bx;g.setWithCredentials(!0),g.listenOnce(jx.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case uf.NO_ERROR:const y=g.getResponseJson();_t(cn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(y)),h(y);break;case uf.TIMEOUT:_t(cn,`RPC '${t}' ${c} timed out`),f(new St(ut.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const b=g.getStatus();if(_t(cn,`RPC '${t}' ${c} failed with status:`,b,"response text:",g.getResponseText()),b>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x==null?void 0:x.error;if(A&&A.status&&A.message){const C=function(U){const B=U.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(B)>=0?B:ut.UNKNOWN}(A.status);f(new St(C,A.message))}else f(new St(ut.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new St(ut.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{h_:t,streamId:c,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{_t(cn,`RPC '${t}' ${c} completed.`)}});const _=JSON.stringify(r);_t(cn,`RPC '${t}' ${c} sending request:`,r),g.send(e,"POST",_,i,15)})}I_(t,e,i){const r=gm(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=qx(),h=Fx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const _=o.join("");_t(cn,`Creating RPC '${t}' stream ${r}: ${_}`,f);const y=c.createWebChannel(_,f);this.E_(y);let b=!1,x=!1;const A=new IO({Zo:I=>{x?_t(cn,`Not sending because RPC '${t}' stream ${r} is closed:`,I):(b||(_t(cn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),b=!0),_t(cn,`RPC '${t}' stream ${r} sending:`,I),y.send(I))},Xo:()=>y.close()}),C=(I,U,B)=>{I.listen(U,K=>{try{B(K)}catch(Z){setTimeout(()=>{throw Z},0)}})};return C(y,vc.EventType.OPEN,()=>{x||(_t(cn,`RPC '${t}' stream ${r} transport opened.`),A.__())}),C(y,vc.EventType.CLOSE,()=>{x||(x=!0,_t(cn,`RPC '${t}' stream ${r} transport closed`),A.u_(),this.d_(y))}),C(y,vc.EventType.ERROR,I=>{x||(x=!0,nd(cn,`RPC '${t}' stream ${r} transport errored. Name:`,I.name,"Message:",I.message),A.u_(new St(ut.UNAVAILABLE,"The operation could not be completed")))}),C(y,vc.EventType.MESSAGE,I=>{var U;if(!x){const B=I.data[0];be(!!B,16349);const K=B,Z=(K==null?void 0:K.error)||((U=K[0])===null||U===void 0?void 0:U.error);if(Z){_t(cn,`RPC '${t}' stream ${r} received error:`,Z);const G=Z.status;let rt=function(D){const P=Ie[D];if(P!==void 0)return UD(P)}(G),M=Z.message;rt===void 0&&(rt=ut.INTERNAL,M="Unknown error status: "+G+" with message "+Z.message),x=!0,A.u_(new St(rt,M)),y.close()}else _t(cn,`RPC '${t}' stream ${r} received:`,B),A.c_(B)}}),C(h,Hx.STAT_EVENT,I=>{I.stat===sm.PROXY?_t(cn,`RPC '${t}' stream ${r} detected buffering proxy`):I.stat===sm.NOPROXY&&_t(cn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function Op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){return new zD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,e,i=1e3,r=1.5,o=6e4){this.xi=t,this.timerId=e,this.A_=i,this.R_=r,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),r=Math.max(0,e-i);r>0&&_t("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class OO{constructor(t,e,i,r,o,c,h,f){this.xi=t,this.S_=i,this.D_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new RS(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ut.RESOURCE_EXHAUSTED?(Da(e.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.v_===e&&this.z_(i,r)},i=>{t(()=>{const r=new St(ut.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(r)})})}z_(t,e){const i=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{i(()=>this.j_(r))}),this.stream.onMessage(r=>{i(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return _t(oE,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(_t(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MO extends OO{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return be(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,be(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){be(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=XD(t.writeResults,t.commitTime),i=Ho(t.commitTime);return this.listener.ra(i,e)}ia(){const t={};t.database=qD(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>YD(this.serializer,i))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{}class NO extends kO{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new St(ut.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,i,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.zo(t,fm(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new St(ut.UNKNOWN,o.toString())})}Yo(t,e,i,r,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Yo(t,fm(e,i),r,c,h,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new St(ut.UNKNOWN,c.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class PO{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Da(e),this.ua=!1):_t("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu="RemoteStore";class LO{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(c=>{i.enqueueAndForget(async()=>{hu(this)&&(_t(cu,"Restarting streams for network reachability change."),await async function(f){const g=oe(f);g.da.add(4),await uu(g),g.Va.set("Unknown"),g.da.delete(4),await od(g)}(this))})}),this.Va=new PO(i,r)}}async function od(n){if(hu(n))for(const t of n.Aa)await t(!0)}async function uu(n){for(const t of n.Aa)await t(!1)}function hu(n){return oe(n).da.size===0}async function CS(n,t,e){if(!ou(t))throw t;n.da.add(1),await uu(n),n.Va.set("Offline"),e||(e=()=>xO(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{_t(cu,"Retrying IndexedDB access"),await e(),n.da.delete(1),await od(n)})}function IS(n,t){return t().catch(e=>CS(n,e,t))}async function ld(n){const t=oe(n),e=Tr(t);let i=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:t_;for(;VO(t);)try{const r=await SO(t.localStore,i);if(r===null){t.Ia.length===0&&e.k_();break}i=r.batchId,UO(t,r)}catch(r){await CS(t,r)}DS(t)&&OS(t)}function VO(n){return hu(n)&&n.Ia.length<10}function UO(n,t){n.Ia.push(t);const e=Tr(n);e.N_()&&e.ea&&e.ta(t.mutations)}function DS(n){return hu(n)&&!Tr(n).O_()&&n.Ia.length>0}function OS(n){Tr(n).start()}async function zO(n){Tr(n).ia()}async function BO(n){const t=Tr(n);for(const e of n.Ia)t.ta(e.mutations)}async function jO(n,t,e){const i=n.Ia.shift(),r=c_.from(i,t,e);await IS(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await ld(n)}async function HO(n,t){t&&Tr(n).ea&&await async function(i,r){if(function(c){return VD(c)&&c!==ut.ABORTED}(r.code)){const o=i.Ia.shift();Tr(i).L_(),await IS(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await ld(i)}}(n,t),DS(n)&&OS(n)}async function lE(n,t){const e=oe(n);e.asyncQueue.verifyOperationInProgress(),_t(cu,"RemoteStore received new credentials");const i=hu(e);e.da.add(3),await uu(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await od(e)}async function FO(n,t){const e=oe(n);t?(e.da.delete(2),await od(e)):t||(e.da.add(2),await uu(e),e.Va.set("Unknown"))}function Tr(n){return n.ga||(n.ga=function(e,i,r){const o=oe(e);return o.oa(),new MO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:zO.bind(null,n),i_:HO.bind(null,n),na:BO.bind(null,n),ra:jO.bind(null,n)}),n.Aa.push(async t=>{t?(n.ga.L_(),await ld(n)):(await n.ga.stop(),n.Ia.length>0&&(_t(cu,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new d_(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ut.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MS(n,t){if(Da("AsyncQueue",`${t}: ${n}`),ou(n))return new St(ut.UNAVAILABLE,`${t}: ${n}`);throw n}class qO{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=oe(e),o=r.queries;r.queries=cE(),o.forEach((c,h)=>{for(const f of h.Sa)f.onError(i)})})(this,new St(ut.ABORTED,"Firestore shutting down"))}}function cE(){return new Ua(n=>uS(n),cS)}function GO(n){n.Ca.forEach(t=>{t.next()})}var uE,hE;(hE=uE||(uE={})).xa="default",hE.Cache="cache";const YO="SyncEngine";class XO{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.lu={},this.hu=new Ua(h=>uS(h),cS),this.Pu=new Map,this.Tu=new Set,this.Iu=new In(Ct.comparator),this.Eu=new Map,this.du=new u_,this.Au={},this.Ru=new Map,this.Vu=Ko.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function KO(n,t,e){const i=ZO(n);try{const r=await function(c,h){const f=oe(c),g=Xe.now(),_=h.reduce((x,A)=>x.add(A.key),dn());let y,b;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let A=Vf(),C=dn();return f.Bs.getEntries(x,_).next(I=>{A=I,A.forEach((U,B)=>{B.isValidDocument()||(C=C.add(U))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,A)).next(I=>{y=I;const U=[];for(const B of h){const K=kD(B,y.get(B.key).overlayedDocument);K!=null&&U.push(new za(B.key,K,nS(K.value.mapValue),Cs.exists(!0)))}return f.mutationQueue.addMutationBatch(x,g,U,h)}).next(I=>{b=I;const U=I.applyToLocalDocumentSet(y,C);return f.documentOverlayCache.saveOverlays(x,I.batchId,U)})}).then(()=>({batchId:b.batchId,changes:fS(y)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,h,f){let g=c.Au[c.currentUser.toKey()];g||(g=new In(jt)),g=g.insert(h,f),c.Au[c.currentUser.toKey()]=g}(i,r.batchId,e),await cd(i,r.changes),await ld(i.remoteStore)}catch(r){const o=MS(r,"Failed to persist write");e.reject(o)}}function fE(n,t,e){const i=oe(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.hu.forEach((o,c)=>{const h=c.view.Fa(t);h.snapshot&&r.push(h.snapshot)}),function(c,h){const f=oe(c);f.onlineState=h;let g=!1;f.queries.forEach((_,y)=>{for(const b of y.Sa)b.Fa(h)&&(g=!0)}),g&&GO(f)}(i.eventManager,t),r.length&&i.lu.Y_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function WO(n,t){const e=oe(n),i=t.batch.batchId;try{const r=await TO(e.localStore,t);NS(e,i,null),kS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await cd(e,r)}catch(r){await Zm(r)}}async function $O(n,t,e){const i=oe(n);try{const r=await function(c,h){const f=oe(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,h).next(y=>(be(y!==null,37113),_=y.keys(),f.mutationQueue.removeMutationBatch(g,y))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(i.localStore,t);NS(i,t,e),kS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await cd(i,r)}catch(r){await Zm(r)}}function kS(n,t){(n.Ru.get(t)||[]).forEach(e=>{e.resolve()}),n.Ru.delete(t)}function NS(n,t,e){const i=oe(n);let r=i.Au[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Au[i.currentUser.toKey()]=r}}async function cd(n,t,e){const i=oe(n),r=[],o=[],c=[];i.hu.isEmpty()||(i.hu.forEach((h,f)=>{c.push(i.fu(f,t,e).then(g=>{var _;if((g||e)&&i.isPrimaryClient){const y=g?!g.fromCache:(_=void 0)===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(g){r.push(g);const y=f_.Rs(f.targetId,g);o.push(y)}}))}),await Promise.all(c),i.lu.Y_(r),await async function(f,g){const _=oe(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>ot.forEach(g,b=>ot.forEach(b.ds,x=>_.persistence.referenceDelegate.addReference(y,b.targetId,x)).next(()=>ot.forEach(b.As,x=>_.persistence.referenceDelegate.removeReference(y,b.targetId,x)))))}catch(y){if(!ou(y))throw y;_t(vO,"Failed to update sequence numbers: "+y)}for(const y of g){const b=y.targetId;if(!y.fromCache){const x=_.xs.get(b),A=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(A);_.xs=_.xs.insert(b,C)}}}(i.localStore,o))}async function QO(n,t){const e=oe(n);if(!e.currentUser.isEqual(t)){_t(YO,"User change. New user:",t.toKey());const i=await wS(e.localStore,t);e.currentUser=t,function(o,c){o.Ru.forEach(h=>{h.forEach(f=>{f.reject(new St(ut.CANCELLED,c))})}),o.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await cd(e,i.ks)}}function ZO(n){const t=oe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,t),t}class jf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ad(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return EO(this.persistence,new yO,t.initialUser,this.serializer)}Su(t){return new AS(h_.fi,this.serializer)}bu(t){return new AO}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jf.provider={build:()=>new jf};class JO extends jf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){be(this.persistence.referenceDelegate instanceof Bf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new iO(i,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new AS(i=>Bf.fi(i,e),this.serializer)}}class pm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QO.bind(null,this.syncEngine),await FO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new qO}()}createDatastore(t){const e=ad(t.databaseInfo.databaseId),i=function(o){return new DO(o)}(t.databaseInfo);return function(o,c,h,f){return new NO(o,c,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,h){return new LO(i,r,o,c,h)}(this.localStore,this.datastore,t.asyncQueue,e=>fE(this.syncEngine,e,0),function(){return aE.C()?new aE:new wO}())}createSyncEngine(t,e){return function(r,o,c,h,f,g,_){const y=new XO(r,o,c,h,f,g);return _&&(y.mu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=oe(r);_t(cu,"RemoteStore shutting down."),o.da.add(5),await uu(o),o.Ra.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="FirestoreClient";class tM{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=hn.UNAUTHENTICATED,this.clientId=Xx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{_t(xr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(_t(xr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=MS(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Mp(n,t){n.asyncQueue.verifyOperationInProgress(),_t(xr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await wS(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function dE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await eM(n);_t(xr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>lE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>lE(t.remoteStore,r)),n._onlineComponents=t}async function eM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_t(xr,"Using user provided OfflineComponentProvider");try{await Mp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===ut.FAILED_PRECONDITION||r.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;nd("Error using user provided cache. Falling back to memory cache: "+e),await Mp(n,new jf)}}else _t(xr,"Using default OfflineComponentProvider"),await Mp(n,new JO(void 0));return n._offlineComponents}async function nM(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_t(xr,"Using user provided OnlineComponentProvider"),await dE(n,n._uninitializedComponentsProvider._online)):(_t(xr,"Using default OnlineComponentProvider"),await dE(n,new pm))),n._onlineComponents}function iM(n){return nM(n).then(t=>t.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(n,t,e){if(!e)throw new St(ut.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function rM(n,t,e,i){if(t===!0&&i===!0)throw new St(ut.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function pE(n){if(!Ct.isDocumentKey(n))throw new St(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function g_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Dt(12329,{type:typeof n})}function mm(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new St(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=g_(n);throw new St(ut.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="firestore.googleapis.com",mE=!0;class _E{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new St(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LS,this.ssl=mE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:mE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eO)throw new St(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PS((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new St(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new St(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new St(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class p_{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new PI;switch(i.type){case"firstParty":return new zI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new St(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=gE.get(e);i&&(_t("ComponentProvider","Removing Datastore"),gE.delete(e),i.terminate())}(this),Promise.resolve()}}function aM(n,t,e,i={}){var r;n=mm(n,p_);const o=wr(t),c=n._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),f=`${t}:${e}`;o&&(Pm(`https://${f}`),Lm("Firestore",!0)),c.host!==LS&&c.host!==f&&nd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},c),{host:f,ssl:o,emulatorOptions:i});if(!Aa(g,h)&&(n._setSettings(g),i.mockUserToken)){let _,y;if(typeof i.mockUserToken=="string")_=i.mockUserToken,y=hn.MOCK_USER;else{_=ex(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new St(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new hn(b)}n._authCredentials=new LI(new Yx(_,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new m_(this.firestore,t,this._query)}}class Is{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Is(this.firestore,t,this._key)}}class Gc extends m_{constructor(t,e,i){super(t,e,_D(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Is(this.firestore,null,new Ct(t))}withConverter(t){return new Gc(this.firestore,t,this._path)}}function oM(n,t,...e){if(n=rn(n),arguments.length===1&&(t=Xx.newId()),sM("doc","path",t),n instanceof p_){const i=De.fromString(t,...e);return pE(i),new Is(n,null,new Ct(i))}{if(!(n instanceof Is||n instanceof Gc))throw new St(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(De.fromString(t,...e));return pE(i),new Is(n.firestore,n instanceof Gc?n.converter:null,new Ct(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="AsyncQueue";class vE{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new RS(this,"async_queue_retry"),this.rc=()=>{const i=Op();i&&_t(yE,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=t;const e=Op();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=Op();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new ba;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ou(t))throw t;_t(yE,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(i=>{throw this.Xu=i,this.ec=!1,Da("INTERNAL UNHANDLED ERROR: ",bE(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=e,e}enqueueAfterDelay(t,e,i){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const r=d_.createAndSchedule(this,t,e,i,o=>this.uc(o));return this.Zu.push(r),r}oc(){this.Xu&&Dt(47125,{cc:bE(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function bE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class VS extends p_{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new vE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new vE(t),this._firestoreClient=void 0,await t}}}function lM(n,t){const e=typeof n=="object"?n:zm(),i=typeof n=="string"?n:kf,r=Zf(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=ZT("firestore");o&&aM(r,...o)}return r}function cM(n){if(n._terminated)throw new St(ut.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uM(n),n._firestoreClient}function uM(n){var t,e,i;const r=n._freezeSettings(),o=function(h,f,g,_){return new nD(h,f,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,PS(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new tM(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yc(qi.fromBase64String(t))}catch(e){throw new St(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yc(qi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new St(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new St(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new St(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=/^__.*__$/;class fM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new za(t,this.data,this.fieldMask,e,this.fieldTransforms):new lu(t,this.data,e,this.fieldTransforms)}}function HS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ic:n})}}class __{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new __(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Vc(t),r}mc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.dc({path:i,Rc:!1});return r.Ec(),r}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Hf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(HS(this.Ic)&&hM.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class dM{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ad(t)}bc(t,e,i,r=!1){return new __({Ic:t,methodName:e,wc:i,path:nn.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gM(n){const t=n._freezeSettings(),e=ad(n._databaseId);return new dM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function pM(n,t,e,i,r,o={}){const c=n.bc(o.merge||o.mergeFields?2:0,t,e,r);YS("Data must be an object, but it was:",c,i);const h=qS(i,c);let f,g;if(o.merge)f=new fi(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const _=[];for(const y of o.mergeFields){const b=mM(t,y,e);if(!c.contains(b))throw new St(ut.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);vM(_,b)||_.push(b)}f=new fi(_),g=c.fieldTransforms.filter(y=>f.covers(y.field))}else f=null,g=c.fieldTransforms;return new fM(new ui(h),f,g)}function FS(n,t){if(GS(n=rn(n)))return YS("Unsupported field value:",t,n),qS(n,t);if(n instanceof zS)return function(i,r){if(!HS(r.Ic))throw r.gc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const h of i){let f=FS(h,r.fc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=rn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return RD(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Xe.fromDate(i);return{timestampValue:hm(r.serializer,o)}}if(i instanceof Xe){const o=new Xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hm(r.serializer,o)}}if(i instanceof BS)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yc)return{bytesValue:BD(r.serializer,i._byteString)};if(i instanceof Is){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.gc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TS(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof jS)return function(c,h){return{mapValue:{fields:{[tS]:{stringValue:eS},[am]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw h.gc("VectorValues must only contain numeric values.");return l_(h.serializer,g)})}}}}}}(i,r);throw r.gc(`Unsupported field value: ${g_(i)}`)}(n,t)}function qS(n,t){const e={};return Wx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tl(n,(i,r)=>{const o=FS(r,t.Ac(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function GS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof BS||n instanceof Yc||n instanceof Is||n instanceof zS||n instanceof jS)}function YS(n,t,e){if(!GS(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=g_(e);throw i==="an object"?t.gc(n+" a custom object"):t.gc(n+" "+i)}}function mM(n,t,e){if((t=rn(t))instanceof US)return t._internalPath;if(typeof t=="string")return yM(n,t);throw Hf("Field path arguments must be of type string or ",n,!1,void 0,e)}const _M=new RegExp("[~\\*/\\[\\]]");function yM(n,t,e){if(t.search(_M)>=0)throw Hf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new US(...t.split("."))._internalPath}catch{throw Hf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Hf(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new St(ut.INVALID_ARGUMENT,h+n+f)}function vM(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n,t,e){let i;return i=n?n.toFirestore(t):t,i}function EM(n,t,e){n=mm(n,Is);const i=mm(n.firestore,VS),r=bM(n.converter,t);return TM(i,[pM(gM(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Cs.none())])}function TM(n,t){return function(i,r){const o=new ba;return i.asyncQueue.enqueueAndForget(async()=>KO(await iM(i),r,o)),o.promise}(cM(n),t)}(function(t,e=!0){(function(r){Jo=r})(La),wa(new vr("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new VS(new VI(i.getProvider("auth-internal")),new BI(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new St(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(g.options.projectId,_)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),Bi(Nb,Pb,t),Bi(Nb,Pb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="firebasestorage.googleapis.com",KS="storageBucket",xM=2*60*1e3,SM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me extends Yi{constructor(t,e,i=0){super(kp(t),`Firebase Storage: ${e} (${kp(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Me.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return kp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oe;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oe||(Oe={}));function kp(n){return"storage/"+n}function y_(){const n="An unknown error occurred, please check the error payload for server response.";return new Me(Oe.UNKNOWN,n)}function AM(n){return new Me(Oe.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Me(Oe.UNAUTHENTICATED,n)}function RM(){return new Me(Oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function CM(n){return new Me(Oe.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function IM(){return new Me(Oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DM(){return new Me(Oe.CANCELED,"User canceled the upload/download.")}function OM(n){return new Me(Oe.INVALID_URL,"Invalid URL '"+n+"'.")}function MM(n){return new Me(Oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function kM(){return new Me(Oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KS+"' property when initializing the app?")}function NM(){return new Me(Oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PM(n){return new Me(Oe.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _m(n){return new Me(Oe.INVALID_ARGUMENT,n)}function WS(){return new Me(Oe.APP_DELETED,"The Firebase app was deleted.")}function LM(n){return new Me(Oe.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mc(n,t){return new Me(Oe.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function hc(n){throw new Me(Oe.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=jn.makeFromUrl(t,e)}catch{return new jn(t,"")}if(i.path==="")return i;throw MM(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const c="(/(.*))?$",h=new RegExp("^gs://"+r+c,"i"),f={bucket:1,path:3};function g(Z){Z.path_=decodeURIComponent(Z.path)}const _="v[A-Za-z0-9_]+",y=e.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${y}/${_}/b/${r}/o${b}`,"i"),A={bucket:1,path:3},C=e===XS?"(?:storage.googleapis.com|storage.cloud.google.com)":e,I="([^?#]*)",U=new RegExp(`^https?://${C}/${r}/${I}`,"i"),K=[{regex:h,indices:f,postModify:o},{regex:x,indices:A,postModify:g},{regex:U,indices:{bucket:1,path:2},postModify:g}];for(let Z=0;Z<K.length;Z++){const G=K[Z],rt=G.regex.exec(t);if(rt){const M=rt[G.indices.bucket];let w=rt[G.indices.path];w||(w=""),i=new jn(M,w),G.postModify(i);break}}if(i==null)throw OM(t);return i}}class VM{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(n,t,e){let i=1,r=null,o=null,c=!1,h=0;function f(){return h===2}let g=!1;function _(...I){g||(g=!0,t.apply(null,I))}function y(I){r=setTimeout(()=>{r=null,n(x,f())},I)}function b(){o&&clearTimeout(o)}function x(I,...U){if(g){b();return}if(I){b(),_.call(null,I,...U);return}if(f()||c){b(),_.call(null,I,...U);return}i<64&&(i*=2);let K;h===1?(h=2,K=0):K=(i+Math.random())*1e3,y(K)}let A=!1;function C(I){A||(A=!0,b(),!g&&(r!==null?(I||(h=2),clearTimeout(r),y(0)):I||(h=1)))}return y(0),o=setTimeout(()=>{c=!0,C(!0)},e),C}function zM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n){return n!==void 0}function jM(n){return typeof n=="object"&&!Array.isArray(n)}function $S(n){return typeof n=="string"||n instanceof String}function EE(n){return v_()&&n instanceof Blob}function v_(){return typeof Blob<"u"}function TE(n,t,e,i){if(i<t)throw _m(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw _m(`Invalid value for '${n}'. Expected ${e} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function FM(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var Ta;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ta||(Ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(t,e,i,r,o,c,h,f,g,_,y,b=!0,x=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=f,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=y,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,C)=>{this.resolve_=A,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new Fh(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const c=h=>{const f=h.loaded,g=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,g)};this.progressCallback_!==null&&o.addUploadProgressListener(c),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(c),this.pendingConnection_=null;const h=o.getErrorCode()===Ta.NO_ERROR,f=o.getStatus();if(!h||qM(f,this.additionalRetryCodes_)&&this.retry){const _=o.getErrorCode()===Ta.ABORT;i(!1,new Fh(!1,null,_));return}const g=this.successCodes_.indexOf(f)!==-1;i(!0,new Fh(g,o))})},e=(i,r)=>{const o=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());BM(f)?o(f):o()}catch(f){c(f)}else if(h!==null){const f=y_();f.serverResponse=h.getErrorText(),this.errorCallback_?c(this.errorCallback_(h,f)):c(f)}else if(r.canceled){const f=this.appDelete_?WS():DM();c(f)}else{const f=IM();c(f)}};this.canceled_?e(!1,new Fh(!1,null,!0)):this.backoffId_=UM(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&zM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fh{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function YM(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function XM(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function KM(n,t){t&&(n["X-Firebase-GMPID"]=t)}function WM(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function $M(n,t,e,i,r,o,c=!0,h=!1){const f=FM(n.urlParams),g=n.url+f,_=Object.assign({},n.headers);return KM(_,t),YM(_,e),XM(_,o),WM(_,i),new GM(g,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZM(...n){const t=QM();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(v_())return new Blob(n);throw new Me(Oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JM(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(n){if(typeof atob>"u")throw PM("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Np{constructor(t,e){this.data=t,this.contentType=e||null}}function ek(n,t){switch(n){case zi.RAW:return new Np(QS(t));case zi.BASE64:case zi.BASE64URL:return new Np(ZS(n,t));case zi.DATA_URL:return new Np(ik(t),sk(t))}throw y_()}function QS(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const o=i,c=n.charCodeAt(++e);i=65536|(o&1023)<<10|c&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function nk(n){let t;try{t=decodeURIComponent(n)}catch{throw Mc(zi.DATA_URL,"Malformed data URL.")}return QS(t)}function ZS(n,t){switch(n){case zi.BASE64:{const r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Mc(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case zi.BASE64URL:{const r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Mc(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=tk(t)}catch(r){throw r.message.includes("polyfill")?r:Mc(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class JS{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Mc(zi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=rk(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function ik(n){const t=new JS(n);return t.base64?ZS(zi.BASE64,t.rest):nk(t.rest)}function sk(n){return new JS(n).contentType}function rk(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t,e){let i=0,r="";EE(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(EE(this.data_)){const i=this.data_,r=JM(i,t,e);return r===null?null:new hr(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new hr(i,!0)}}static getBlob(...t){if(v_()){const e=t.map(i=>i instanceof hr?i.data_:i);return new hr(ZM.apply(null,e))}else{const e=t.map(c=>$S(c)?ek(zi.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(c=>{for(let h=0;h<c.length;h++)r[o++]=c[h]}),new hr(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n){let t;try{t=JSON.parse(n)}catch{return null}return jM(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function lk(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function t1(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n,t){return t}class Tn{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||ck}}let qh=null;function uk(n){return!$S(n)||n.length<2?n:t1(n)}function hk(){if(qh)return qh;const n=[];n.push(new Tn("bucket")),n.push(new Tn("generation")),n.push(new Tn("metageneration")),n.push(new Tn("name","fullPath",!0));function t(o,c){return uk(c)}const e=new Tn("name");e.xform=t,n.push(e);function i(o,c){return c!==void 0?Number(c):c}const r=new Tn("size");return r.xform=i,n.push(r),n.push(new Tn("timeCreated")),n.push(new Tn("updated")),n.push(new Tn("md5Hash",null,!0)),n.push(new Tn("cacheControl",null,!0)),n.push(new Tn("contentDisposition",null,!0)),n.push(new Tn("contentEncoding",null,!0)),n.push(new Tn("contentLanguage",null,!0)),n.push(new Tn("contentType",null,!0)),n.push(new Tn("metadata","customMetadata",!0)),qh=n,qh}function fk(n,t){function e(){const i=n.bucket,r=n.fullPath,o=new jn(i,r);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function dk(n,t,e){const i={};i.type="file";const r=e.length;for(let o=0;o<r;o++){const c=e[o];i[c.local]=c.xform(i,t[c.server])}return fk(i,n),i}function gk(n,t,e){const i=ak(t);return i===null?null:dk(n,i,e)}function pk(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class mk{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){if(!n)throw y_()}function yk(n,t){function e(i,r){const o=gk(n,r,t);return _k(o!==null),o}return e}function vk(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=RM():r=wM():e.getStatus()===402?r=AM(n.bucket):e.getStatus()===403?r=CM(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function bk(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function Ek(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=bk(null,t)),i}function Tk(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function h(){let K="";for(let Z=0;Z<2;Z++)K=K+Math.random().toString().slice(2);return K}const f=h();c["Content-Type"]="multipart/related; boundary="+f;const g=Ek(t,i,r),_=pk(g,e),y="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+f+`\r
Content-Type: `+g.contentType+`\r
\r
`,b=`\r
--`+f+"--",x=hr.getBlob(y,i,b);if(x===null)throw NM();const A={name:g.fullPath},C=HM(o,n.host,n._protocol),I="POST",U=n.maxUploadRetryTime,B=new mk(C,I,yk(n,e),U);return B.urlParams=A,B.headers=c,B.body=x.uploadData(),B.errorHandler=vk(t),B}class xk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ta.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ta.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ta.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,o){if(this.sent_)throw hc("cannot .send() more than once");if(wr(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class Sk extends xk{initXhr(){this.xhr_.responseType="text"}}function Ak(){return new Sk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,e){this._service=t,e instanceof jn?this._location=e:this._location=jn.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ka(t,e)}get root(){const t=new jn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return t1(this._location.path)}get storage(){return this._service}get parent(){const t=ok(this._location.path);if(t===null)return null;const e=new jn(this._location.bucket,t);return new ka(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw LM(t)}}function wk(n,t,e){n._throwIfRoot("uploadBytes");const i=Tk(n.storage,n._location,hk(),new hr(t,!0),e);return n.storage.makeRequestWithTokens(i,Ak).then(r=>({metadata:r,ref:n}))}function Rk(n,t){const e=lk(n._location.path,t),i=new jn(n._location.bucket,e);return new ka(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(n){return/^[A-Za-z]+:\/\//.test(n)}function Ik(n,t){return new ka(n,t)}function e1(n,t){if(n instanceof b_){const e=n;if(e._bucket==null)throw kM();const i=new ka(e,e._bucket);return t!=null?e1(i,t):i}else return t!==void 0?Rk(n,t):n}function Dk(n,t){if(t&&Ck(t)){if(n instanceof b_)return Ik(n,t);throw _m("To use ref(service, url), the first argument must be a Storage instance.")}else return e1(n,t)}function xE(n,t){const e=t==null?void 0:t[KS];return e==null?null:jn.makeFromBucketSpec(e,n)}function Ok(n,t,e,i={}){n.host=`${t}:${e}`;const r=wr(t);r&&(Pm(`https://${n.host}/b`),Lm("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:ex(o,n.app.options.projectId))}class b_{constructor(t,e,i,r,o,c=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=c,this._bucket=null,this._host=XS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xM,this._maxUploadRetryTime=SM,this._requests=new Set,r!=null?this._bucket=jn.makeFromBucketSpec(r,this._host):this._bucket=xE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,t):this._bucket=xE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){TE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){TE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ka(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new VM(WS());{const c=$M(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const SE="@firebase/storage",AE="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="storage";function Mk(n,t,e){return n=rn(n),wk(n,t,e)}function kk(n,t){return n=rn(n),Dk(n,t)}function Nk(n=zm(),t){n=rn(n);const i=Zf(n,n1).getImmediate({identifier:t}),r=ZT("storage");return r&&Pk(i,...r),i}function Pk(n,t,e,i={}){Ok(n,t,e,i)}function Lk(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new b_(e,i,r,t,La)}function Vk(){wa(new vr(n1,Lk,"PUBLIC").setMultipleInstances(!0)),Bi(SE,AE,""),Bi(SE,AE,"esm2017")}Vk();/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fu(n){return n+.5|0}const fr=(n,t,e)=>Math.max(Math.min(n,e),t);function bc(n){return fr(fu(n*2.55),0,255)}function yr(n){return fr(fu(n*255),0,255)}function Es(n){return fr(fu(n/2.55)/100,0,1)}function wE(n){return fr(fu(n*100),0,100)}const ni={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ym=[..."0123456789ABCDEF"],Uk=n=>ym[n&15],zk=n=>ym[(n&240)>>4]+ym[n&15],Gh=n=>(n&240)>>4===(n&15),Bk=n=>Gh(n.r)&&Gh(n.g)&&Gh(n.b)&&Gh(n.a);function jk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ni[n[1]]*17,g:255&ni[n[2]]*17,b:255&ni[n[3]]*17,a:t===5?ni[n[4]]*17:255}:(t===7||t===9)&&(e={r:ni[n[1]]<<4|ni[n[2]],g:ni[n[3]]<<4|ni[n[4]],b:ni[n[5]]<<4|ni[n[6]],a:t===9?ni[n[7]]<<4|ni[n[8]]:255})),e}const Hk=(n,t)=>n<255?t(n):"";function Fk(n){var t=Bk(n)?Uk:zk;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Hk(n.a,t):void 0}const qk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function i1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function Gk(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function Yk(n,t,e){const i=i1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function Xk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function E_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),h=(o+c)/2;let f,g,_;return o!==c&&(_=o-c,g=h>.5?_/(2-o-c):_/(o+c),f=Xk(e,i,r,_,o),f=f*60+.5),[f|0,g||0,h]}function T_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(yr)}function x_(n,t,e){return T_(i1,n,t,e)}function Kk(n,t,e){return T_(Yk,n,t,e)}function Wk(n,t,e){return T_(Gk,n,t,e)}function s1(n){return(n%360+360)%360}function $k(n){const t=qk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?bc(+t[5]):yr(+t[5]));const r=s1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=Kk(r,o,c):t[1]==="hsv"?i=Wk(r,o,c):i=x_(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function Qk(n,t){var e=E_(n);e[0]=s1(e[0]+t),e=x_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Zk(n){if(!n)return;const t=E_(n),e=t[0],i=wE(t[1]),r=wE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Es(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const RE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},CE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Jk(){const n={},t=Object.keys(CE),e=Object.keys(RE);let i,r,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],r=0;r<e.length;r++)o=e[r],h=h.replace(o,RE[o]);o=parseInt(CE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Yh;function tN(n){Yh||(Yh=Jk(),Yh.transparent=[0,0,0,0]);const t=Yh[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const eN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nN(n){const t=eN.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?bc(c):fr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?bc(i):fr(i,0,255)),r=255&(t[4]?bc(r):fr(r,0,255)),o=255&(t[6]?bc(o):fr(o,0,255)),{r:i,g:r,b:o,a:e}}}function iN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Es(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Pp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,No=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function sN(n,t,e){const i=No(Es(n.r)),r=No(Es(n.g)),o=No(Es(n.b));return{r:yr(Pp(i+e*(No(Es(t.r))-i))),g:yr(Pp(r+e*(No(Es(t.g))-r))),b:yr(Pp(o+e*(No(Es(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Xh(n,t,e){if(n){let i=E_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=x_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function r1(n,t){return n&&Object.assign(t||{},n)}function IE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=yr(n[3]))):(t=r1(n,{r:0,g:0,b:0,a:1}),t.a=yr(t.a)),t}function rN(n){return n.charAt(0)==="r"?nN(n):$k(n)}class Xc{constructor(t){if(t instanceof Xc)return t;const e=typeof t;let i;e==="object"?i=IE(t):e==="string"&&(i=jk(t)||tN(t)||rN(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=r1(this._rgb);return t&&(t.a=Es(t.a)),t}set rgb(t){this._rgb=IE(t)}rgbString(){return this._valid?iN(this._rgb):void 0}hexString(){return this._valid?Fk(this._rgb):void 0}hslString(){return this._valid?Zk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-r.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*r.r+.5,i.g=255&g*i.g+o*r.g+.5,i.b=255&g*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=sN(this._rgb,t._rgb,e)),this}clone(){return new Xc(this.rgb)}alpha(t){return this._rgb.a=yr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=fu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xh(this._rgb,2,t),this}darken(t){return Xh(this._rgb,2,-t),this}saturate(t){return Xh(this._rgb,1,t),this}desaturate(t){return Xh(this._rgb,1,-t),this}rotate(t){return Qk(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ys(){}const aN=(()=>{let n=0;return()=>n++})();function kt(n){return n==null}function fe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Pt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ve(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function zn(n,t){return ve(n)?n:t}function At(n,t){return typeof n>"u"?t:n}const oN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,a1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ae(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Zt(n,t,e,i){let r,o,c;if(fe(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Pt(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Ff(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function qf(n){if(fe(n))return n.map(qf);if(Pt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=qf(n[e[r]]);return t}return n}function o1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function lN(n,t,e,i){if(!o1(n))return;const r=t[n],o=e[n];Pt(r)&&Pt(o)?Kc(r,o,i):t[n]=qf(o)}function Kc(n,t,e){const i=fe(t)?t:[t],r=i.length;if(!Pt(n))return n;e=e||{};const o=e.merger||lN;let c;for(let h=0;h<r;++h){if(c=i[h],!Pt(c))continue;const f=Object.keys(c);for(let g=0,_=f.length;g<_;++g)o(f[g],n,c,e)}return n}function kc(n,t){return Kc(n,t,{merger:cN})}function cN(n,t,e){if(!o1(n))return;const i=t[n],r=e[n];Pt(i)&&Pt(r)?kc(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=qf(r))}const DE={"":n=>n,x:n=>n.x,y:n=>n.y};function uN(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function hN(n){const t=uN(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Sr(n,t){return(DE[t]||(DE[t]=hN(t)))(n)}function S_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Wc=n=>typeof n<"u",Ar=n=>typeof n=="function",OE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function fN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ft=Math.PI,le=2*Ft,dN=le+Ft,Gf=Number.POSITIVE_INFINITY,gN=Ft/180,Se=Ft/2,ha=Ft/4,ME=Ft*2/3,dr=Math.log10,Fi=Math.sign;function Nc(n,t,e){return Math.abs(n-t)<e}function kE(n){const t=Math.round(n);n=Nc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(dr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function pN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function mN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Wo(n){return!mN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function _N(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function l1(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function di(n){return n*(Ft/180)}function A_(n){return n*(180/Ft)}function NE(n){if(!ve(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function c1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ft&&(o+=le),{angle:o,distance:r}}function vm(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function yN(n,t){return(n-t+dN)%le-Ft}function fn(n){return(n%le+le)%le}function $c(n,t,e,i){const r=fn(n),o=fn(t),c=fn(e),h=fn(o-r),f=fn(c-r),g=fn(r-o),_=fn(r-c);return r===o||r===c||i&&o===c||h>f&&g<_}function Ye(n,t,e){return Math.max(t,Math.min(e,n))}function vN(n){return Ye(n,-32768,32767)}function Ss(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function w_(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const As=(n,t,e,i)=>w_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),bN=(n,t,e)=>w_(n,e,i=>n[i][t]>=e);function EN(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const u1=["push","pop","shift","splice","unshift"];function TN(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),u1.forEach(e=>{const i="_onData"+S_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function PE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(u1.forEach(o=>{delete n[o]}),delete n._chartjs)}function h1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const f1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function d1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,f1.call(window,()=>{i=!1,n.apply(t,e)}))}}function xN(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const R_=n=>n==="start"?"left":n==="end"?"right":"center",un=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,SN=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function g1(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,_=c.axis,{min:y,max:b,minDefined:x,maxDefined:A}=c.getUserBounds();if(x){if(r=Math.min(As(f,_,y).lo,e?i:As(t,_,c.getPixelForValue(y)).lo),g){const C=f.slice(0,r+1).reverse().findIndex(I=>!kt(I[h.axis]));r-=Math.max(0,C)}r=Ye(r,0,i-1)}if(A){let C=Math.max(As(f,c.axis,b,!0).hi+1,e?0:As(t,_,c.getPixelForValue(b),!0).hi+1);if(g){const I=f.slice(C-1).findIndex(U=>!kt(U[h.axis]));C+=Math.max(0,I)}o=Ye(C,r,i)-r}else o=i-r}return{start:r,count:o}}function p1(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Kh=n=>n===0||n===1,LE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*le/e)),VE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*le/e)+1,Pc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Se)+1,easeOutSine:n=>Math.sin(n*Se),easeInOutSine:n=>-.5*(Math.cos(Ft*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Kh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Kh(n)?n:LE(n,.075,.3),easeOutElastic:n=>Kh(n)?n:VE(n,.075,.3),easeInOutElastic(n){return Kh(n)?n:n<.5?.5*LE(n*2,.1125,.45):.5+.5*VE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Pc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Pc.easeInBounce(n*2)*.5:Pc.easeOutBounce(n*2-1)*.5+.5};function C_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function UE(n){return C_(n)?n:new Xc(n)}function Lp(n){return C_(n)?n:new Xc(n).saturate(.5).darken(.1).hexString()}const AN=["x","y","borderWidth","radius","tension"],wN=["color","borderColor","backgroundColor"];function RN(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:wN},numbers:{type:"number",properties:AN}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function CN(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const zE=new Map;function IN(n,t){t=t||{};const e=n+JSON.stringify(t);let i=zE.get(e);return i||(i=new Intl.NumberFormat(n,t),zE.set(e,i)),i}function du(n,t,e){return IN(t,e).format(n)}const m1={values(n){return fe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(r="scientific"),o=DN(n,e)}const c=dr(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),du(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(dr(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?m1.numeric.call(this,n,t,e):""}};function DN(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var ud={formatters:m1};function ON(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ud.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Na=Object.create(null),bm=Object.create(null);function Lc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Vp(n,t,e){return typeof t=="string"?Kc(Lc(n,t),e):Kc(Lc(n,""),t)}class MN{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Lp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Lp(r.borderColor),this.hoverColor=(i,r)=>Lp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Vp(this,t,e)}get(t){return Lc(this,t)}describe(t,e){return Vp(bm,t,e)}override(t,e){return Vp(Na,t,e)}route(t,e,i,r){const o=Lc(this,t),c=Lc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[r];return Pt(f)?Object.assign({},g,f):At(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var de=new MN({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[RN,CN,ON]);function kN(n){return!n||kt(n.size)||kt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Yf(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function NN(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let c=0;const h=e.length;let f,g,_,y,b;for(f=0;f<h;f++)if(y=e[f],y!=null&&!fe(y))c=Yf(n,r,o,c,y);else if(fe(y))for(g=0,_=y.length;g<_;g++)b=y[g],b!=null&&!fe(b)&&(c=Yf(n,r,o,c,b));n.restore();const x=o.length/2;if(x>e.length){for(f=0;f<x;f++)delete r[o[f]];o.splice(0,x)}return c}function fa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function BE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Em(n,t,e,i){_1(n,t,e,i,null)}function _1(n,t,e,i,r){let o,c,h,f,g,_,y,b;const x=t.pointStyle,A=t.rotation,C=t.radius;let I=(A||0)*gN;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(I),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),x){default:r?n.ellipse(e,i,r/2,C,0,0,le):n.arc(e,i,C,0,le),n.closePath();break;case"triangle":_=r?r/2:C,n.moveTo(e+Math.sin(I)*_,i-Math.cos(I)*C),I+=ME,n.lineTo(e+Math.sin(I)*_,i-Math.cos(I)*C),I+=ME,n.lineTo(e+Math.sin(I)*_,i-Math.cos(I)*C),n.closePath();break;case"rectRounded":g=C*.516,f=C-g,c=Math.cos(I+ha)*f,y=Math.cos(I+ha)*(r?r/2-g:f),h=Math.sin(I+ha)*f,b=Math.sin(I+ha)*(r?r/2-g:f),n.arc(e-y,i-h,g,I-Ft,I-Se),n.arc(e+b,i-c,g,I-Se,I),n.arc(e+y,i+h,g,I,I+Se),n.arc(e-b,i+c,g,I+Se,I+Ft),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*C,_=r?r/2:f,n.rect(e-_,i-f,2*_,2*f);break}I+=ha;case"rectRot":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+b,i-c),n.lineTo(e+y,i+h),n.lineTo(e-b,i+c),n.closePath();break;case"crossRot":I+=ha;case"cross":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"star":y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c),I+=ha,y=Math.cos(I)*(r?r/2:C),c=Math.cos(I)*C,h=Math.sin(I)*C,b=Math.sin(I)*(r?r/2:C),n.moveTo(e-y,i-h),n.lineTo(e+y,i+h),n.moveTo(e+b,i-c),n.lineTo(e-b,i+c);break;case"line":c=r?r/2:Math.cos(I)*C,h=Math.sin(I)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(I)*(r?r/2:C),i+Math.sin(I)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ws(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function hd(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function fd(n){n.restore()}function PN(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function LN(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function VN(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),kt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function UN(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,_=r.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,_),n.lineTo(h,_),n.stroke()}}function zN(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Pa(n,t,e,i,r,o={}){const c=fe(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=r.string,VN(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&zN(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),kt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),UN(n,e,i,g,o),i+=Number(r.lineHeight);n.restore()}function Qc(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ft,Ft,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ft,Se,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Se,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Se,!0),n.lineTo(e+c.topLeft,i)}const BN=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,jN=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function HN(n,t){const e=(""+n).match(BN);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const FN=n=>+n||0;function I_(n,t){const e={},i=Pt(t),r=i?Object.keys(t):t,o=Pt(n)?i?c=>At(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=FN(o(c));return e}function y1(n){return I_(n,{top:"y",right:"x",bottom:"y",left:"x"})}function xa(n){return I_(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(n){const t=y1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ue(n,t){n=n||{},t=t||de.font;let e=At(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=At(n.style,t.style);i&&!(""+i).match(jN)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:At(n.family,t.family),lineHeight:HN(At(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:At(n.weight,t.weight),string:""};return r.string=kN(r),r}function Ec(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function qN(n,t,e){const{min:i,max:r}=n,o=a1(t,(r-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Ir(n,t){return Object.assign(Object.create(n),t)}function D_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=T1("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:h=>D_([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return b1(h,f,()=>ZN(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return HE(h).includes(f)},ownKeys(h){return HE(h)},set(h,f,g){const _=h._storage||(h._storage=r());return h[f]=_[f]=g,delete h._keys,!0}})}function $o(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:v1(n,i),setContext:o=>$o(n,o,e,i),override:o=>$o(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return b1(o,c,()=>YN(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function v1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ar(e)?e:()=>e,isIndexable:Ar(i)?i:()=>i}}const GN=(n,t)=>n?n+S_(t):t,O_=(n,t)=>Pt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function b1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function YN(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ar(h)&&c.isScriptable(t)&&(h=XN(t,h,n,e)),fe(h)&&h.length&&(h=KN(t,h,n,c.isIndexable)),O_(t,h)&&(h=$o(h,r,o&&o[t],c)),h}function XN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),O_(n,f)&&(f=M_(r._scopes,r,n,f)),f}function KN(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Pt(t[0])){const f=t,g=r._scopes.filter(_=>_!==f);t=[];for(const _ of f){const y=M_(g,r,n,_);t.push($o(y,o,c&&c[n],h))}}return t}function E1(n,t,e){return Ar(n)?n(t,e):n}const WN=(n,t)=>n===!0?t:typeof n=="string"?Sr(t,n):void 0;function $N(n,t,e,i,r){for(const o of t){const c=WN(e,o);if(c){n.add(c);const h=E1(c._fallback,e,r);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function M_(n,t,e,i){const r=t._rootScopes,o=E1(t._fallback,e,i),c=[...n,...r],h=new Set;h.add(i);let f=jE(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=jE(h,c,o,f,i),f===null)?!1:D_(Array.from(h),[""],r,o,()=>QN(t,e,i))}function jE(n,t,e,i,r){for(;e;)e=$N(n,t,e,i,r);return e}function QN(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return fe(r)&&Pt(e)?e:r||{}}function ZN(n,t,e,i){let r;for(const o of t)if(r=T1(GN(o,n),e),typeof r<"u")return O_(n,r)?M_(e,i,n,r):r}function T1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function HE(n){let t=n._keys;return t||(t=n._keys=JN(n._scopes)),t}function JN(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function x1(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,c=new Array(i);let h,f,g,_;for(h=0,f=i;h<f;++h)g=h+e,_=t[g],c[h]={r:r.parse(Sr(_,o),g)};return c}const tP=Number.EPSILON||1e-14,Qo=(n,t)=>t<n.length&&!n[t].skip&&n[t],S1=n=>n==="x"?"y":"x";function eP(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,h=vm(o,r),f=vm(c,o);let g=h/(h+f),_=f/(h+f);g=isNaN(g)?0:g,_=isNaN(_)?0:_;const y=i*g,b=i*_;return{previous:{x:o.x-y*(c.x-r.x),y:o.y-y*(c.y-r.y)},next:{x:o.x+b*(c.x-r.x),y:o.y+b*(c.y-r.y)}}}function nP(n,t,e){const i=n.length;let r,o,c,h,f,g=Qo(n,0);for(let _=0;_<i-1;++_)if(f=g,g=Qo(n,_+1),!(!f||!g)){if(Nc(t[_],0,tP)){e[_]=e[_+1]=0;continue}r=e[_]/t[_],o=e[_+1]/t[_],h=Math.pow(r,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[_]=r*c*t[_],e[_+1]=o*c*t[_])}}function iP(n,t,e="x"){const i=S1(e),r=n.length;let o,c,h,f=Qo(n,0);for(let g=0;g<r;++g){if(c=h,h=f,f=Qo(n,g+1),!h)continue;const _=h[e],y=h[i];c&&(o=(_-c[e])/3,h[`cp1${e}`]=_-o,h[`cp1${i}`]=y-o*t[g]),f&&(o=(f[e]-_)/3,h[`cp2${e}`]=_+o,h[`cp2${i}`]=y+o*t[g])}}function sP(n,t="x"){const e=S1(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,h,f,g=Qo(n,0);for(c=0;c<i;++c)if(h=f,f=g,g=Qo(n,c+1),!!f){if(g){const _=g[t]-f[t];r[c]=_!==0?(g[e]-f[e])/_:0}o[c]=h?g?Fi(r[c-1])!==Fi(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}nP(n,r,o),iP(n,o,t)}function Wh(n,t,e){return Math.max(Math.min(n,e),t)}function rP(n,t){let e,i,r,o,c,h=ws(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&ws(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=Wh(r.cp1x,t.left,t.right),r.cp1y=Wh(r.cp1y,t.top,t.bottom)),h&&(r.cp2x=Wh(r.cp2x,t.left,t.right),r.cp2y=Wh(r.cp2y,t.top,t.bottom)))}function aP(n,t,e,i,r){let o,c,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")sP(n,r);else{let g=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=eP(g,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&rP(n,e)}function k_(){return typeof window<"u"&&typeof document<"u"}function N_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const dd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function oP(n,t){return dd(n).getPropertyValue(t)}const lP=["top","right","bottom","left"];function Sa(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=lP[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const cP=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function uP(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,h,f;if(cP(r,o,n.target))h=r,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function ma(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=dd(e),o=r.boxSizing==="border-box",c=Sa(r,"padding"),h=Sa(r,"border","width"),{x:f,y:g,box:_}=uP(n,e),y=c.left+(_&&h.left),b=c.top+(_&&h.top);let{width:x,height:A}=t;return o&&(x-=c.width+h.width,A-=c.height+h.height),{x:Math.round((f-y)/x*e.width/i),y:Math.round((g-b)/A*e.height/i)}}function hP(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&N_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=dd(o),f=Sa(h,"border","width"),g=Sa(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=Xf(h.maxWidth,o,"clientWidth"),r=Xf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Gf,maxHeight:r||Gf}}const $h=n=>Math.round(n*10)/10;function fP(n,t,e,i){const r=dd(n),o=Sa(r,"margin"),c=Xf(r.maxWidth,n,"clientWidth")||Gf,h=Xf(r.maxHeight,n,"clientHeight")||Gf,f=hP(n,t,e);let{width:g,height:_}=f;if(r.boxSizing==="content-box"){const b=Sa(r,"border","width"),x=Sa(r,"padding");g-=x.width+b.width,_-=x.height+b.height}return g=Math.max(0,g-o.width),_=Math.max(0,i?g/i:_-o.height),g=$h(Math.min(g,c,f.maxWidth)),_=$h(Math.min(_,h,f.maxHeight)),g&&!_&&(_=$h(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&_>f.height&&(_=f.height,g=$h(Math.floor(_*i))),{width:g,height:_}}function FE(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const dP=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};k_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function qE(n,t){const e=oP(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _a(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function gP(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function pP(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=_a(n,r,e),h=_a(r,o,e),f=_a(o,t,e),g=_a(c,h,e),_=_a(h,f,e);return _a(g,_,e)}const mP=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},_P=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Fo(n,t,e){return n?mP(t,e):_P()}function A1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function w1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function R1(n){return n==="angle"?{between:$c,compare:yN,normalize:fn}:{between:Ss,compare:(t,e)=>t-e,normalize:t=>t}}function GE({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function yP(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:h}=R1(i),f=t.length;let{start:g,end:_,loop:y}=n,b,x;if(y){for(g+=f,_+=f,b=0,x=f;b<x&&c(h(t[g%f][i]),r,o);++b)g--,_--;g%=f,_%=f}return _<g&&(_+=f),{start:g,end:_,loop:y,style:n.style}}function C1(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:h,between:f,normalize:g}=R1(i),{start:_,end:y,loop:b,style:x}=yP(n,t,e),A=[];let C=!1,I=null,U,B,K;const Z=()=>f(r,K,U)&&h(r,K)!==0,G=()=>h(o,U)===0||f(o,K,U),rt=()=>C||Z(),M=()=>!C||G();for(let w=_,D=_;w<=y;++w)B=t[w%c],!B.skip&&(U=g(B[i]),U!==K&&(C=f(U,r,o),I===null&&rt()&&(I=h(U,r)===0?w:D),I!==null&&M()&&(A.push(GE({start:I,end:w,loop:b,count:c,style:x})),I=null),D=w,K=U));return I!==null&&A.push(GE({start:I,end:y,loop:b,count:c,style:x})),A}function I1(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=C1(i[r],n.points,t);o.length&&e.push(...o)}return e}function vP(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function bP(n,t,e,i){const r=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%r];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function EP(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:h}=vP(e,r,o,i);if(i===!0)return YE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+r:h,g=!!n._fullLoop&&c===0&&h===r-1;return YE(n,bP(e,c,f,g),e,t)}function YE(n,t,e,i){return!i||!i.setContext||!e?t:TP(n,t,e,i)}function TP(n,t,e,i){const r=n._chart.getContext(),o=XE(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,g=[];let _=o,y=t[0].start,b=y;function x(A,C,I,U){const B=h?-1:1;if(A!==C){for(A+=f;e[A%f].skip;)A-=B;for(;e[C%f].skip;)C+=B;A%f!==C%f&&(g.push({start:A%f,end:C%f,loop:I,style:U}),_=U,y=C%f)}}for(const A of t){y=h?y:A.start;let C=e[y%f],I;for(b=y+1;b<=A.end;b++){const U=e[b%f];I=XE(i.setContext(Ir(r,{type:"segment",p0:C,p1:U,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:c}))),xP(I,_)&&x(y,b-1,A.loop,_),C=U,_=I}y<b-1&&x(y,b-1,A.loop,_)}return g}function XE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function xP(n,t){if(!t)return!1;const e=[],i=function(r,o){return C_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Qh(n,t,e){return n.options.clip?n[e]:t[e]}function SP(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Qh(e,t,"left"),right:Qh(e,t,"right"),top:Qh(i,t,"top"),bottom:Qh(i,t,"bottom")}:t}function D1(n,t){const e=t._clip;if(e.disabled)return!1;const i=SP(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class AP{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=f1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var vs=new AP;const KE="transparent",wP={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=UE(n||KE),r=i.valid&&UE(t||KE);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class RP{constructor(t,e,i,r){const o=e[i];r=Ec([t.to,r,o,t.from]);const c=Ec([t.from,o,r]);this._active=!0,this._fn=t.fn||wP[t.type||typeof c],this._easing=Pc[t.easing]||Pc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ec([t.to,e,r,t.from]),this._from=Ec([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[r]=h,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class O1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Pt(t))return;const e=Object.keys(de.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Pt(o))return;const c={};for(const h of e)c[h]=o[h];(fe(o.properties)&&o.properties||[r]).forEach(h=>{(h===r||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,r=IP(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&CP(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){r.push(...this._animateOptions(t,e));continue}const _=e[g];let y=o[g];const b=i.get(g);if(y)if(b&&y.active()){y.update(b,_,h);continue}else y.cancel();if(!b||!b.duration){t[g]=_;continue}o[g]=y=new RP(b,t,g,_),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return vs.add(this._chart,i),!0}}function CP(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function IP(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function WE(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function DP(n,t,e){if(e===!1)return!1;const i=WE(n,e),r=WE(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function OP(n){let t,e,i,r;return Pt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function M1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function $E(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let _=!1;for(c=0,h=r.length;c<h;++c){if(f=+r[c],f===e){if(_=!0,i.all)continue;break}g=n.values[f],ve(g)&&(o||t===0||Fi(t)===Fi(g))&&(t+=g)}return!_&&!i.all?0:t}function MP(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,_;for(f=0,g=c.length;f<g;++f)_=c[f],h[f]={[r]:_,[o]:n[_]};return h}function Up(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function kP(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function NP(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function PP(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function QE(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function ZE(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,_=kP(o,c,i),y=t.length;let b;for(let x=0;x<y;++x){const A=t[x],{[f]:C,[g]:I}=A,U=A._stacks||(A._stacks={});b=U[g]=PP(r,_,C),b[h]=I,b._top=QE(b,c,!0,i.type),b._bottom=QE(b,c,!1,i.type);const B=b._visualValues||(b._visualValues={});B[h]=I}}function zp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function LP(n,t){return Ir(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function VP(n,t,e){return Ir(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function fc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Bp=n=>n==="reset"||n==="none",JE=(n,t)=>t?n:Object.assign({},n),UP=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:M1(e,!0),values:null};class gi{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Up(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&fc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,b,x,A)=>y==="x"?b:y==="r"?A:x,o=e.xAxisID=At(i.xAxisID,zp(t,"x")),c=e.yAxisID=At(i.yAxisID,zp(t,"y")),h=e.rAxisID=At(i.rAxisID,zp(t,"r")),f=e.indexAxis,g=e.iAxisID=r(f,o,c,h),_=e.vAxisID=r(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(_)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&PE(this._data,this),t._stacked&&fc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Pt(e)){const r=this._cachedMeta;this._data=MP(e,r)}else if(i!==e){if(i){PE(i,this);const r=this._cachedMeta;fc(r),r._parsed=[]}e&&Object.isExtensible(e)&&TN(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Up(e.vScale,e),e.stack!==i.stack&&(r=!0,fc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(ZE(this,e._parsed),e._stacked=Up(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===r.length?!0:i._sorted,g=t>0&&i._parsed[t-1],_,y,b;if(this._parsing===!1)i._parsed=r,i._sorted=!0,b=r;else{fe(r[t])?b=this.parseArrayData(i,r,t,e):Pt(r[t])?b=this.parseObjectData(i,r,t,e):b=this.parsePrimitiveData(i,r,t,e);const x=()=>y[h]===null||g&&y[h]<g[h];for(_=0;_<e;++_)i._parsed[_+t]=y=b[_],f&&(x()&&(f=!1),g=y);i._sorted=f}c&&ZE(this,b)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),_=o===c,y=new Array(r);let b,x,A;for(b=0,x=r;b<x;++b)A=b+i,y[b]={[h]:_||o.parse(g[A],A),[f]:c.parse(e[A],A)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,h=new Array(r);let f,g,_,y;for(f=0,g=r;f<g;++f)_=f+i,y=e[_],h[f]={x:o.parse(y[0],_),y:c.parse(y[1],_)};return h}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(r);let _,y,b,x;for(_=0,y=r;_<y;++_)b=_+i,x=e[b],g[_]={x:o.parse(Sr(x,h),b),y:c.parse(Sr(x,f),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:M1(r,!0),values:e._stacks[t.axis]._visualValues};return $E(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const h=r&&i._stacks[e.axis];r&&h&&(r.values=h,c=$E(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,h=this._getOtherScale(t),f=UP(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:_,max:y}=NP(h);let b,x;function A(){x=r[b];const C=x[h.axis];return!ve(x[t.axis])||_>C||y<C}for(b=0;b<c&&!(!A()&&(this.updateRangeFromParsed(g,t,x,f),o));++b);if(o){for(b=c-1;b>=0;--b)if(!A()){this.updateRangeFromParsed(g,t,x,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],ve(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=OP(At(this.options.clip,DP(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||r.length-h,g=this.options.drawActiveElementsOnTop;let _;for(i.dataset&&i.dataset.draw(t,o,h,f),_=h;_<h+f;++_){const y=r[_];y.hidden||(y.active&&g?c.push(y):y.draw(t,o))}for(_=0;_<c.length;++_)c[_].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=VP(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=LP(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Wc(i);if(h)return JE(h,f);const g=this.chart.config,_=g.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),_),x=Object.keys(de.elements[t]),A=()=>this.getContext(i,r,e),C=g.resolveNamedOptions(b,x,A,y);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(JE(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(r.options.animation!==!1){const _=this.chart.config,y=_.datasetAnimationScopeKeys(this._type,e),b=_.getOptionScopes(this.getDataset(),y);f=_.createResolver(b,this.getContext(t,i,e))}const g=new O1(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Bp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Bp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Bp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&fc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ft(gi,"defaults",{}),ft(gi,"datasetElementType",null),ft(gi,"dataElementType",null);function zP(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=h1(i.sort((r,o)=>r-o))}return n._cache.$bar}function BP(n){const t=n.iScale,e=zP(t,n.type);let i=t._length,r,o,c,h;const f=()=>{c===32767||c===-32768||(Wc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(h=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function jP(n,t,e,i){const r=e.barThickness;let o,c;return kt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function HP(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,h=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const g=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:g}}function FP(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),h=Math.max(r,o);let f=c,g=h;Math.abs(c)>Math.abs(h)&&(f=h,g=c),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:r,end:o,min:c,max:h}}function k1(n,t,e,i){return fe(n)?FP(n,t,e,i):t[e.axis]=e.parse(n,i),t}function tT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),h=r===o,f=[];let g,_,y,b;for(g=e,_=e+i;g<_;++g)b=t[g],y={},y[r.axis]=h||r.parse(c[g],g),f.push(k1(b,y,o,g));return f}function jp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function qP(n,t,e){return n!==0?Fi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function GP(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function YP(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:g,bottom:_}=GP(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=g:(e._bottom||0)===i?r=_:(o[eT(_,c,h,f)]=!0,r=g)),o[eT(r,c,h,f)]=!0,n.borderSkipped=o}function eT(n,t,e,i){return i?(n=XP(n,t,e),n=nT(n,e,t)):n=nT(n,t,e),n}function XP(n,t,e){return n===t?e:n===e?t:n}function nT(n,t,e){return n==="start"?t:n==="end"?e:n}function KP(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class gf extends gi{parsePrimitiveData(t,e,i,r){return tT(t,e,i,r)}parseArrayData(t,e,i,r){return tT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,_=c.axis==="x"?h:f,y=[];let b,x,A,C;for(b=i,x=i+r;b<x;++b)C=e[b],A={},A[o.axis]=o.parse(Sr(C,g),b),y.push(k1(Sr(C,_),A,c,b));return y}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,h=jp(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),_=this._getRuler(),{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,r);for(let x=e;x<e+i;x++){const A=this.getParsed(x),C=o||kt(A[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(x),I=this._calculateBarIndexPixels(x,_),U=(A._stacks||{})[h.axis],B={horizontal:g,base:C.base,enableBorderRadius:!U||jp(A._custom)||c===U._top||c===U._bottom,x:g?C.head:I.center,y:g?I.center:C.head,height:g?I.size:Math.abs(C.size),width:g?Math.abs(C.size):I.size};b&&(B.options=y||this.resolveDataElementOptions(x,t[x].active?"active":r));const K=B.options||t[x].options;YP(B,K,U,c),KP(B,K,_.ratio),this.updateElement(t[x],x,B,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(_=>_.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=_=>{const y=_._parsed.find(x=>x[i.axis]===f),b=y&&y[_.vScale.axis];if(kt(b)||isNaN(b))return!0};for(const _ of r)if(!(e!==void 0&&g(_))&&((o===!1||c.indexOf(_.stack)===-1||o===void 0&&_.stack===void 0)&&c.push(_.stack),_.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[At(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||BP(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),g=f._custom,_=jp(g);let y=f[e.axis],b=0,x=i?this.applyStack(e,f,i):y,A,C;x!==y&&(b=x-y,x=y),_&&(y=g.barStart,x=g.barEnd-g.barStart,y!==0&&Fi(y)!==Fi(g.barEnd)&&(b=0),b+=y);const I=!kt(o)&&!_?o:b;let U=e.getPixelForValue(I);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(b+x):A=U,C=A-U,Math.abs(C)<c){C=qP(C,e,h)*c,y===h&&(U-=C/2);const B=e.getPixelForDecimal(0),K=e.getPixelForDecimal(1),Z=Math.min(B,K),G=Math.max(B,K);U=Math.max(Math.min(U,G),Z),A=U+C,i&&!_&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(A)-e.getValueForPixel(U))}if(U===e.getPixelForValue(h)){const B=Fi(C)*e.getLineWidthForValue(h)/2;U+=B,C-=B}return{size:C,base:U,head:A,center:A+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=At(r.maxBarThickness,1/0);let h,f;const g=this._getAxisCount();if(e.grouped){const _=o?this._getStackCount(t):e.stackCount,y=r.barThickness==="flex"?HP(t,e,r,_*g):jP(t,e,r,_*g),b=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,x=this._getAxis().indexOf(At(b,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+x;h=y.start+y.chunk*A+y.chunk/2,f=Math.min(c,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}ft(gf,"id","bar"),ft(gf,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ft(gf,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class pf extends gi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const o=super.parsePrimitiveData(t,e,i,r);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+i).radius;return o}parseArrayData(t,e,i,r){const o=super.parseArrayData(t,e,i,r);for(let c=0;c<o.length;c++){const h=e[i+c];o[c]._custom=At(h[2],this.resolveDataElementOptions(c+i).radius)}return o}parseObjectData(t,e,i,r){const o=super.parseObjectData(t,e,i,r);for(let c=0;c<o.length;c++){const h=e[i+c];o[c]._custom=At(h&&h.r&&+h.r,this.resolveDataElementOptions(c+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,c=this.getParsed(t),h=r.getLabelForValue(c.x),f=o.getLabelForValue(c.y),g=c._custom;return{label:i[t]||"",value:"("+h+", "+f+(g?", "+g:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,r),_=c.axis,y=h.axis;for(let b=e;b<e+i;b++){const x=t[b],A=!o&&this.getParsed(b),C={},I=C[_]=o?c.getPixelForDecimal(.5):c.getPixelForValue(A[_]),U=C[y]=o?h.getBasePixel():h.getPixelForValue(A[y]);C.skip=isNaN(I)||isNaN(U),g&&(C.options=f||this.resolveDataElementOptions(b,x.active?"active":r),o&&(C.options.radius=0)),this.updateElement(x,b,C,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return e!=="active"&&(r.radius=0),r.radius+=At(i&&i._custom,o),r}}ft(pf,"id","bubble"),ft(pf,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ft(pf,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function WP(n,t,e){let i=1,r=1,o=0,c=0;if(t<le){const h=n,f=h+t,g=Math.cos(h),_=Math.sin(h),y=Math.cos(f),b=Math.sin(f),x=(K,Z,G)=>$c(K,h,f,!0)?1:Math.max(Z,Z*e,G,G*e),A=(K,Z,G)=>$c(K,h,f,!0)?-1:Math.min(Z,Z*e,G,G*e),C=x(0,g,y),I=x(Se,_,b),U=A(Ft,g,y),B=A(Ft+Se,_,b);i=(C-U)/2,r=(I-B)/2,o=-(C+U)/2,c=-(I+B)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class va extends gi{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=f=>+i[f];if(Pt(i[t])){const{key:f="value"}=this._parsing;o=g=>+Sr(i[g],f)}let c,h;for(c=t,h=t+e;c<h;++c)r._parsed[c]=o(c)}}_getRotation(){return di(this.options.rotation-90)}_getCircumference(){return di(this.options.circumference)}_getRotationExtents(){let t=le,e=-le;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(oN(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:_,rotation:y}=this._getRotationExtents(),{ratioX:b,ratioY:x,offsetX:A,offsetY:C}=WP(y,_,f),I=(i.width-c)/b,U=(i.height-c)/x,B=Math.max(Math.min(I,U)/2,0),K=a1(this.options.radius,B),Z=Math.max(K*f,0),G=(K-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=A*K,this.offsetY=C*K,r.total=this.calculateTotal(),this.outerRadius=K-G*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-G*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/le)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,_=(h.left+h.right)/2,y=(h.top+h.bottom)/2,b=o&&g.animateScale,x=b?0:this.innerRadius,A=b?0:this.outerRadius,{sharedOptions:C,includeOptions:I}=this._getSharedOptions(e,r);let U=this._getRotation(),B;for(B=0;B<e;++B)U+=this._circumference(B,o);for(B=e;B<e+i;++B){const K=this._circumference(B,o),Z=t[B],G={x:_+this.offsetX,y:y+this.offsetY,startAngle:U,endAngle:U+K,circumference:K,outerRadius:A,innerRadius:x};I&&(G.options=C||this.resolveDataElementOptions(B,Z.active?"active":r)),U+=K,this.updateElement(Z,B,G,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?le*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=du(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,h,f;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,h=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)f=h.resolveDataElementOptions(r),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(At(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ft(va,"id","doughnut"),ft(va,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ft(va,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ft(va,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class mf extends gi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=g1(e,r,c);this._drawStart=h,this._drawCount=f,p1(e)&&(h=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(r,h,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:_,includeOptions:y}=this._getSharedOptions(e,r),b=c.axis,x=h.axis,{spanGaps:A,segment:C}=this.options,I=Wo(A)?A:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||r==="none",B=e+i,K=t.length;let Z=e>0&&this.getParsed(e-1);for(let G=0;G<K;++G){const rt=t[G],M=U?rt:{};if(G<e||G>=B){M.skip=!0;continue}const w=this.getParsed(G),D=kt(w[x]),P=M[b]=c.getPixelForValue(w[b],G),L=M[x]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,w,f):w[x],G);M.skip=isNaN(P)||isNaN(L)||D,M.stop=G>0&&Math.abs(w[b]-Z[b])>I,C&&(M.parsed=w,M.raw=g.data[G]),y&&(M.options=_||this.resolveDataElementOptions(G,rt.active?"active":r)),U||this.updateElement(rt,G,M,r),Z=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ft(mf,"id","line"),ft(mf,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ft(mf,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Vc extends gi{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=du(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,e,i,r){return x1.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(r/2,0),c=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),h=(o-c)/t.getVisibleDatasetCount();this.outerRadius=o-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,f=c.options.animation,g=this._cachedMeta.rScale,_=g.xCenter,y=g.yCenter,b=g.getIndexAngle(0)-.5*Ft;let x=b,A;const C=360/this.countVisibleElements();for(A=0;A<e;++A)x+=this._computeAngle(A,r,C);for(A=e;A<e+i;A++){const I=t[A];let U=x,B=x+this._computeAngle(A,r,C),K=c.getDataVisibility(A)?g.getDistanceFromCenterForValue(this.getParsed(A).r):0;x=B,o&&(f.animateScale&&(K=0),f.animateRotate&&(U=B=b));const Z={x:_,y,innerRadius:0,outerRadius:K,startAngle:U,endAngle:B,options:this.resolveDataElementOptions(A,I.active?"active":r)};this.updateElement(I,A,Z,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?di(this.resolveDataElementOptions(t,e).angle||i):0}}ft(Vc,"id","polarArea"),ft(Vc,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ft(Vc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:r,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Tm extends va{}ft(Tm,"id","pie"),ft(Tm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class _f extends gi{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return x1.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],o=e.iScale.getLabels();if(i.points=r,t!=="resize"){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0);const h={_loop:!0,_fullLoop:o.length===r.length,options:c};this.updateElement(i,void 0,h,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const o=this._cachedMeta.rScale,c=r==="reset";for(let h=e;h<e+i;h++){const f=t[h],g=this.resolveDataElementOptions(h,f.active?"active":r),_=o.getPointPositionForValue(h,this.getParsed(h).r),y=c?o.xCenter:_.x,b=c?o.yCenter:_.y,x={x:y,y:b,angle:_.angle,skip:isNaN(y)||isNaN(b),options:g};this.updateElement(f,h,x,r)}}}ft(_f,"id","radar"),ft(_f,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ft(_f,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class yf extends gi{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,c=this.getParsed(t),h=r.getLabelForValue(c.x),f=o.getLabelForValue(c.y);return{label:i[t]||"",value:"("+h+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:c}=g1(e,i,r);if(this._drawStart=o,this._drawCount=c,p1(e)&&(o=0,c=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=i;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!r,options:g},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,_=this.resolveDataElementOptions(e,r),y=this.getSharedOptions(_),b=this.includeOptions(r,y),x=c.axis,A=h.axis,{spanGaps:C,segment:I}=this.options,U=Wo(C)?C:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||o||r==="none";let K=e>0&&this.getParsed(e-1);for(let Z=e;Z<e+i;++Z){const G=t[Z],rt=this.getParsed(Z),M=B?G:{},w=kt(rt[A]),D=M[x]=c.getPixelForValue(rt[x],Z),P=M[A]=o||w?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,rt,f):rt[A],Z);M.skip=isNaN(D)||isNaN(P)||w,M.stop=Z>0&&Math.abs(rt[x]-K[x])>U,I&&(M.parsed=rt,M.raw=g.data[Z]),b&&(M.options=y||this.resolveDataElementOptions(Z,G.active?"active":r)),B||this.updateElement(G,Z,M,r),K=rt}this.updateSharedOptions(y,r,_)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let f=e.length-1;f>=0;--f)h=Math.max(h,e[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),c=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,c)/2}}ft(yf,"id","scatter"),ft(yf,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ft(yf,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var $P=Object.freeze({__proto__:null,BarController:gf,BubbleController:pf,DoughnutController:va,LineController:mf,PieController:Tm,PolarAreaController:Vc,RadarController:_f,ScatterController:yf});function da(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class P_{constructor(t){ft(this,"options");this.options=t||{}}static override(t){Object.assign(P_.prototype,t)}init(){}formats(){return da()}parse(){return da()}format(){return da()}add(){return da()}diff(){return da()}startOf(){return da()}endOf(){return da()}}var QP={_date:P_};function ZP(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,h=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?bN:As;if(i){if(r._sharedOptions){const _=o[0],y=typeof _.getRange=="function"&&_.getRange(t);if(y){const b=g(o,t,e-y),x=g(o,t,e+y);return{lo:b.lo,hi:x.hi}}}}else{const _=g(o,t,e);if(f){const{vScale:y}=r._cachedMeta,{_parsed:b}=n,x=b.slice(0,_.lo+1).reverse().findIndex(C=>!kt(C[y.axis]));_.lo-=Math.max(0,x);const A=b.slice(_.hi).findIndex(C=>!kt(C[y.axis]));_.hi+=Math.max(0,A)}return _}}return{lo:0,hi:o.length-1}}function gd(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:_}=o[h],{lo:y,hi:b}=ZP(o[h],t,c,r);for(let x=y;x<=b;++x){const A=_[x];A.skip||i(A,g,x)}}}function JP(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Hp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||gd(n,e,t,function(h,f,g){!r&&!ws(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function t4(n,t,e,i){let r=[];function o(c,h,f){const{startAngle:g,endAngle:_}=c.getProps(["startAngle","endAngle"],i),{angle:y}=c1(c,{x:t.x,y:t.y});$c(y,g,_)&&r.push({element:c,datasetIndex:h,index:f})}return gd(n,e,t,o),r}function e4(n,t,e,i,r,o){let c=[];const h=JP(e);let f=Number.POSITIVE_INFINITY;function g(_,y,b){const x=_.inRange(t.x,t.y,r);if(i&&!x)return;const A=_.getCenterPoint(r);if(!(!!o||n.isPointInArea(A))&&!x)return;const I=h(t,A);I<f?(c=[{element:_,datasetIndex:y,index:b}],f=I):I===f&&c.push({element:_,datasetIndex:y,index:b})}return gd(n,e,t,g),c}function Fp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?t4(n,t,e,r):e4(n,t,e,i,r,o)}function iT(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return gd(n,e,t,(f,g,_)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:g,index:_}),h=h||f.inRange(t.x,t.y,r))}),i&&!h?[]:o}var n4={modes:{index(n,t,e,i){const r=ma(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?Hp(n,r,o,i,c):Fp(n,r,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const _=h[0].index,y=g.data[_];y&&!y.skip&&f.push({element:y,datasetIndex:g.index,index:_})}),f):[]},dataset(n,t,e,i){const r=ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?Hp(n,r,o,i,c):Fp(n,r,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let _=0;_<g.length;++_)h.push({element:g[_],datasetIndex:f,index:_})}return h},point(n,t,e,i){const r=ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Hp(n,r,o,i,c)},nearest(n,t,e,i){const r=ma(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return Fp(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=ma(t,n);return iT(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=ma(t,n);return iT(n,r,"y",e.intersect,i)}}};const N1=["left","top","right","bottom"];function dc(n,t){return n.filter(e=>e.pos===t)}function sT(n,t){return n.filter(e=>N1.indexOf(e.pos)===-1&&e.box.axis===t)}function gc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function i4(n){const t=[];let e,i,r,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:h});return t}function s4(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!N1.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function r4(n,t){const e=s4(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],_=g&&h.stackWeight/g.weight;h.horizontal?(h.width=_?_*i:f&&t.availableWidth,h.height=r):(h.width=i,h.height=_?_*r:f&&t.availableHeight)}return e}function a4(n){const t=i4(n),e=gc(t.filter(g=>g.box.fullSize),!0),i=gc(dc(t,"left"),!0),r=gc(dc(t,"right")),o=gc(dc(t,"top"),!0),c=gc(dc(t,"bottom")),h=sT(t,"x"),f=sT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(h),chartArea:dc(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(h)}}function rT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function P1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function o4(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!Pt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&P1(c,o.getPadding());const h=Math.max(0,t.outerWidth-rT(c,n,"left","right")),f=Math.max(0,t.outerHeight-rT(c,n,"top","bottom")),g=h!==n.w,_=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:_}:{same:_,other:g}}function l4(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function c4(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Tc(n,t,e,i){const r=[];let o,c,h,f,g,_;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,c4(h.horizontal,t));const{same:y,other:b}=o4(t,e,h,i);g|=y&&r.length,_=_||b,f.fullSize||r.push(h)}return g&&Tc(r,t,e,i)||_}function Zh(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function aT(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},_=h.stackWeight/g.weight||1;if(h.horizontal){const y=t.w*_,b=g.size||f.height;Wc(g.start)&&(c=g.start),f.fullSize?Zh(f,r.left,c,e.outerWidth-r.right-r.left,b):Zh(f,t.left+g.placed,c,y,b),g.start=c,g.placed+=y,c=f.bottom}else{const y=t.h*_,b=g.size||f.width;Wc(g.start)&&(o=g.start),f.fullSize?Zh(f,o,r.top,b,e.outerHeight-r.bottom-r.top):Zh(f,o,t.top+g.placed,b,y),g.start=o,g.placed+=y,o=f.right}}t.x=o,t.y=c}var gn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=mn(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),h=a4(n.boxes),f=h.vertical,g=h.horizontal;Zt(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const _=f.reduce((C,I)=>I.box.options&&I.box.options.display===!1?C:C+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/_,hBoxMaxHeight:c/2}),b=Object.assign({},r);P1(b,mn(i));const x=Object.assign({maxPadding:b,w:o,h:c,x:r.left,y:r.top},r),A=r4(f.concat(g),y);Tc(h.fullSize,x,y,A),Tc(f,x,y,A),Tc(g,x,y,A)&&Tc(f,x,y,A),l4(x),aT(h.leftAndTop,x,y,A),x.x+=x.w,x.y+=x.h,aT(h.rightAndBottom,x,y,A),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Zt(h.chartArea,C=>{const I=C.box;Object.assign(I,n.chartArea),I.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class L1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class u4 extends L1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const vf="$chartjs",h4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},oT=n=>n===null||n==="";function f4(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[vf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",oT(r)){const o=qE(n,"width");o!==void 0&&(n.width=o)}if(oT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=qE(n,"height");o!==void 0&&(n.height=o)}return n}const V1=dP?{passive:!0}:!1;function d4(n,t,e){n&&n.addEventListener(t,e,V1)}function g4(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,V1)}function p4(n,t){const e=h4[n.type]||n.type,{x:i,y:r}=ma(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Kf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function m4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Kf(h.addedNodes,i),c=c&&!Kf(h.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function _4(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||Kf(h.removedNodes,i),c=c&&!Kf(h.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Zc=new Map;let lT=0;function U1(){const n=window.devicePixelRatio;n!==lT&&(lT=n,Zc.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function y4(n,t){Zc.size||window.addEventListener("resize",U1),Zc.set(n,t)}function v4(n){Zc.delete(n),Zc.size||window.removeEventListener("resize",U1)}function b4(n,t,e){const i=n.canvas,r=i&&N_(i);if(!r)return;const o=d1((h,f)=>{const g=r.clientWidth;e(h,f),g<r.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,_=f.contentRect.height;g===0&&_===0||o(g,_)});return c.observe(r),y4(n,o),c}function qp(n,t,e){e&&e.disconnect(),t==="resize"&&v4(n)}function E4(n,t,e){const i=n.canvas,r=d1(o=>{n.ctx!==null&&e(p4(o,n))},n);return d4(i,t,r),r}class T4 extends L1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(f4(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[vf])return!1;const i=e[vf].initial;["height","width"].forEach(o=>{const c=i[o];kt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[vf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:m4,detach:_4,resize:b4}[e]||E4;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:qp,detach:qp,resize:qp}[e]||g4)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return fP(t,e,i,r)}isAttached(t){const e=t&&N_(t);return!!(e&&e.isConnected)}}function x4(n){return!k_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?u4:T4}class mi{constructor(){ft(this,"x");ft(this,"y");ft(this,"active",!1);ft(this,"options");ft(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Wo(this.x)&&Wo(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}ft(mi,"defaults",{}),ft(mi,"defaultRoutes");function S4(n,t){const e=n.options.ticks,i=A4(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?R4(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>r)return C4(t,g,o,c/r),g;const _=w4(o,t,r);if(c>0){let y,b;const x=c>1?Math.round((f-h)/(c-1)):null;for(Jh(t,g,_,kt(x)?0:h-x,h),y=0,b=c-1;y<b;y++)Jh(t,g,_,o[y],o[y+1]);return Jh(t,g,_,f,kt(x)?t.length:f+x),g}return Jh(t,g,_),g}function A4(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function w4(n,t,e){const i=I4(n),r=t.length/e;if(!i)return Math.max(r,1);const o=pN(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function R4(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function C4(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Jh(n,t,e,i,r){const o=At(i,0),c=Math.min(At(r,n.length),n.length);let h=0,f,g,_;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),_=o;_<0;)h++,_=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===_&&(t.push(n[g]),h++,_=Math.round(o+h*e))}function I4(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const D4=n=>n==="left"?"right":n==="right"?"left":n,cT=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,uT=(n,t)=>Math.min(t||n,n);function hT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function O4(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(r),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(r-1))/2,f+=r<t?g:-g,f<o-h||f>c+h)))return f}function M4(n,t){Zt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function pc(n){return n.drawTicks?n.tickLength:0}function fT(n,t){if(!n.display)return 0;const e=Ue(n.font,t),i=mn(n.padding);return(fe(n.text)?n.text.length:1)*e.lineHeight+i.height}function k4(n,t){return Ir(n,{scale:t,type:"scale"})}function N4(n,t,e){return Ir(n,{tick:e,index:t,type:"tick"})}function P4(n,t,e){let i=R_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=D4(i)),i}function L4(n,t,e,i){const{top:r,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:_}=f;let y=0,b,x,A;const C=c-r,I=h-o;if(n.isHorizontal()){if(x=un(i,o,h),Pt(e)){const U=Object.keys(e)[0],B=e[U];A=_[U].getPixelForValue(B)+C-t}else e==="center"?A=(g.bottom+g.top)/2+C-t:A=cT(n,e,t);b=h-o}else{if(Pt(e)){const U=Object.keys(e)[0],B=e[U];x=_[U].getPixelForValue(B)-I+t}else e==="center"?x=(g.left+g.right)/2-I+t:x=cT(n,e,t);A=un(i,c,r),y=e==="left"?-Se:Se}return{titleX:x,titleY:A,maxWidth:b,rotation:y}}class Ba extends mi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=zn(t,Number.POSITIVE_INFINITY),e=zn(e,Number.NEGATIVE_INFINITY),i=zn(i,Number.POSITIVE_INFINITY),r=zn(r,Number.NEGATIVE_INFINITY),{min:zn(t,i),max:zn(e,r),minDefined:ve(t),maxDefined:ve(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:zn(e,zn(i,e)),max:zn(i,zn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=qN(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?hT(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=S4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ae(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ae(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=uT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,h,f,g;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const _=this._getLabelSizes(),y=_.widest.width,b=_.highest.height,x=Ye(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/i:x/(i-1),y+6>h&&(h=x/(i-(t.offset?.5:1)),f=this.maxHeight-pc(t.grid)-e.padding-fT(t.title,this.chart.options.font),g=Math.sqrt(y*y+b*b),c=A_(Math.min(Math.asin(Ye((_.highest.height+6)/h,-1,1)),Math.asin(Ye(f/g,-1,1))-Math.asin(Ye(b/g,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=fT(r,e.options.font);if(h?(t.width=this.maxWidth,t.height=pc(o)+f):(t.height=this.maxHeight,t.width=pc(o)+f),i.display&&this.ticks.length){const{first:g,last:_,widest:y,highest:b}=this._getLabelSizes(),x=i.padding*2,A=di(this.labelRotation),C=Math.cos(A),I=Math.sin(A);if(h){const U=i.mirror?0:I*y.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+U+x)}else{const U=i.mirror?0:C*y.width+I*b.height;t.width=Math.min(this.maxWidth,t.width+U+x)}this._calculatePadding(g,_,I,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const _=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,x=0;f?g?(b=r*t.width,x=i*e.height):(b=i*t.height,x=r*e.width):o==="start"?x=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,x=e.width/2),this.paddingLeft=Math.max((b-_+c)*this.width/(this.width-_),0),this.paddingRight=Math.max((x-y+c)*this.width/(this.width-y),0)}else{let _=e.height/2,y=t.height/2;o==="start"?(_=0,y=t.height):o==="end"&&(_=e.height,y=0),this.paddingTop=_+c,this.paddingBottom=y+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)kt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=hT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/uT(e,i));let g=0,_=0,y,b,x,A,C,I,U,B,K,Z,G;for(y=0;y<e;y+=f){if(A=t[y].label,C=this._resolveTickFontOptions(y),r.font=I=C.string,U=o[I]=o[I]||{data:{},gc:[]},B=C.lineHeight,K=Z=0,!kt(A)&&!fe(A))K=Yf(r,U.data,U.gc,K,A),Z=B;else if(fe(A))for(b=0,x=A.length;b<x;++b)G=A[b],!kt(G)&&!fe(G)&&(K=Yf(r,U.data,U.gc,K,G),Z+=B);c.push(K),h.push(Z),g=Math.max(K,g),_=Math.max(Z,_)}M4(o,e);const rt=c.indexOf(g),M=h.indexOf(_),w=D=>({width:c[D]||0,height:h[D]||0});return{first:w(0),last:w(e-1),widest:w(rt),highest:w(M),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return vN(this._alignToPixels?fa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=N4(this.getContext(),t,i))}return this.$context||(this.$context=k4(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=di(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*r?h/i:f/r:f*r<h*i?f/i:h/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:h}=r,f=o.offset,g=this.isHorizontal(),y=this.ticks.length+(f?1:0),b=pc(o),x=[],A=h.setContext(this.getContext()),C=A.display?A.width:0,I=C/2,U=function($){return fa(i,$,C)};let B,K,Z,G,rt,M,w,D,P,L,V,k;if(c==="top")B=U(this.bottom),M=this.bottom-b,D=B-I,L=U(t.top)+I,k=t.bottom;else if(c==="bottom")B=U(this.top),L=t.top,k=U(t.bottom)-I,M=B+I,D=this.top+b;else if(c==="left")B=U(this.right),rt=this.right-b,w=B-I,P=U(t.left)+I,V=t.right;else if(c==="right")B=U(this.left),P=t.left,V=U(t.right)-I,rt=B+I,w=this.left+b;else if(e==="x"){if(c==="center")B=U((t.top+t.bottom)/2+.5);else if(Pt(c)){const $=Object.keys(c)[0],X=c[$];B=U(this.chart.scales[$].getPixelForValue(X))}L=t.top,k=t.bottom,M=B+I,D=M+b}else if(e==="y"){if(c==="center")B=U((t.left+t.right)/2);else if(Pt(c)){const $=Object.keys(c)[0],X=c[$];B=U(this.chart.scales[$].getPixelForValue(X))}rt=B-I,w=rt-b,P=t.left,V=t.right}const Bt=At(r.ticks.maxTicksLimit,y),vt=Math.max(1,Math.ceil(y/Bt));for(K=0;K<y;K+=vt){const $=this.getContext(K),X=o.setContext($),lt=h.setContext($),ct=X.lineWidth,O=X.color,H=lt.dash||[],et=lt.dashOffset,nt=X.tickWidth,gt=X.tickColor,pt=X.tickBorderDash||[],dt=X.tickBorderDashOffset;Z=O4(this,K,f),Z!==void 0&&(G=fa(i,Z,ct),g?rt=w=P=V=G:M=D=L=k=G,x.push({tx1:rt,ty1:M,tx2:w,ty2:D,x1:P,y1:L,x2:V,y2:k,width:ct,color:O,borderDash:H,borderDashOffset:et,tickWidth:nt,tickColor:gt,tickBorderDash:pt,tickBorderDashOffset:dt}))}return this._ticksLength=y,this._borderValue=B,x}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:_,mirror:y}=o,b=pc(i.grid),x=b+_,A=y?-_:x,C=-di(this.labelRotation),I=[];let U,B,K,Z,G,rt,M,w,D,P,L,V,k="middle";if(r==="top")rt=this.bottom-A,M=this._getXAxisLabelAlignment();else if(r==="bottom")rt=this.top+A,M=this._getXAxisLabelAlignment();else if(r==="left"){const vt=this._getYAxisLabelAlignment(b);M=vt.textAlign,G=vt.x}else if(r==="right"){const vt=this._getYAxisLabelAlignment(b);M=vt.textAlign,G=vt.x}else if(e==="x"){if(r==="center")rt=(t.top+t.bottom)/2+x;else if(Pt(r)){const vt=Object.keys(r)[0],$=r[vt];rt=this.chart.scales[vt].getPixelForValue($)+x}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")G=(t.left+t.right)/2-x;else if(Pt(r)){const vt=Object.keys(r)[0],$=r[vt];G=this.chart.scales[vt].getPixelForValue($)}M=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?k="top":f==="end"&&(k="bottom"));const Bt=this._getLabelSizes();for(U=0,B=h.length;U<B;++U){K=h[U],Z=K.label;const vt=o.setContext(this.getContext(U));w=this.getPixelForTick(U)+o.labelOffset,D=this._resolveTickFontOptions(U),P=D.lineHeight,L=fe(Z)?Z.length:1;const $=L/2,X=vt.color,lt=vt.textStrokeColor,ct=vt.textStrokeWidth;let O=M;c?(G=w,M==="inner"&&(U===B-1?O=this.options.reverse?"left":"right":U===0?O=this.options.reverse?"right":"left":O="center"),r==="top"?g==="near"||C!==0?V=-L*P+P/2:g==="center"?V=-Bt.highest.height/2-$*P+P:V=-Bt.highest.height+P/2:g==="near"||C!==0?V=P/2:g==="center"?V=Bt.highest.height/2-$*P:V=Bt.highest.height-L*P,y&&(V*=-1),C!==0&&!vt.showLabelBackdrop&&(G+=P/2*Math.sin(C))):(rt=w,V=(1-L)*P/2);let H;if(vt.showLabelBackdrop){const et=mn(vt.backdropPadding),nt=Bt.heights[U],gt=Bt.widths[U];let pt=V-et.top,dt=0-et.left;switch(k){case"middle":pt-=nt/2;break;case"bottom":pt-=nt;break}switch(M){case"center":dt-=gt/2;break;case"right":dt-=gt;break;case"inner":U===B-1?dt-=gt:U>0&&(dt-=gt/2);break}H={left:dt,top:pt,width:gt+et.width,height:nt+et.height,color:vt.backdropColor}}I.push({label:Z,font:D,textOffset:V,options:{rotation:C,color:X,strokeColor:lt,strokeWidth:ct,textAlign:O,textBaseline:k,translation:[G,rt],backdrop:H}})}return I}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-di(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,_;return e==="left"?r?(_=this.right+o,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_+=f)):(_=this.right-h,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_=this.left)):e==="right"?r?(_=this.left+o,i==="near"?g="right":i==="center"?(g="center",_-=f/2):(g="left",_-=f)):(_=this.left+h,i==="near"?g="left":i==="center"?(g="center",_+=f/2):(g="right",_=this.right)):g="right",{textAlign:g,x:_}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,_)=>{!_.width||!_.color||(i.save(),i.lineWidth=_.width,i.strokeStyle=_.color,i.setLineDash(_.borderDash||[]),i.lineDashOffset=_.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,_,y,b;this.isHorizontal()?(g=fa(t,this.left,c)-c/2,_=fa(t,this.right,h)+h/2,y=b=f):(y=fa(t,this.top,c)-c/2,b=fa(t,this.bottom,h)+h/2,g=_=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,y),e.lineTo(_,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&hd(i,r);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,_=c.textOffset;Pa(i,g,0,_,f,h)}r&&fd(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Ue(i.font),c=mn(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Pt(e)?(f+=c.bottom,fe(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:_,maxWidth:y,rotation:b}=L4(this,f,e,h);Pa(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:b,textAlign:P4(h,e,r),textBaseline:"middle",translation:[g,_]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=At(t.grid&&t.grid.z,-1),r=At(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ba.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&r.push(h)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ue(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class tf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;z4(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,V4(t,c,i),this.override&&de.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in de[r]&&(delete de[r][i],this.override&&delete Na[i])}}function V4(n,t,e){const i=Kc(Object.create(null),[e?de.get(e):{},de.get(t),n.defaults]);de.set(t,i),n.defaultRoutes&&U4(t,n.defaultRoutes),n.descriptors&&de.describe(t,n.descriptors)}function U4(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");de.route(o,r,f,h)})}function z4(n){return"id"in n&&"defaults"in n}class B4{constructor(){this.controllers=new tf(gi,"datasets",!0),this.elements=new tf(mi,"elements"),this.plugins=new tf(Object,"plugins"),this.scales=new tf(Ba,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Zt(r,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const r=S_(t);ae(i["before"+r],[],i),e[t](i),ae(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Li=new B4;class j4{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,r,o.options];if(ae(h,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=At(i.options&&i.options.plugins,{}),o=H4(i);return r===!1&&!e?[]:q4(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function H4(n){const t={},e=[],i=Object.keys(Li.plugins.items);for(let o=0;o<i.length;o++)e.push(Li.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function F4(n,t){return!t&&n===!1?null:n===!0?{}:n}function q4(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=F4(i[f],r);g!==null&&o.push({plugin:h,options:G4(n.config,{plugin:h,local:e[f]},g,c)})}return o}function G4(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function xm(n,t){const e=de.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function Y4(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function X4(n,t){return n===t?"_index_":"_value_"}function dT(n){if(n==="x"||n==="y"||n==="r")return n}function K4(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Sm(n,...t){if(dT(n))return n;for(const e of t){const i=e.axis||K4(e.position)||n.length>1&&dT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function gT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function W4(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return gT(n,"x",e[0])||gT(n,"y",e[0])}return{}}function $4(n,t){const e=Na[n.type]||{scales:{}},i=t.scales||{},r=xm(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Pt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Sm(c,h,W4(c,n),de.scales[h.type]),g=X4(f,r),_=e.scales||{};o[c]=kc(Object.create(null),[{axis:f},h,_[f],_[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||xm(h,t),_=(Na[h]||{}).scales||{};Object.keys(_).forEach(y=>{const b=Y4(y,f),x=c[b+"AxisID"]||b;o[x]=o[x]||Object.create(null),kc(o[x],[{axis:b},i[x],_[y]])})}),Object.keys(o).forEach(c=>{const h=o[c];kc(h,[de.scales[h.type],de.scale])}),o}function z1(n){const t=n.options||(n.options={});t.plugins=At(t.plugins,{}),t.scales=$4(n,t)}function B1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Q4(n){return n=n||{},n.data=B1(n.data),z1(n),n}const pT=new Map,j1=new Set;function ef(n,t){let e=pT.get(n);return e||(e=t(),pT.set(n,e),j1.add(e)),e}const mc=(n,t,e)=>{const i=Sr(t,e);i!==void 0&&n.add(i)};class Z4{constructor(t){this._config=Q4(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=B1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),z1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ef(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ef(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ef(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return ef(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(_=>{t&&(f.add(t),_.forEach(y=>mc(f,t,y))),_.forEach(y=>mc(f,r,y)),_.forEach(y=>mc(f,Na[o]||{},y)),_.forEach(y=>mc(f,de,y)),_.forEach(y=>mc(f,bm,y))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),j1.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Na[e]||{},de.datasets[e]||{},{type:e},de,bm]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=mT(this._resolverCache,t,r);let f=c;if(tL(c,e)){o.$shared=!1,i=Ar(i)?i():i;const g=this.createResolver(t,i,h);f=$o(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],r){const{resolver:o}=mT(this._resolverCache,t,i);return Pt(e)?$o(o,e,void 0,r):o}}function mT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:D_(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(r,o)),o}const J4=n=>Pt(n)&&Object.getOwnPropertyNames(n).some(t=>Ar(n[t]));function tL(n,t){const{isScriptable:e,isIndexable:i}=v1(n);for(const r of t){const o=e(r),c=i(r),h=(c||o)&&n[r];if(o&&(Ar(h)||J4(h))||c&&fe(h))return!0}return!1}var eL="4.5.0";const nL=["top","bottom","left","right","chartArea"];function _T(n,t){return n==="top"||n==="bottom"||nL.indexOf(n)===-1&&t==="x"}function yT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function vT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ae(e&&e.onComplete,[n],t)}function iL(n){const t=n.chart,e=t.options.animation;ae(e&&e.onProgress,[n],t)}function H1(n){return k_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const bf={},bT=n=>{const t=H1(n);return Object.values(bf).filter(e=>e.canvas===t).pop()};function sL(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function rL(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class Ui{static register(...t){Li.add(...t),ET()}static unregister(...t){Li.remove(...t),ET()}constructor(t,e){const i=this.config=new Z4(e),r=H1(t),o=bT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||x4(r)),this.platform.updateConfig(i);const h=this.platform.acquireContext(r,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,_=f&&f.width;if(this.id=aN(),this.ctx=h,this.canvas=f,this.width=_,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new j4,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xN(y=>this.update(y),c.resizeDelay||0),this._dataChanges=[],bf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}vs.listen(this,"complete",vT),vs.listen(this,"progress",iL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return kt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Li}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():FE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return BE(this.canvas,this.ctx),this}stop(){return vs.stop(this),this}resize(t,e){vs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,FE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ae(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Zt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Sm(c,h),g=f==="r",_=f==="x";return{options:h,dposition:g?"chartArea":_?"bottom":"left",dtype:g?"radialLinear":_?"category":"linear"}}))),Zt(o,c=>{const h=c.options,f=h.id,g=Sm(f,h),_=At(h.type,c.dtype);(h.position===void 0||_T(h.position,g)!==_T(c.dposition))&&(h.position=c.dposition),r[f]=!0;let y=null;if(f in i&&i[f].type===_)y=i[f];else{const b=Li.getScale(_);y=new b({id:f,type:_,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(h,t)}),Zt(r,(c,h)=>{c||delete i[h]}),Zt(i,c=>{gn.configure(this,c,c.options),gn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(yT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||xm(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Li.getController(h),{datasetElementType:g,dataElementType:_}=de.datasets[h];Object.assign(f,{dataElementType:Li.getElement(_),datasetElementType:g&&Li.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Zt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,_=this.data.datasets.length;g<_;g++){const{controller:y}=this.getDatasetMeta(g),b=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(b),c=Math.max(+y.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Zt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yT("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Zt(this.scales,t=>{gn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!OE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;sL(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!OE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Zt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ar(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vs.has(this)?this.attached&&!vs.running(this)&&vs.start(this):(this.draw(),vT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=D1(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&hd(e,r),t.controller.draw(),r&&fd(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return ws(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=n4.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Ir(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Wc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),vs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),BE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete bf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Zt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},r=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{r("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Zt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Zt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Ff(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,g)=>f.filter(_=>!g.some(y=>_.datasetIndex===y.datasetIndex&&_.index===y.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),h.length&&r.mode&&this.updateHoverStyle(h,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,h=this._getActiveElements(t,r,i,c),f=fN(t),g=rL(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ae(o.onHover,[t,h,this],this),f&&ae(o.onClick,[t,h,this],this));const _=!Ff(h,r);return(_||e)&&(this._active=h,this._updateHoverStyles(h,r,e)),this._lastEvent=g,_}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}ft(Ui,"defaults",de),ft(Ui,"instances",bf),ft(Ui,"overrides",Na),ft(Ui,"registry",Li),ft(Ui,"version",eL),ft(Ui,"getChart",bT);function ET(){return Zt(Ui.instances,n=>n._plugins.invalidate())}function aL(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:g,borderJoinStyle:_}=f,y=Math.min(g/c,fn(i-e));if(n.beginPath(),n.arc(r,o,c-g/2,i+y/2,e-y/2),h>0){const b=Math.min(g/h,fn(i-e));n.arc(r,o,h+g/2,e-b/2,i+b/2,!0)}else{const b=Math.min(g/2,c*fn(i-e));if(_==="round")n.arc(r,o,b,e-Ft/2,i+Ft/2,!0);else if(_==="bevel"){const x=2*b*b,A=-x*Math.cos(e+Ft/2)+r,C=-x*Math.sin(e+Ft/2)+o,I=x*Math.cos(i+Ft/2)+r,U=x*Math.sin(i+Ft/2)+o;n.lineTo(A,C),n.lineTo(I,U)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function oL(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:h,innerRadius:f}=t;let g=r/h;n.beginPath(),n.arc(o,c,h,i-g,e+g),f>r?(g=r/f,n.arc(o,c,f,e+g,i-g,!0)):n.arc(o,c,r,e+Se,i-Se),n.closePath(),n.clip()}function lL(n){return I_(n,["outerStart","outerEnd","innerStart","innerEnd"])}function cL(n,t,e,i){const r=lL(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return Ye(f,0,Math.min(o,g))};return{outerStart:h(r.outerStart),outerEnd:h(r.outerEnd),innerStart:Ye(r.innerStart,0,c),innerEnd:Ye(r.innerEnd,0,c)}}function Po(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Wf(n,t,e,i,r,o){const{x:c,y:h,startAngle:f,pixelMargin:g,innerRadius:_}=t,y=Math.max(t.outerRadius+i+e-g,0),b=_>0?_+i+e+g:0;let x=0;const A=r-f;if(i){const vt=_>0?_-i:0,$=y>0?y-i:0,X=(vt+$)/2,lt=X!==0?A*X/(X+i):A;x=(A-lt)/2}const C=Math.max(.001,A*y-e/Ft)/y,I=(A-C)/2,U=f+I+x,B=r-I-x,{outerStart:K,outerEnd:Z,innerStart:G,innerEnd:rt}=cL(t,b,y,B-U),M=y-K,w=y-Z,D=U+K/M,P=B-Z/w,L=b+G,V=b+rt,k=U+G/L,Bt=B-rt/V;if(n.beginPath(),o){const vt=(D+P)/2;if(n.arc(c,h,y,D,vt),n.arc(c,h,y,vt,P),Z>0){const ct=Po(w,P,c,h);n.arc(ct.x,ct.y,Z,P,B+Se)}const $=Po(V,B,c,h);if(n.lineTo($.x,$.y),rt>0){const ct=Po(V,Bt,c,h);n.arc(ct.x,ct.y,rt,B+Se,Bt+Math.PI)}const X=(B-rt/b+(U+G/b))/2;if(n.arc(c,h,b,B-rt/b,X,!0),n.arc(c,h,b,X,U+G/b,!0),G>0){const ct=Po(L,k,c,h);n.arc(ct.x,ct.y,G,k+Math.PI,U-Se)}const lt=Po(M,U,c,h);if(n.lineTo(lt.x,lt.y),K>0){const ct=Po(M,D,c,h);n.arc(ct.x,ct.y,K,U-Se,D)}}else{n.moveTo(c,h);const vt=Math.cos(D)*y+c,$=Math.sin(D)*y+h;n.lineTo(vt,$);const X=Math.cos(P)*y+c,lt=Math.sin(P)*y+h;n.lineTo(X,lt)}n.closePath()}function uL(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Wf(n,t,e,i,f,r);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=c+(h%le||le))}return Wf(n,t,e,i,f,r),n.fill(),f}function hL(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:_,borderDash:y,borderDashOffset:b,borderRadius:x}=f,A=f.borderAlign==="inner";if(!g)return;n.setLineDash(y||[]),n.lineDashOffset=b,A?(n.lineWidth=g*2,n.lineJoin=_||"round"):(n.lineWidth=g,n.lineJoin=_||"bevel");let C=t.endAngle;if(o){Wf(n,t,e,i,C,r);for(let I=0;I<o;++I)n.stroke();isNaN(h)||(C=c+(h%le||le))}A&&oL(n,t,C),f.selfJoin&&C-c>=Ft&&x===0&&_!=="miter"&&aL(n,t,C),o||(Wf(n,t,e,i,C,r),n.stroke())}class xc extends mi{constructor(e){super();ft(this,"circumference");ft(this,"endAngle");ft(this,"fullCircles");ft(this,"innerRadius");ft(this,"outerRadius");ft(this,"pixelMargin");ft(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.getProps(["x","y"],r),{angle:c,distance:h}=c1(o,{x:e,y:i}),{startAngle:f,endAngle:g,innerRadius:_,outerRadius:y,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),x=(this.options.spacing+this.options.borderWidth)/2,A=At(b,g-f),C=$c(c,f,g)&&f!==g,I=A>=le||C,U=Ss(h,_+x,y+x);return I&&U}getCenterPoint(e){const{x:i,y:r,startAngle:o,endAngle:c,innerRadius:h,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:_}=this.options,y=(o+c)/2,b=(h+f+_+g)/2;return{x:i+Math.cos(y)*b,y:r+Math.sin(y)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,o=(i.offset||0)/4,c=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>le?Math.floor(r/le):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const g=1-Math.sin(Math.min(Ft,r||0)),_=o*g;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,uL(e,this,_,c,h),hL(e,this,_,c,h),e.restore()}}ft(xc,"id","arc"),ft(xc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ft(xc,"defaultRoutes",{backgroundColor:"backgroundColor"}),ft(xc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function F1(n,t,e=t){n.lineCap=At(e.borderCapStyle,t.borderCapStyle),n.setLineDash(At(e.borderDash,t.borderDash)),n.lineDashOffset=At(e.borderDashOffset,t.borderDashOffset),n.lineJoin=At(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=At(e.borderWidth,t.borderWidth),n.strokeStyle=At(e.borderColor,t.borderColor)}function fL(n,t,e){n.lineTo(e.x,e.y)}function dL(n){return n.stepped?PN:n.tension||n.cubicInterpolationMode==="monotone"?LN:fL}function q1(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(r,c),g=Math.min(o,h),_=r<c&&o<c||r>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!_?i+g-f:g-f}}function gL(n,t,e,i){const{points:r,options:o}=t,{count:c,start:h,loop:f,ilen:g}=q1(r,e,i),_=dL(o);let{move:y=!0,reverse:b}=i||{},x,A,C;for(x=0;x<=g;++x)A=r[(h+(b?g-x:x))%c],!A.skip&&(y?(n.moveTo(A.x,A.y),y=!1):_(n,C,A,b,o.stepped),C=A);return f&&(A=r[(h+(b?g:0))%c],_(n,C,A,b,o.stepped)),!!f}function pL(n,t,e,i){const r=t.points,{count:o,start:c,ilen:h}=q1(r,e,i),{move:f=!0,reverse:g}=i||{};let _=0,y=0,b,x,A,C,I,U;const B=Z=>(c+(g?h-Z:Z))%o,K=()=>{C!==I&&(n.lineTo(_,I),n.lineTo(_,C),n.lineTo(_,U))};for(f&&(x=r[B(0)],n.moveTo(x.x,x.y)),b=0;b<=h;++b){if(x=r[B(b)],x.skip)continue;const Z=x.x,G=x.y,rt=Z|0;rt===A?(G<C?C=G:G>I&&(I=G),_=(y*_+Z)/++y):(K(),n.lineTo(Z,G),A=rt,y=0,C=I=G),U=G}K()}function Am(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?pL:gL}function mL(n){return n.stepped?gP:n.tension||n.cubicInterpolationMode==="monotone"?pP:_a}function _L(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),F1(n,t.options),n.stroke(r)}function yL(n,t,e,i){const{segments:r,options:o}=t,c=Am(t);for(const h of r)F1(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const vL=typeof Path2D=="function";function bL(n,t,e,i){vL&&!t.options.segment?_L(n,t,e,i):yL(n,t,e,i)}class gr extends mi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;aP(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=EP(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=I1(this,{property:e,start:r,end:r});if(!c.length)return;const h=[],f=mL(i);let g,_;for(g=0,_=c.length;g<_;++g){const{start:y,end:b}=c[g],x=o[y],A=o[b];if(x===A){h.push(x);continue}const C=Math.abs((r-x[e])/(A[e]-x[e])),I=f(x,A,C,i.stepped);I[e]=t[e],h.push(I)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Am(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Am(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of r)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),bL(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ft(gr,"id","line"),ft(gr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ft(gr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ft(gr,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function TT(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class Ef extends mi{constructor(e){super();ft(this,"parsed");ft(this,"skip");ft(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:c,y:h}=this.getProps(["x","y"],r);return Math.pow(e-c,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return TT(this,e,"x",i)}inYRange(e,i){return TT(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!ws(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Em(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ft(Ef,"id","point"),ft(Ef,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ft(Ef,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function G1(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,g,_,y;return n.horizontal?(y=c/2,h=Math.min(e,r),f=Math.max(e,r),g=i-y,_=i+y):(y=o/2,h=e-y,f=e+y,g=Math.min(i,r),_=Math.max(i,r)),{left:h,top:g,right:f,bottom:_}}function pr(n,t,e,i){return n?0:Ye(t,e,i)}function EL(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=y1(i);return{t:pr(r.top,o.top,0,e),r:pr(r.right,o.right,0,t),b:pr(r.bottom,o.bottom,0,e),l:pr(r.left,o.left,0,t)}}function TL(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=xa(r),c=Math.min(t,e),h=n.borderSkipped,f=i||Pt(r);return{topLeft:pr(!f||h.top||h.left,o.topLeft,0,c),topRight:pr(!f||h.top||h.right,o.topRight,0,c),bottomLeft:pr(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:pr(!f||h.bottom||h.right,o.bottomRight,0,c)}}function xL(n){const t=G1(n),e=t.right-t.left,i=t.bottom-t.top,r=EL(n,e/2,i/2),o=TL(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Gp(n,t,e,i){const r=t===null,o=e===null,h=n&&!(r&&o)&&G1(n,i);return h&&(r||Ss(t,h.left,h.right))&&(o||Ss(e,h.top,h.bottom))}function SL(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function AL(n,t){n.rect(t.x,t.y,t.w,t.h)}function Yp(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class Tf extends mi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=xL(this),h=SL(c.radius)?Qc:AL;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,Yp(c,e,o)),t.clip(),h(t,Yp(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,Yp(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Gp(this,t,e,i)}inXRange(t,e){return Gp(this,t,null,e)}inYRange(t,e){return Gp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ft(Tf,"id","bar"),ft(Tf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ft(Tf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var wL=Object.freeze({__proto__:null,ArcElement:xc,BarElement:Tf,LineElement:gr,PointElement:Ef});const wm=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],xT=wm.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Y1(n){return wm[n%wm.length]}function X1(n){return xT[n%xT.length]}function RL(n,t){return n.borderColor=Y1(t),n.backgroundColor=X1(t),++t}function CL(n,t){return n.backgroundColor=n.data.map(()=>Y1(t++)),t}function IL(n,t){return n.backgroundColor=n.data.map(()=>X1(t++)),t}function DL(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof va?t=CL(e,t):r instanceof Vc?t=IL(e,t):r&&(t=RL(e,t))}}function ST(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function OL(n){return n&&(n.borderColor||n.backgroundColor)}function ML(){return de.borderColor!=="rgba(0,0,0,0.1)"||de.backgroundColor!=="rgba(0,0,0,0.1)"}var kL={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,c=ST(i)||OL(r)||o&&ST(o)||ML();if(!e.forceOverride&&c)return;const h=DL(n);i.forEach(h)}};function NL(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const c=[],h=(e-2)/(o-2);let f=0;const g=t+e-1;let _=t,y,b,x,A,C;for(c[f++]=n[_],y=0;y<o-2;y++){let I=0,U=0,B;const K=Math.floor((y+1)*h)+1+t,Z=Math.min(Math.floor((y+2)*h)+1,e)+t,G=Z-K;for(B=K;B<Z;B++)I+=n[B].x,U+=n[B].y;I/=G,U/=G;const rt=Math.floor(y*h)+1+t,M=Math.min(Math.floor((y+1)*h)+1,e)+t,{x:w,y:D}=n[_];for(x=A=-1,B=rt;B<M;B++)A=.5*Math.abs((w-I)*(n[B].y-D)-(w-n[B].x)*(U-D)),A>x&&(x=A,b=n[B],C=B);c[f++]=b,_=C}return c[f++]=n[g],c}function PL(n,t,e,i){let r=0,o=0,c,h,f,g,_,y,b,x,A,C;const I=[],U=t+e-1,B=n[t].x,Z=n[U].x-B;for(c=t;c<t+e;++c){h=n[c],f=(h.x-B)/Z*i,g=h.y;const G=f|0;if(G===_)g<A?(A=g,y=c):g>C&&(C=g,b=c),r=(o*r+h.x)/++o;else{const rt=c-1;if(!kt(y)&&!kt(b)){const M=Math.min(y,b),w=Math.max(y,b);M!==x&&M!==rt&&I.push({...n[M],x:r}),w!==x&&w!==rt&&I.push({...n[w],x:r})}c>0&&rt!==x&&I.push(n[rt]),I.push(h),_=G,o=0,A=C=g,y=b=x=c}}return I}function K1(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function AT(n){n.data.datasets.forEach(t=>{K1(t)})}function LL(n,t){const e=t.length;let i=0,r;const{iScale:o}=n,{min:c,max:h,minDefined:f,maxDefined:g}=o.getUserBounds();return f&&(i=Ye(As(t,o.axis,c).lo,0,e-1)),g?r=Ye(As(t,o.axis,h).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var VL={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){AT(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:c,indexAxis:h}=r,f=n.getDatasetMeta(o),g=c||r.data;if(Ec([h,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const _=n.scales[f.xAxisID];if(_.type!=="linear"&&_.type!=="time"||n.options.parsing)return;let{start:y,count:b}=LL(f,g);const x=e.threshold||4*i;if(b<=x){K1(r);return}kt(c)&&(r._data=g,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}}));let A;switch(e.algorithm){case"lttb":A=NL(g,y,b,i,e);break;case"min-max":A=PL(g,y,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=A})},destroy(n){AT(n)}};function UL(n,t,e){const i=n.segments,r=n.points,o=t.points,c=[];for(const h of i){let{start:f,end:g}=h;g=pd(f,g,r);const _=Rm(e,r[f],r[g],h.loop);if(!t.segments){c.push({source:h,target:_,start:r[f],end:r[g]});continue}const y=I1(t,_);for(const b of y){const x=Rm(e,o[b.start],o[b.end],b.loop),A=C1(h,r,x);for(const C of A)c.push({source:C,target:b,start:{[e]:wT(_,x,"start",Math.max)},end:{[e]:wT(_,x,"end",Math.min)}})}}return c}function Rm(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=fn(r),o=fn(o)),{property:n,start:r,end:o}}function zL(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=pd(c,h,r);const f=r[c],g=r[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:g.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}function pd(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function wT(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function W1(n,t){let e=[],i=!1;return fe(n)?(i=!0,e=n):e=zL(n,t),e.length?new gr({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function RT(n){return n&&n.fill!==!1}function BL(n,t,e){let r=n[t].fill;const o=[t];let c;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!ve(r))return r;if(c=n[r],!c)return!1;if(c.visible)return r;o.push(r),r=c.fill}return!1}function jL(n,t,e){const i=GL(n);if(Pt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ve(r)&&Math.floor(r)===r?HL(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function HL(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function FL(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Pt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function qL(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Pt(n)?i=n.value:i=t.getBaseValue(),i}function GL(n){const t=n.options,e=t.fill;let i=At(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function YL(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,c=i.points,h=XL(t,e);h.push(W1({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const g=o[f];for(let _=g.start;_<=g.end;_++)KL(r,c[_],h)}return new gr({points:r,options:{}})}function XL(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function KL(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:c,last:h,point:f}=WL(o,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function WL(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const _=o[g],y=c[_.start][e],b=c[_.end][e];if(Ss(r,y,b)){h=r===y,f=r===b;break}}return{first:h,last:f,point:i}}class $1{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:c}=this;return e=e||{start:0,end:le},t.arc(r,o,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function $L(n){const{chart:t,fill:e,line:i}=n;if(ve(e))return QL(t,e);if(e==="stack")return YL(n);if(e==="shape")return!0;const r=ZL(n);return r instanceof $1?r:W1(r,i)}function QL(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function ZL(n){return(n.scale||{}).getPointPositionForValue?tV(n):JL(n)}function JL(n){const{scale:t={},fill:e}=n,i=FL(e,t);if(ve(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function tV(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,c=qL(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new $1({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<r;++f)h.push(t.getPointPositionForValue(f,c));return h}function Xp(n,t,e){const i=$L(t),{chart:r,index:o,line:c,scale:h,axis:f}=t,g=c.options,_=g.fill,y=g.backgroundColor,{above:b=y,below:x=y}=_||{},A=r.getDatasetMeta(o),C=D1(r,A);i&&c.points.length&&(hd(n,e),eV(n,{line:c,target:i,above:b,below:x,area:e,scale:h,axis:f,clip:C}),fd(n))}function eV(n,t){const{line:e,target:i,above:r,below:o,area:c,scale:h,clip:f}=t,g=e._loop?"angle":t.axis;n.save();let _=o;o!==r&&(g==="x"?(CT(n,i,c.top),Kp(n,{line:e,target:i,color:r,scale:h,property:g,clip:f}),n.restore(),n.save(),CT(n,i,c.bottom)):g==="y"&&(IT(n,i,c.left),Kp(n,{line:e,target:i,color:o,scale:h,property:g,clip:f}),n.restore(),n.save(),IT(n,i,c.right),_=r)),Kp(n,{line:e,target:i,color:_,scale:h,property:g,clip:f}),n.restore()}function CT(n,t,e){const{segments:i,points:r}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,_=r[f],y=r[pd(f,g,r)];o?(n.moveTo(_.x,_.y),o=!1):(n.lineTo(_.x,e),n.lineTo(_.x,_.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function IT(n,t,e){const{segments:i,points:r}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,_=r[f],y=r[pd(f,g,r)];o?(n.moveTo(_.x,_.y),o=!1):(n.lineTo(e,_.y),n.lineTo(_.x,_.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Kp(n,t){const{line:e,target:i,property:r,color:o,scale:c,clip:h}=t,f=UL(e,i,r);for(const{source:g,target:_,start:y,end:b}of f){const{style:{backgroundColor:x=o}={}}=g,A=i!==!0;n.save(),n.fillStyle=x,nV(n,c,h,A&&Rm(r,y,b)),n.beginPath();const C=!!e.pathSegment(n,g);let I;if(A){C?n.closePath():DT(n,i,b,r);const U=!!i.pathSegment(n,_,{move:C,reverse:!0});I=C&&U,I||DT(n,i,y,r)}n.closePath(),n.fill(I?"evenodd":"nonzero"),n.restore()}}function nV(n,t,e,i){const r=t.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let f,g,_,y;o==="x"?(f=c,g=r.top,_=h,y=r.bottom):(f=r.left,g=c,_=r.right,y=h),n.beginPath(),e&&(f=Math.max(f,e.left),_=Math.min(_,e.right),g=Math.max(g,e.top),y=Math.min(y,e.bottom)),n.rect(f,g,_-f,y-g),n.clip()}}function DT(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var iV={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,c,h,f;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof gr&&(f={visible:n.isDatasetVisible(c),index:c,fill:jL(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,r.push(f);for(c=0;c<i;++c)f=r[c],!(!f||f.fill===!1)&&(f.fill=BL(r,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=r.length-1;c>=0;--c){const h=r[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&Xp(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;RT(o)&&Xp(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!RT(i)||e.drawTime!=="beforeDatasetDraw"||Xp(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const OT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},sV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class MT extends mi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ae(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Ue(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=OT(i,o);let g,_;e.font=r.string,this.isHorizontal()?(g=this.maxWidth,_=this._fitRows(c,o,h,f)+10):(_=this.maxHeight,g=this._fitCols(c,r,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(_,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],_=r+h;let y=t;o.textAlign="left",o.textBaseline="middle";let b=-1,x=-_;return this.legendItems.forEach((A,C)=>{const I=i+e/2+o.measureText(A.text).width;(C===0||g[g.length-1]+I+2*h>c)&&(y+=_,g[g.length-(C>0?0:1)]=0,x+=_,b++),f[C]={left:0,top:x,row:b,width:I,height:r},g[g.length-1]+=I+h}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],_=c-t;let y=h,b=0,x=0,A=0,C=0;return this.legendItems.forEach((I,U)=>{const{itemWidth:B,itemHeight:K}=rV(i,e,o,I,r);U>0&&x+K+2*h>_&&(y+=b+h,g.push({width:b,height:x}),A+=b+h,C++,b=x=0),f[U]={left:A,top:x,col:C,width:B,height:K},b=Math.max(b,B),x+=K+h}),y+=b,g.push({width:b,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=Fo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=un(i,this.left+r,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=un(i,this.left+r,this.right-this.lineWidths[h])),g.top+=this.top+t+r,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+r}else{let h=0,f=un(i,this.top+t+r,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=un(i,this.top+t+r,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+r,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;hd(t,this),this._draw(),fd(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,h=de.color,f=Fo(t.rtl,this.left,this.width),g=Ue(c.font),{padding:_}=c,y=g.size,b=y/2;let x;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=g.string;const{boxWidth:A,boxHeight:C,itemHeight:I}=OT(c,y),U=function(rt,M,w){if(isNaN(A)||A<=0||isNaN(C)||C<0)return;r.save();const D=At(w.lineWidth,1);if(r.fillStyle=At(w.fillStyle,h),r.lineCap=At(w.lineCap,"butt"),r.lineDashOffset=At(w.lineDashOffset,0),r.lineJoin=At(w.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=At(w.strokeStyle,h),r.setLineDash(At(w.lineDash,[])),c.usePointStyle){const P={radius:C*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:D},L=f.xPlus(rt,A/2),V=M+b;_1(r,P,L,V,c.pointStyleWidth&&A)}else{const P=M+Math.max((y-C)/2,0),L=f.leftForLtr(rt,A),V=xa(w.borderRadius);r.beginPath(),Object.values(V).some(k=>k!==0)?Qc(r,{x:L,y:P,w:A,h:C,radius:V}):r.rect(L,P,A,C),r.fill(),D!==0&&r.stroke()}r.restore()},B=function(rt,M,w){Pa(r,w.text,rt,M+I/2,g,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},K=this.isHorizontal(),Z=this._computeTitleHeight();K?x={x:un(o,this.left+_,this.right-i[0]),y:this.top+_+Z,line:0}:x={x:this.left+_,y:un(o,this.top+Z+_,this.bottom-e[0].height),line:0},A1(this.ctx,t.textDirection);const G=I+_;this.legendItems.forEach((rt,M)=>{r.strokeStyle=rt.fontColor,r.fillStyle=rt.fontColor;const w=r.measureText(rt.text).width,D=f.textAlign(rt.textAlign||(rt.textAlign=c.textAlign)),P=A+b+w;let L=x.x,V=x.y;f.setWidth(this.width),K?M>0&&L+P+_>this.right&&(V=x.y+=G,x.line++,L=x.x=un(o,this.left+_,this.right-i[x.line])):M>0&&V+G>this.bottom&&(L=x.x=L+e[x.line].width+_,x.line++,V=x.y=un(o,this.top+Z+_,this.bottom-e[x.line].height));const k=f.x(L);if(U(k,V,rt),L=SN(D,L+A+b,K?L+P:this.right,t.rtl),B(f.x(L),V,rt),K)x.x+=P+_;else if(typeof rt.text!="string"){const Bt=g.lineHeight;x.y+=Q1(rt,Bt)+_}else x.y+=G}),w1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ue(e.font),r=mn(e.padding);if(!e.display)return;const o=Fo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=r.top+f;let _,y=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),_=this.top+g,y=un(t.align,y,this.right-b);else{const A=this.columnSizes.reduce((C,I)=>Math.max(C,I.height),0);_=g+un(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const x=un(h,y,y+b);c.textAlign=o.textAlign(R_(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Pa(c,e.text,x,_,i)}_computeTitleHeight(){const t=this.options.title,e=Ue(t.font),i=mn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(Ss(t,this.left,this.right)&&Ss(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],Ss(t,r.left,r.left+r.width)&&Ss(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!lV(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=sV(r,i);r&&!o&&ae(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ae(e.onHover,[t,i,this],this)}else i&&ae(e.onClick,[t,i,this],this)}}function rV(n,t,e,i,r){const o=aV(i,n,t,e),c=oV(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function aV(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function oV(n,t,e){let i=n;return typeof t.text!="string"&&(i=Q1(t,e)),i}function Q1(n,t){const e=n.text?n.text.length:0;return t*e}function lV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var cV={id:"legend",_element:MT,start(n,t,e){const i=n.legend=new MT({ctx:n.ctx,options:e,chart:n});gn.configure(n,i,e),gn.addBox(n,i)},stop(n){gn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;gn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),_=mn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(_.width+_.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:r||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class L_ extends mi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=fe(i.text)?i.text.length:1;this._padding=mn(i.padding);const o=r*Ue(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,h=c.align;let f=0,g,_,y;return this.isHorizontal()?(_=un(h,i,o),y=e+t,g=o-i):(c.position==="left"?(_=i+t,y=un(h,r,e),f=Ft*-.5):(_=o-t,y=un(h,e,r),f=Ft*.5),g=r-e),{titleX:_,titleY:y,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ue(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);Pa(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:R_(e.align),textBaseline:"middle",translation:[c,h]})}}function uV(n,t){const e=new L_({ctx:n.ctx,options:t,chart:n});gn.configure(n,e,t),gn.addBox(n,e),n.titleBlock=e}var hV={id:"title",_element:L_,start(n,t,e){uV(n,e)},stop(n){const t=n.titleBlock;gn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nf=new WeakMap;var fV={id:"subtitle",start(n,t,e){const i=new L_({ctx:n.ctx,options:e,chart:n});gn.configure(n,i,e),gn.addBox(n,i),nf.set(n,i)},stop(n){gn.removeBox(n,nf.get(n)),nf.delete(n)},beforeUpdate(n,t,e){const i=nf.get(n);gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sc={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),_=vm(t,g);_<r&&(r=_,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Pi(n,t){return t&&(fe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function bs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function dV(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:h,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function kT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=Ue(t.bodyFont),g=Ue(t.titleFont),_=Ue(t.footerFont),y=o.length,b=r.length,x=i.length,A=mn(t.padding);let C=A.height,I=0,U=i.reduce((Z,G)=>Z+G.before.length+G.lines.length+G.after.length,0);if(U+=n.beforeBody.length+n.afterBody.length,y&&(C+=y*g.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),U){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=x*Z+(U-x)*f.lineHeight+(U-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*_.lineHeight+(b-1)*t.footerSpacing);let B=0;const K=function(Z){I=Math.max(I,e.measureText(Z).width+B)};return e.save(),e.font=g.string,Zt(n.title,K),e.font=f.string,Zt(n.beforeBody.concat(n.afterBody),K),B=t.displayColors?c+2+t.boxPadding:0,Zt(i,Z=>{Zt(Z.before,K),Zt(Z.lines,K),Zt(Z.after,K)}),B=0,e.font=_.string,Zt(n.footer,K),e.restore(),I+=A.width,{width:I,height:C}}function gV(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function pV(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function mV(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=r<=(h+f)/2?"left":"right":r<=o/2?g="left":r>=c-o/2&&(g="right"),pV(g,n,t,e)&&(g="center"),g}function NT(n,t,e){const i=e.yAlign||t.yAlign||gV(n,e);return{xAlign:e.xAlign||t.xAlign||mV(n,t,e,i),yAlign:i}}function _V(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function yV(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function PT(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=r+o,{topLeft:_,topRight:y,bottomLeft:b,bottomRight:x}=xa(c);let A=_V(t,h);const C=yV(t,f,g);return f==="center"?h==="left"?A+=g:h==="right"&&(A-=g):h==="left"?A-=Math.max(_,b)+r:h==="right"&&(A+=Math.max(y,x)+r),{x:Ye(A,0,i.width-t.width),y:Ye(C,0,i.height-t.height)}}function sf(n,t,e){const i=mn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function LT(n){return Pi([],bs(n))}function vV(n,t,e){return Ir(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function VT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const Z1={beforeTitle:ys,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ys,beforeBody:ys,beforeLabel:ys,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return kt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ys,afterBody:ys,beforeFooter:ys,footer:ys,afterFooter:ys};function wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?Z1[t].call(e,i):r}class Cm extends mi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new O1(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=vV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let h=[];return h=Pi(h,bs(r)),h=Pi(h,bs(o)),h=Pi(h,bs(c)),h}getBeforeBody(t,e){return LT(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Zt(t,o=>{const c={before:[],lines:[],after:[]},h=VT(i,o);Pi(c.before,bs(wn(h,"beforeLabel",this,o))),Pi(c.lines,wn(h,"label",this,o)),Pi(c.after,bs(wn(h,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return LT(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let h=[];return h=Pi(h,bs(r)),h=Pi(h,bs(o)),h=Pi(h,bs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(dV(this.chart,e[f]));return t.filter&&(h=h.filter((_,y,b)=>t.filter(_,y,b,i))),t.itemSort&&(h=h.sort((_,y)=>t.itemSort(_,y,i))),Zt(h,_=>{const y=VT(t.callbacks,_);r.push(wn(y,"labelColor",this,_)),o.push(wn(y,"labelPointStyle",this,_)),c.push(wn(y,"labelTextColor",this,_))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const h=Sc[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=kT(this,i),g=Object.assign({},h,f),_=NT(this.chart,i,g),y=PT(i,g,_,this.chart);this.xAlign=_.xAlign,this.yAlign=_.yAlign,o={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:_,bottomRight:y}=xa(h),{x:b,y:x}=t,{width:A,height:C}=e;let I,U,B,K,Z,G;return o==="center"?(Z=x+C/2,r==="left"?(I=b,U=I-c,K=Z+c,G=Z-c):(I=b+A,U=I+c,K=Z-c,G=Z+c),B=I):(r==="left"?U=b+Math.max(f,_)+c:r==="right"?U=b+A-Math.max(g,y)-c:U=this.caretX,o==="top"?(K=x,Z=K-c,I=U-c,B=U+c):(K=x+C,Z=K+c,I=U+c,B=U-c),G=K),{x1:I,x2:U,x3:B,y1:K,y2:Z,y3:G}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,h,f;if(o){const g=Fo(i.rtl,this.x,this.width);for(t.x=sf(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=Ue(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,_=Ue(o.bodyFont),y=sf(this,"left",o),b=r.x(y),x=f<_.lineHeight?(_.lineHeight-f)/2:0,A=e.y+x;if(o.usePointStyle){const C={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},I=r.leftForLtr(b,g)+g/2,U=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Em(t,C,I,U),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Em(t,C,I,U)}else{t.lineWidth=Pt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(b,g),I=r.leftForLtr(r.xPlus(b,1),g-2),U=xa(c.borderRadius);Object.values(U).some(B=>B!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Qc(t,{x:C,y:A,w:g,h:f,radius:U}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Qc(t,{x:I,y:A+1,w:g-2,h:f-2,radius:U}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,A,g,f),t.strokeRect(C,A,g,f),t.fillStyle=c.backgroundColor,t.fillRect(I,A+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:_}=i,y=Ue(i.bodyFont);let b=y.lineHeight,x=0;const A=Fo(i.rtl,this.x,this.width),C=function(w){e.fillText(w,A.x(t.x+x),t.y+b/2),t.y+=b+o},I=A.textAlign(c);let U,B,K,Z,G,rt,M;for(e.textAlign=c,e.textBaseline="middle",e.font=y.string,t.x=sf(this,I,i),e.fillStyle=i.bodyColor,Zt(this.beforeBody,C),x=h&&I!=="right"?c==="center"?g/2+_:g+2+_:0,Z=0,rt=r.length;Z<rt;++Z){for(U=r[Z],B=this.labelTextColors[Z],e.fillStyle=B,Zt(U.before,C),K=U.lines,h&&K.length&&(this._drawColorBox(e,t,Z,A,i),b=Math.max(y.lineHeight,f)),G=0,M=K.length;G<M;++G)C(K[G]),b=y.lineHeight;Zt(U.after,C)}x=0,b=y.lineHeight,Zt(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,h;if(o){const f=Fo(i.rtl,this.x,this.width);for(t.x=sf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=Ue(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(r[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:_}=i,{topLeft:y,topRight:b,bottomLeft:x,bottomRight:A}=xa(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(h+y,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(h+g-b,f),e.quadraticCurveTo(h+g,f,h+g,f+b),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(h+g,f+_-A),e.quadraticCurveTo(h+g,f+_,h+g-A,f+_),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(h+x,f+_),e.quadraticCurveTo(h,f+_,h,f+_-x),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(h,f+y),e.quadraticCurveTo(h,f,h+y,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=Sc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=kT(this,t),f=Object.assign({},c,this._size),g=NT(e,t,f),_=PT(t,f,g,e);(r._to!==_.x||o._to!==_.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,_))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=mn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),A1(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),w1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Ff(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Ff(c,o)||h;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=Sc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}ft(Cm,"positioners",Sc);var bV={id:"tooltip",_element:Cm,positioners:Sc,afterInit(n,t,e){e&&(n.tooltip=new Cm({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Z1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},EV=Object.freeze({__proto__:null,Colors:kL,Decimation:VL,Filler:iV,Legend:cV,SubTitle:fV,Title:hV,Tooltip:bV});const TV=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function xV(n,t,e,i){const r=n.indexOf(t);if(r===-1)return TV(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const SV=(n,t)=>n===null?null:Ye(Math.round(n),0,t);function UT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Im extends Ba{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(kt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:xV(i,t,At(e,t),this._addedLabels),SV(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return UT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ft(Im,"id","category"),ft(Im,"defaults",{ticks:{callback:UT}});function AV(n,t){const e=[],{bounds:r,step:o,min:c,max:h,precision:f,count:g,maxTicks:_,maxDigits:y,includeBounds:b}=n,x=o||1,A=_-1,{min:C,max:I}=t,U=!kt(c),B=!kt(h),K=!kt(g),Z=(I-C)/(y+1);let G=kE((I-C)/A/x)*x,rt,M,w,D;if(G<1e-14&&!U&&!B)return[{value:C},{value:I}];D=Math.ceil(I/G)-Math.floor(C/G),D>A&&(G=kE(D*G/A/x)*x),kt(f)||(rt=Math.pow(10,f),G=Math.ceil(G*rt)/rt),r==="ticks"?(M=Math.floor(C/G)*G,w=Math.ceil(I/G)*G):(M=C,w=I),U&&B&&o&&_N((h-c)/o,G/1e3)?(D=Math.round(Math.min((h-c)/G,_)),G=(h-c)/D,M=c,w=h):K?(M=U?c:M,w=B?h:w,D=g-1,G=(w-M)/D):(D=(w-M)/G,Nc(D,Math.round(D),G/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(NE(G),NE(M));rt=Math.pow(10,kt(f)?P:f),M=Math.round(M*rt)/rt,w=Math.round(w*rt)/rt;let L=0;for(U&&(b&&M!==c?(e.push({value:c}),M<c&&L++,Nc(Math.round((M+L*G)*rt)/rt,c,zT(c,Z,n))&&L++):M<c&&L++);L<D;++L){const V=Math.round((M+L*G)*rt)/rt;if(B&&V>h)break;e.push({value:V})}return B&&b&&w!==h?e.length&&Nc(e[e.length-1].value,h,zT(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!B||w===h)&&e.push({value:w}),e}function zT(n,t,{horizontal:e,minRotation:i}){const r=di(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class $f extends Ba{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return kt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,h=f=>o=i?o:f;if(t){const f=Fi(r),g=Fi(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=AV(r,o);return t.bounds==="ticks"&&l1(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return du(t,this.chart.options.locale,this.options.ticks.format)}}class Dm extends $f{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ve(t)?t:0,this.max=ve(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=di(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ft(Dm,"id","linear"),ft(Dm,"defaults",{ticks:{callback:ud.formatters.numeric}});const Jc=n=>Math.floor(dr(n)),ga=(n,t)=>Math.pow(10,Jc(n)+t);function BT(n){return n/Math.pow(10,Jc(n))===1}function jT(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function wV(n,t){const e=t-n;let i=Jc(e);for(;jT(n,t,i)>10;)i++;for(;jT(n,t,i)<10;)i--;return Math.min(i,Jc(n))}function RV(n,{min:t,max:e}){t=zn(n.min,t);const i=[],r=Jc(t);let o=wV(t,e),c=o<0?Math.pow(10,Math.abs(o)):1;const h=Math.pow(10,o),f=r>o?Math.pow(10,r):0,g=Math.round((t-f)*c)/c,_=Math.floor((t-f)/h/10)*h*10;let y=Math.floor((g-_)/Math.pow(10,o)),b=zn(n.min,Math.round((f+_+y*Math.pow(10,o))*c)/c);for(;b<e;)i.push({value:b,major:BT(b),significand:y}),y>=10?y=y<15?15:20:y++,y>=20&&(o++,y=2,c=o>=0?1:c),b=Math.round((f+_+y*Math.pow(10,o))*c)/c;const x=zn(n.max,b);return i.push({value:x,major:BT(x),significand:y}),i}class Om extends Ba{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=$f.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return ve(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ve(t)?Math.max(0,t):null,this.max=ve(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ve(this._userMin)&&(this.min=t===ga(this.min,0)?ga(this.min,-1):ga(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=h=>i=t?i:h,c=h=>r=e?r:h;i===r&&(i<=0?(o(1),c(10)):(o(ga(i,-1)),c(ga(r,1)))),i<=0&&o(ga(r,-1)),r<=0&&c(ga(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=RV(e,this);return t.bounds==="ticks"&&l1(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":du(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=dr(t),this._valueRange=dr(this.max)-dr(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(dr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}ft(Om,"id","logarithmic"),ft(Om,"defaults",{ticks:{callback:ud.formatters.logarithmic,major:{enabled:!0}}});function Mm(n){const t=n.ticks;if(t.display&&n.display){const e=mn(t.backdropPadding);return At(t.font&&t.font.size,de.font.size)+e.height}return 0}function CV(n,t,e){return e=fe(e)?e:[e],{w:NN(n,t.string,e),h:e.length*t.lineHeight}}function HT(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function IV(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,c=n.options.pointLabels,h=c.centerPointLabels?Ft/o:0;for(let f=0;f<o;f++){const g=c.setContext(n.getPointLabelContext(f));r[f]=g.padding;const _=n.getPointPosition(f,n.drawingArea+r[f],h),y=Ue(g.font),b=CV(n.ctx,y,n._pointLabels[f]);i[f]=b;const x=fn(n.getIndexAngle(f)+h),A=Math.round(A_(x)),C=HT(A,_.x,b.w,0,180),I=HT(A,_.y,b.h,90,270);DV(e,t,x,C,I)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=kV(n,i,r)}function DV(n,t,e,i,r){const o=Math.abs(Math.sin(e)),c=Math.abs(Math.cos(e));let h=0,f=0;i.start<t.l?(h=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-h)):i.end>t.r&&(h=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+h)),r.start<t.t?(f=(t.t-r.start)/c,n.t=Math.min(n.t,t.t-f)):r.end>t.b&&(f=(r.end-t.b)/c,n.b=Math.max(n.b,t.b+f))}function OV(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:c,size:h}=e,f=n.getPointPosition(t,i+r+c,o),g=Math.round(A_(fn(f.angle+Se))),_=LV(f.y,h.h,g),y=NV(g),b=PV(f.x,h.w,y);return{visible:!0,x:f.x,y:_,textAlign:y,left:b,top:_,right:b+h.w,bottom:_+h.h}}function MV(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(ws({x:e,y:i},t)||ws({x:e,y:o},t)||ws({x:r,y:i},t)||ws({x:r,y:o},t))}function kV(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:c,display:h}=o.pointLabels,f={extra:Mm(o)/2,additionalAngle:c?Ft/r:0};let g;for(let _=0;_<r;_++){f.padding=e[_],f.size=t[_];const y=OV(n,_,f);i.push(y),h==="auto"&&(y.visible=MV(y,g),y.visible&&(g=y))}return i}function NV(n){return n===0||n===180?"center":n<180?"left":"right"}function PV(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function LV(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function VV(n,t,e){const{left:i,top:r,right:o,bottom:c}=e,{backdropColor:h}=t;if(!kt(h)){const f=xa(t.borderRadius),g=mn(t.backdropPadding);n.fillStyle=h;const _=i-g.left,y=r-g.top,b=o-i+g.width,x=c-r+g.height;Object.values(f).some(A=>A!==0)?(n.beginPath(),Qc(n,{x:_,y,w:b,h:x,radius:f}),n.fill()):n.fillRect(_,y,b,x)}}function UV(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const c=i.setContext(n.getPointLabelContext(r));VV(e,c,o);const h=Ue(c.font),{x:f,y:g,textAlign:_}=o;Pa(e,n._pointLabels[r],f,g+h.lineHeight/2,h,{color:c.color,textAlign:_,textBaseline:"middle"})}}function J1(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,le);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let c=1;c<i;c++)o=n.getPointPosition(c,t),r.lineTo(o.x,o.y)}}function zV(n,t,e,i,r){const o=n.ctx,c=t.circular,{color:h,lineWidth:f}=t;!c&&!i||!h||!f||e<0||(o.save(),o.strokeStyle=h,o.lineWidth=f,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),J1(n,e,c,i),o.closePath(),o.stroke(),o.restore())}function BV(n,t,e){return Ir(n,{label:e,index:t,type:"pointLabel"})}class Ac extends $f{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=mn(Mm(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ve(t)&&!isNaN(t)?t:0,this.max=ve(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Mm(this.options))}generateTickLabels(t){$f.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=ae(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?IV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=le/(this._pointLabels.length||1),i=this.options.startAngle||0;return fn(t*e+di(i))}getDistanceFromCenterForValue(t){if(kt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(kt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return BV(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Se+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),J1(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,c=this._pointLabels.length;let h,f,g;if(e.pointLabels.display&&UV(this,c),r.display&&this.ticks.forEach((_,y)=>{if(y!==0||y===0&&this.min<0){f=this.getDistanceFromCenterForValue(_.value);const b=this.getContext(y),x=r.setContext(b),A=o.setContext(b);zV(this,x,f,c,A)}}),i.display){for(t.save(),h=c-1;h>=0;h--){const _=i.setContext(this.getPointLabelContext(h)),{color:y,lineWidth:b}=_;!b||!y||(t.lineWidth=b,t.strokeStyle=y,t.setLineDash(_.borderDash),t.lineDashOffset=_.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),g=this.getPointPosition(h,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,c;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const g=i.setContext(this.getContext(f)),_=Ue(g.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=_.string,c=t.measureText(h.label).width,t.fillStyle=g.backdropColor;const y=mn(g.backdropPadding);t.fillRect(-c/2-y.left,-o-_.size/2-y.top,c+y.width,_.size+y.height)}Pa(t,h.label,0,-o,_,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}}ft(Ac,"id","radialLinear"),ft(Ac,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ud.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ft(Ac,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ft(Ac,"descriptors",{angleLines:{_fallback:"grid"}});const md={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(md);function FT(n,t){return n-t}function qT(n,t){if(kt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),ve(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Wo(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function GT(n,t,e,i){const r=Cn.length;for(let o=Cn.indexOf(n);o<r-1;++o){const c=md[Cn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Cn[o]}return Cn[r-1]}function jV(n,t,e,i,r){for(let o=Cn.length-1;o>=Cn.indexOf(e);o--){const c=Cn[o];if(md[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Cn[e?Cn.indexOf(e):0]}function HV(n){for(let t=Cn.indexOf(n)+1,e=Cn.length;t<e;++t)if(md[Cn[t]].common)return Cn[t]}function YT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=w_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function FV(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+r.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function XT(n,t,e){const i=[],r={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],r[h]=c,i.push({value:h,major:!1});return o===0||!e?i:FV(n,i,r,e)}class tu extends Ba{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new QP._date(t.adapters.date);r.init(e),kc(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:qT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(r=Math.min(r,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=ve(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ve(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,h=EN(r,o,c);return this._unit=e.unit||(i.autoSkip?GT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):jV(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:HV(this._unit),this.initOffsets(r),t.reverse&&h.reverse(),XT(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Ye(e,0,c),i=Ye(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||GT(o.minUnit,e,i,this._getLabelCapacity(e)),h=At(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=Wo(f)||f===!0,_={};let y=e,b,x;if(g&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=r.ticks.source==="data"&&this.getDataTimestamps();for(b=y,x=0;b<i;b=+t.add(b,h,c),x++)YT(_,b,A);return(b===i||r.bounds==="ticks"||x===1)&&YT(_,b,A),Object.keys(_).sort(FT).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ae(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,_=f&&h[f],y=g&&h[g],b=i[e],x=g&&y&&b&&b.major;return this._adapter.format(t,r||(x?y:_))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=di(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,XT(this,[t],this._majorUnit),r),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(qT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return h1(t.sort(FT))}}ft(tu,"id","time"),ft(tu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rf(n,t,e){let i=0,r=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=As(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=As(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[r]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class km extends tu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=rf(e,this.min),this._tableRange=rf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,h,f,g,_;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&r.push(g);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=r.length;c<h;++c)_=r[c+1],f=r[c-1],g=r[c],Math.round((_+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(rf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return rf(this._table,i*this._tableRange+this._minPos,!0)}}ft(km,"id","timeseries"),ft(km,"defaults",tu.defaults);var qV=Object.freeze({__proto__:null,CategoryScale:Im,LinearScale:Dm,LogarithmicScale:Om,RadialLinearScale:Ac,TimeScale:tu,TimeSeriesScale:km});const GV=[$P,wL,EV,qV];Ui.register(...GV);const YV=se.createContext(null),XV=()=>{const[n,t]=se.useState(null),[e,i]=se.useState("homeDashboard"),[r,o]=se.useState(!1),[c,h]=se.useState({}),[f,g]=se.useState(""),[_,y]=se.useState(!0),[b,x]=se.useState(""),A=se.useRef(null),C=se.useRef(null),I=se.useRef(null),U=se.useRef(null),B={apiKey:"AIzaSyDlGp9jxE1YubvFm6MDqSMT9M9G_5iu1f4",authDomain:"validatr-mvp.firebaseapp.com",projectId:"validatr-mvp",storageBucket:"validatr-mvp.firebasestorage.app",messagingSenderId:"967024558151",appId:"1:967024558151:web:55146fdedd24314cc6f162",measurementId:"G-JEE15JVL0N"},K="validatr-pitch-decks-input";se.useEffect(()=>{if(!A.current){const X=sx(B);A.current=X,C.current=kI(X),I.current=lM(X),U.current=Nk(X),y2(C.current,Xm).then(()=>console.log("Persistenza sessione impostata su BROWSER_SESSION.")).catch(lt=>console.error("Errore nell'impostare la persistenza:",lt)),E2(C.current,async lt=>{t(lt),y(!1),lt?(i("homeDashboard"),await w(lt)):(i("login"),h({}),g(""))})}},[]);const Z=()=>({auth:C.current,db:I.current,storage:U.current,appId:B.projectId,pitchInputBucket:K}),G=async(X,lt)=>{x("");try{await _2(C.current,X,lt)}catch(ct){console.error("Errore di accesso:",ct);let O="Errore di accesso. Riprova.";switch(ct.code){case"auth/invalid-email":O="Email non valida.";break;case"auth/user-disabled":O="Questo utente è stato disabilitato.";break;case"auth/user-not-found":case"auth/wrong-password":O="Credenziali non valide.";break;case"auth/too-many-requests":O="Troppi tentativi falliti. Riprova più tardi.";break;default:O=`Errore: ${ct.message}`;break}x(O)}},rt=async(X,lt)=>{x("");try{const O=(await m2(C.current,X,lt)).user;await EM(oM(I.current,"artifacts",B.projectId,"users",O.uid,"profile","data"),{email:O.email,registeredAt:new Date})}catch(ct){console.error("Errore di registrazione:",ct);let O="Errore durante la registrazione. Riprova.";switch(ct.code){case"auth/email-already-in-use":O="Questa email è già in uso.";break;case"auth/invalid-email":O="Email non valida.";break;case"auth/weak-password":O="La password è troppo debole.";break;default:O=`Errore: ${ct.message}`;break}x(O)}},M=async()=>{try{await T2(C.current)}catch(X){console.error("Errore durante il logout:",X)}},w=async X=>{if(X){y(!0);try{const lt=await X.getIdToken(),O=await fetch("https://europe-west1-validatr-mvp.cloudfunctions.net/fetchPitchData",{headers:{Authorization:`Bearer ${lt}`}});if(!O.ok){if(O.status===401||O.status===403){console.error("Accesso API negato. Potresti non avere i permessi o il token è scaduto."),await M();return}throw new Error(`Errore HTTP! Stato: ${O.status}`)}const H=await O.json();h(H);const et=Object.keys(H);et.length>0?g(et[0]):g("")}catch(lt){console.error("Errore durante il recupero dei dati:",lt),h({}),g("")}finally{y(!1)}}},D=async X=>{if(!X)return;const lt=C.current.currentUser;if(!lt){alert("Devi essere loggato per caricare il file."),i("login");return}const ct=document.getElementById("uploadStatusMessage");ct&&(ct.textContent="Caricamento in corso...",ct.style.color="#475569");try{const O=`user_uploads/${lt.uid}/${X.name}`,H=kk(U.current,`${K}/${O}`);await Mk(H,X),ct&&(ct.textContent="Caricamento completato! L'analisi inizierà a breve.",ct.style.color="#10b981"),console.log("File caricato con successo. Percorso:",O),setTimeout(()=>{o(!1),w(lt)},2e3)}catch(O){console.error("Errore durante il caricamento del file:",O),ct&&(ct.textContent=`Errore di caricamento: ${O.message}`,ct.style.color="#ef4444")}},P=(X,lt)=>{if(typeof X!="string"||X.length<=lt)return X;let ct=[],O=X.split(" "),H="";return O.forEach((et,nt)=>{(H+et).length<=lt?H+=(H===""?"":" ")+et:(ct.push(H),H=et),nt===O.length-1&&ct.push(H)}),ct},L=({currentMode:X,onLogin:lt,onRegister:ct,onShowRegister:O,onShowLogin:H,error:et})=>{const[nt,gt]=se.useState(""),[pt,dt]=se.useState(""),[qt,Gt]=se.useState(""),_n=()=>{if(X==="login")lt(nt,pt);else if(X==="register"){if(pt!==qt){x("Le password non corrispondono.");return}if(pt.length<6){x("La password deve essere di almeno 6 caratteri.");return}ct(nt,pt)}};return tt.jsxs("div",{className:"w-full max-w-md card mt-[100px] p-8 flex flex-col items-center",children:[tt.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-6",children:X==="login"?"Accedi a VALIDATR™":"Registrati a VALIDATR™"}),tt.jsx("input",{type:"email",placeholder:"Email",className:"w-full px-4 py-2 mb-4 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",value:nt,onChange:Ke=>gt(Ke.target.value)}),tt.jsx("input",{type:"password",placeholder:"Password",className:"w-full px-4 py-2 mb-4 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",value:pt,onChange:Ke=>dt(Ke.target.value)}),X==="register"&&tt.jsx("input",{type:"password",placeholder:"Conferma Password",className:"w-full px-4 py-2 mb-6 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500",value:qt,onChange:Ke=>Gt(Ke.target.value)}),tt.jsx("button",{onClick:_n,className:"w-full px-6 py-3 bg-teal-600 text-white font-semibold rounded-lg shadow-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50 transition duration-200",children:X==="login"?"Accedi":"Registrati"}),et&&tt.jsx("p",{className:"text-red-600 mt-4",children:et}),X==="login"?tt.jsxs("p",{className:"mt-4 text-slate-600",children:["Non hai un account? ",tt.jsx("a",{href:"#",onClick:O,className:"text-teal-600 hover:text-teal-700 font-semibold",children:"Registrati qui"})]}):tt.jsxs("p",{className:"mt-4 text-slate-600",children:["Hai già un account? ",tt.jsx("a",{href:"#",onClick:H,className:"text-teal-600 hover:text-teal-700 font-semibold",children:"Accedi qui"})]})]})},V=({onClose:X,onFileUpload:lt})=>{const ct=se.useRef(null),O=se.useRef(null),H=()=>{const et=ct.current.files[0];if(!et){O.current&&(O.current.textContent="Seleziona un file PDF.",O.current.style.color="#ef4444");return}if(et.type!=="application/pdf"){O.current&&(O.current.textContent="Il file deve essere un PDF.",O.current.style.color="#ef4444");return}lt(et)};return tt.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center",children:tt.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-lg mx-4",children:[tt.jsx("h2",{className:"text-2xl font-semibold text-slate-800 mb-6",children:"Carica un Nuovo Pitch Deck"}),tt.jsx("p",{className:"text-slate-600 mb-4",children:"Seleziona un file PDF da caricare per l'analisi."}),tt.jsx("input",{type:"file",ref:ct,accept:".pdf",className:"w-full px-4 py-2 mb-4 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500"}),tt.jsxs("button",{onClick:H,className:"w-full px-6 py-3 bg-teal-600 text-white font-semibold rounded-lg shadow-md hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50 transition duration-200 flex items-center justify-center",children:[tt.jsx("span",{className:"material-icons-outlined text-xl mr-2",children:"upload_file"}),"Carica File"]}),tt.jsx("p",{id:"uploadStatusMessage",ref:O,className:"mt-4 text-center text-slate-700"}),tt.jsx("button",{onClick:X,className:"mt-6 w-full px-6 py-3 bg-slate-200 text-slate-700 font-semibold rounded-lg hover:bg-slate-300 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-opacity-50 transition duration-200",children:"Chiudi"})]})})},k=({data:X,wrapLabelFn:lt})=>{const ct=se.useRef(null),O=se.useRef(null);return se.useEffect(()=>{if(!X||X.length===0){O.current&&(O.current.destroy(),O.current=null);return}const H=X.map(dt=>lt(dt.nome_variabile,16)),et=X.map(dt=>dt.punteggio_variabile),nt=X.map(dt=>dt.motivazione_variabile),gt=et.map(dt=>dt>=85?"#0d9488":dt>=65?"#fbbf24":dt>=40?"#ef4444":"#cbd5e1"),pt=et.map(dt=>dt>=85?"#0f766e":dt>=65?"#f59e0b":dt>=40?"#dc2626":"#94a3b8");if(O.current)O.current.data.labels=H,O.current.data.datasets[0].data=et,O.current.data.datasets[0].motivations=nt,O.current.data.datasets[0].backgroundColor=gt,O.current.data.datasets[0].borderColor=pt,O.current.update();else{const dt=ct.current.getContext("2d");O.current=new Ui(dt,{type:"bar",data:{labels:H,datasets:[{label:"Punteggio",data:et,backgroundColor:gt,borderColor:pt,borderWidth:1,motivations:nt}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{tooltip:{callbacks:{title:qt=>qt[0].label.join(" "),label:qt=>`Punteggio: ${qt.parsed.x}`,afterLabel:qt=>`Motivazione: ${qt.dataset.motivations[qt.dataIndex]}`}}},scales:{x:{beginAtZero:!0,max:100,title:{display:!0,text:"Punteggio (0-100)",color:"#475569"},ticks:{color:"#475569"},grid:{color:"#e2e8f0"}},y:{title:{display:!0,text:"Variabile",color:"#475569"},ticks:{color:"#475569"},grid:{color:"#e2e8f0"}}}}})}return()=>{O.current&&(O.current.destroy(),O.current=null)}},[X,lt]),tt.jsx("div",{className:"chart-container",children:tt.jsx("canvas",{ref:ct})})},Bt=({data:X})=>{const lt=se.useRef(null),ct=se.useRef(null);return se.useEffect(()=>{if(!X||X.length===0){ct.current&&(ct.current.destroy(),ct.current=null);return}const O=X.map(pt=>pt.name),H=X.map(pt=>pt.score),et=[],nt=[],gt=X.length;for(let pt=0;pt<gt;pt++)pt===0?(et.push("#34D399"),nt.push("#059669")):pt===1?(et.push("#10B981"),nt.push("#047857")):pt===2?(et.push("#059669"),nt.push("#065F46")):pt>=gt-3&&gt>3?pt===gt-1?(et.push("#B91C1C"),nt.push("#7F1D1D")):pt===gt-2?(et.push("#EF4444"),nt.push("#DC2626")):(et.push("#F87171"),nt.push("#EF4444")):(et.push("#FBBF24"),nt.push("#F59E0B"));if(ct.current)ct.current.data.labels=O,ct.current.data.datasets[0].data=H,ct.current.data.datasets[0].backgroundColor=et,ct.current.data.datasets[0].borderColor=nt,ct.current.update();else{const pt=lt.current.getContext("2d");ct.current=new Ui(pt,{type:"bar",data:{labels:O,datasets:[{label:"Score Finale Regolato",data:H,backgroundColor:et,borderColor:nt,borderWidth:1}]},options:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:dt=>`${dt.label}: ${dt.parsed.x.toFixed(2)}`}}},scales:{x:{beginAtZero:!0,max:100,title:{display:!0,text:"Score Finale Regolato (0-100)",color:"#475569"},ticks:{color:"#475569"},grid:{color:"#e2e8f0"}},y:{title:{display:!0,text:"Pitch Deck",color:"#475569"},ticks:{color:"#475569"},grid:{color:"#e2e8f0"}}}}})}return()=>{ct.current&&(ct.current.destroy(),ct.current=null)}},[X]),tt.jsx("div",{className:"chart-container",children:tt.jsx("canvas",{ref:lt})})},vt=({loadedAllData:X,selectedDocumentId:lt,onDocumentSelect:ct,wrapLabel:O})=>{var qt,Gt,_n,Ke,Hn,_i,yi;const H=X[lt],et=H==null?void 0:H.core_metrics,nt=(et==null?void 0:et.classe_pitch)||"--",gt=et?nt==="Verde"?"bg-class-verde":nt==="Giallo"?"bg-class-giallo":nt==="Rosso"?"bg-class-rosso":"bg-class-default-scorecard":"bg-class-default-scorecard",pt=Xt=>{let ge="score-class-default";return Xt==="Verde"?ge="score-class-verde":Xt==="Giallo"?ge="score-class-giallo":Xt==="Rosso"&&(ge="score-class-rosso"),`score-icon material-icons-outlined ${ge}`},dt=Xt=>{var ge;return(((ge=X[Xt])==null?void 0:ge.document_name)||Xt).split("/").pop()};return tt.jsxs("div",{className:"flex flex-col w-full",children:[tt.jsx("header",{className:"w-full container-padding mb-8 pt-8",children:tt.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between bg-white p-6 rounded-xl shadow-lg border border-slate-200",children:[tt.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4 sm:mb-0",children:"Dashboard Analisi Dettagliata"}),tt.jsxs("div",{className:"flex items-center space-x-4",children:[tt.jsx("label",{htmlFor:"documentSelector",className:"text-slate-700 font-medium",children:"Seleziona Pitch Deck:"}),tt.jsx("select",{id:"documentSelector",className:"px-4 py-2 rounded-lg border border-slate-300 bg-slate-50 text-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent",value:lt,onChange:Xt=>ct(Xt.target.value),disabled:Object.keys(X).length===0,children:Object.keys(X).length===0?tt.jsx("option",{value:"",children:"Nessun Pitch Deck disponibile"}):Object.keys(X).sort((Xt,ge)=>Xt.localeCompare(ge)).map(Xt=>tt.jsx("option",{value:Xt,children:dt(Xt)},Xt))})]})]})}),tt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:tt.jsxs("section",{className:"card lg:col-span-3 mb-8",children:[tt.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-6",children:"Riepilogo Generale del Pitch Deck"}),tt.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[tt.jsxs("div",{className:"scorecard-item",children:[tt.jsx("span",{className:pt(nt),children:"alt_route"}),tt.jsx("div",{className:"scorecard-value",children:et!=null&&et.indice_coerenza?et.indice_coerenza.toFixed(2):"--"}),tt.jsx("div",{className:"scorecard-label",children:"Indice di Coerenza"})]}),tt.jsxs("div",{className:"scorecard-item",children:[tt.jsx("span",{className:pt(nt),children:"analytics"}),tt.jsx("div",{className:"scorecard-value",children:et!=null&&et.final_adjusted_score?et.final_adjusted_score.toFixed(2):"--"}),tt.jsx("div",{className:"scorecard-label",children:"Score Finale Regolato"})]}),tt.jsxs("div",{className:`scorecard-item ${gt}`,children:[tt.jsx("span",{className:pt(nt),children:"emoji_events"}),tt.jsx("div",{className:"scorecard-value",children:nt}),tt.jsx("div",{className:"scorecard-label",children:"Classe Pitch"})]})]}),!et&&tt.jsx("div",{className:"text-center text-slate-500 mt-4",children:"Nessun dato di riepilogo disponibile per questo pitch."})]})}),tt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[tt.jsxs("section",{className:"card lg:col-span-1 flex flex-col",children:[tt.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Punteggi Variabili Valutate"}),tt.jsx("p",{className:"text-slate-600 mb-6",children:"Questo grafico a barre mostra i punteggi (0-100) assegnati a ciascuna delle 7 variabili chiave del pitch deck selezionato. Passa il mouse sulle barre per leggere la motivazione."}),tt.jsx("div",{className:"flex-grow flex items-center justify-center min-h-[300px]",children:((qt=H==null?void 0:H.variables)==null?void 0:qt.length)>0?tt.jsx(k,{data:H.variables,wrapLabelFn:O}):tt.jsx("div",{className:"text-center text-slate-500 mt-4",children:"Nessun dato disponibile per il grafico."})})]}),tt.jsxs("section",{className:"card lg:col-span-1 flex flex-col",children:[tt.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Dettaglio Variabili e Motivazioni"}),tt.jsx("p",{className:"text-slate-600 mb-6",children:"Questa tabella fornisce i punteggi numerici e le motivazioni dettagliate per ogni variabile."}),tt.jsx("div",{className:"overflow-x-auto",children:tt.jsxs("table",{className:"w-full min-w-[500px] bg-white rounded-lg overflow-hidden",children:[tt.jsx("thead",{children:tt.jsxs("tr",{children:[tt.jsx("th",{className:"py-3 px-4 rounded-tl-lg",children:"Variabile"}),tt.jsx("th",{className:"py-3 px-4",children:"Punteggio"}),tt.jsx("th",{className:"py-3 px-4 rounded-tr-lg",children:"Motivazione"})]})}),tt.jsx("tbody",{children:((Gt=H==null?void 0:H.variables)==null?void 0:Gt.length)>0?H.variables.map((Xt,ge)=>tt.jsxs("tr",{className:"text-slate-700",children:[tt.jsx("td",{className:"py-3 px-4",children:Xt.nome_variabile}),tt.jsx("td",{className:"py-3 px-4",children:Xt.punteggio_variabile}),tt.jsx("td",{className:"py-3 px-4",children:Xt.motivazione_variabile})]},ge)):tt.jsx("tr",{children:tt.jsx("td",{colSpan:"3",className:"text-center text-slate-500 py-4",children:"Nessun dato disponibile per la tabella."})})})]})})]}),tt.jsxs("section",{className:"card lg:col-span-2 mt-8",children:[tt.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Analisi Coerenza tra Variabili"}),tt.jsx("p",{className:"text-slate-600 mb-6",children:"Seleziona una coppia di variabili per visualizzarne il punteggio di coerenza e la motivazione dettagliata."}),tt.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-4 mb-4",children:[tt.jsx("label",{htmlFor:"coherencePairSelector",className:"text-slate-700 font-medium mb-2 sm:mb-0",children:"Seleziona Coppia:"}),tt.jsx("select",{id:"coherencePairSelector",className:"px-4 py-2 rounded-lg border border-slate-300 bg-slate-50 text-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent w-full sm:w-auto",onChange:Xt=>{const ge=parseInt(Xt.target.value);if(!isNaN(ge)&&(H!=null&&H.coherence_pairs)){const Dr=H.coherence_pairs[ge];document.getElementById("selectedCoherenceScore").textContent=Dr.punteggio_coppia,document.getElementById("selectedCoherenceMotivation").textContent=Dr.motivazione_coppia}else document.getElementById("selectedCoherenceScore").textContent="--",document.getElementById("selectedCoherenceMotivation").textContent="Nessuna motivazione disponibile."},disabled:!(H!=null&&H.coherence_pairs)||H.coherence_pairs.length===0,children:((_n=H==null?void 0:H.coherence_pairs)==null?void 0:_n.length)>0?H.coherence_pairs.map((Xt,ge)=>tt.jsx("option",{value:ge,children:Xt.nome_coppia},ge)):tt.jsx("option",{value:"",children:"Nessun dato di coerenza disponibile"})})]}),tt.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[tt.jsxs("p",{className:"text-slate-700 font-medium mb-2",children:["Punteggio: ",tt.jsx("span",{id:"selectedCoherenceScore",className:"font-bold",children:((Hn=(Ke=H==null?void 0:H.coherence_pairs)==null?void 0:Ke[0])==null?void 0:Hn.punteggio_coppia)||"--"})]}),tt.jsxs("p",{className:"text-slate-700",children:["Motivazione: ",tt.jsx("span",{id:"selectedCoherenceMotivation",children:((yi=(_i=H==null?void 0:H.coherence_pairs)==null?void 0:_i[0])==null?void 0:yi.motivazione_coppia)||"Nessuna motivazione disponibile."})]})]}),!(H!=null&&H.coherence_pairs)&&tt.jsx("div",{className:"text-center text-slate-500 mt-4",children:"Nessun dato di coerenza disponibile per questo pitch."})]})]})]})},$=({loadedAllData:X,fetchAndRenderRanking:lt})=>{const[ct,O]=se.useState("my");se.useEffect(()=>{lt(ct)},[ct,lt]);const H=Object.values(X).map(et=>{var nt;return{name:(et.document_name||et.document_id||"").split("/").pop(),score:(nt=et.core_metrics)==null?void 0:nt.final_adjusted_score}}).filter(et=>et.score!==void 0);return tt.jsxs("div",{className:"flex flex-col w-full",children:[tt.jsx("header",{className:"w-full container-padding mb-8 pt-8",children:tt.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between bg-white p-6 rounded-xl shadow-lg border border-slate-200",children:[tt.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4 sm:mb-0",children:"Deal Flow: Ranking Pitch per Investitori"}),tt.jsxs("div",{className:"flex space-x-4",children:[tt.jsxs("label",{className:"inline-flex items-center",children:[tt.jsx("input",{type:"radio",name:"pitchFilter",value:"all",checked:ct==="all",onChange:()=>O("all"),className:"form-radio text-teal-600 h-5 w-5"}),tt.jsx("span",{className:"ml-2 text-slate-700 font-medium",children:"Tutti i Pitch"})]}),tt.jsxs("label",{className:"inline-flex items-center",children:[tt.jsx("input",{type:"radio",name:"pitchFilter",value:"my",checked:ct==="my",onChange:()=>O("my"),className:"form-radio text-teal-600 h-5 w-5"}),tt.jsx("span",{className:"ml-2 text-slate-700 font-medium",children:"I Miei Pitch"})]})]})]})}),tt.jsxs("section",{className:"card w-full",children:[tt.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-4",children:"Classifica dei Pitch Deck (Score Finale Regolato)"}),tt.jsx("p",{className:"text-slate-600 mb-6",children:'Questo grafico mostra tutti i pitch deck analizzati, ordinati in base al loro "Score Finale Regolato" in ordine decrescente. I pitch con i punteggi più alti sono in cima, rappresentando le opportunità più promettenti.'}),tt.jsx("div",{className:"flex-grow flex items-center justify-center min-h-[300px]",children:H.length>0?tt.jsx(Bt,{data:H}):tt.jsx("div",{className:"text-center text-slate-500 mt-4",children:"Nessun dato di ranking disponibile."})})]})]})};return tt.jsx(YV.Provider,{value:Z(),children:tt.jsxs("div",{className:"min-h-screen flex flex-col items-center",children:[tt.jsx("header",{className:"w-full bg-white shadow-lg border-b border-slate-200 fixed top-0 z-20",children:tt.jsxs("div",{className:"container-padding mx-auto py-4 flex flex-col sm:flex-row items-center justify-between",children:[tt.jsxs("div",{className:"flex items-center mb-4 sm:mb-0",children:[tt.jsx("img",{src:"https://placehold.co/100x30/111827/F9FAFB?text=VALIDATR%E2%84%A2",alt:"Logo VALIDATR",className:"h-8 mr-3 rounded-md"}),tt.jsx("h1",{className:"text-3xl font-bold text-slate-900 hidden sm:block",children:"VALIDATR™"})]}),tt.jsxs("nav",{className:"flex space-x-6 mb-4 sm:mb-0",children:[tt.jsx("a",{href:"#",onClick:X=>{X.preventDefault(),i("homeDashboard")},className:`text-slate-700 font-medium hover:text-teal-600 focus:outline-none focus:text-teal-600 ${e==="homeDashboard"?"text-teal-600":""}`,children:"Home (Dashboard Dettagliata)"}),tt.jsx("a",{href:"#",onClick:X=>{X.preventDefault(),i("dealFlowDashboard")},className:`text-slate-700 font-medium hover:text-teal-600 focus:outline-none focus:text-teal-600 ${e==="dealFlowDashboard"?"text-teal-600":""}`,children:"Deal Flow (Ranking Investitori)"})]}),n&&tt.jsxs("div",{className:"flex items-center text-slate-700 font-medium",children:[tt.jsxs("button",{onClick:()=>o(!0),className:"mr-4 px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-opacity-50 transition duration-200 flex items-center",children:[tt.jsx("span",{className:"material-icons-outlined text-xl mr-2",children:"cloud_upload"}),"Carica Pitch"]}),tt.jsx("div",{className:"profile-circle mr-3",children:tt.jsx("span",{className:"material-icons-outlined profile-circle-icon",children:"person"})}),"Benvenuto, ",tt.jsx("span",{id:"userEmail",className:"ml-1 font-semibold text-teal-600",children:n.email}),"!",tt.jsx("button",{onClick:M,className:"ml-4 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 transition duration-200",children:"Logout"})]})]})}),_?tt.jsxs("div",{className:"loading-overlay mt-[100px] flex justify-center items-center h-[calc(100vh-100px)]",children:[tt.jsx("div",{className:"spinner"}),tt.jsx("p",{className:"ml-4 text-slate-700 text-lg",children:"Caricamento..."})]}):tt.jsx(tt.Fragment,{children:n?tt.jsxs("main",{className:"w-full container-padding mt-[100px] grid grid-cols-1 gap-8 relative",children:[e==="homeDashboard"&&tt.jsx(vt,{loadedAllData:c,selectedDocumentId:f,onDocumentSelect:g,wrapLabel:P}),e==="dealFlowDashboard"&&tt.jsx($,{loadedAllData:c,fetchAndRenderRanking:w})]}):tt.jsx(L,{currentMode:e==="login"?"login":"register",onLogin:G,onRegister:rt,onShowRegister:()=>i("register"),onShowLogin:()=>i("login"),error:b})}),r&&tt.jsx(V,{onClose:()=>o(!1),onFileUpload:D}),tt.jsx("style",{children:`
          body {
              font-family: 'Roboto', sans-serif; /* Font impostato su Roboto */
              background-color: #f8fafc; /* slate-50 */
              display: flex;
              flex-direction: column;
              align-items: center;
              min-height: 100vh;
              padding-bottom: 2rem; /* Spazio per il piè di pagina */
          }
          .container-padding {
              padding-left: 1rem;
              padding-right: 1rem;
          }
          @media (min-width: 640px) { /* sm */
              .container-padding {
                  padding-left: 2rem;
                  padding-right: 2rem;
              }
          }
          @media (min-width: 1024px) { /* lg */
              .container-padding {
                  padding-left: 4rem;
                  padding-right: 4rem;
              }
          }
          .card {
              background-color: white;
              border-radius: 0.75rem; /* rounded-xl */
              padding: 1.5rem; /* p-6 */
              box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); /* shadow-lg */
              border: 1px solid #e2e8f0; /* slate-200 */
          }
          .chart-container {
              position: relative;
              width: 100%;
              max-width: 900px; /* Larghezza massima per il grafico */
              margin-left: auto;
              margin-right: auto;
              height: 500px; /* Altezza base per un buon numero di barre */
              max-height: 700px; /* Altezza massima */
          }
          @media (max-width: 768px) { /* Adattamento per tablet/mobile */
              .chart-container {
                  height: 400px; /* Riduci altezza per schermi più piccoli */
              }
          }
          .loading-overlay {
              position: absolute;
              top: 0;
              left: 0;
              right: 0;
              bottom: 0;
              background-color: rgba(255, 255, 255, 0.8);
              display: flex;
              justify-content: center;
              align-items: center;
              border-radius: 0.75rem;
              z-index: 10;
          }
          .spinner {
              border: 4px solid #f3f3f3; /* Light grey */
              border-top: 4px solid #0d9488; /* Teal */
              border-radius: 50%;
              width: 40px;
              height: 40px;
              animation: spin 1s linear infinite;
          }
          @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
          }

          /* Stile delle Card Score (per la dashboard dettagliata) */
          .scorecard-item {
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              padding: 1rem;
              background-color: #f8fafc; /* slate-50 */
              border-radius: 0.5rem; /* rounded-lg */
              border: 1px solid #e2e8f0; /* slate-200 */
              transition: background-color 0.3s ease-in-out; /* Transizione fluida per il colore di sfondo */
          }
          .scorecard-value {
              font-size: 2.25rem; /* text-4xl */
              font-weight: 700; /* font-bold */
              color: #1e293b; /* slate-900 */
              margin-bottom: 0.5rem;
          }
          .scorecard-label {
              font-size: 0.875rem; /* text-sm */
              font-weight: 500; /* font-medium */
              color: #475569; /* slate-600 */
              text-align: center;
          }
          /* Aggiorna la classe score-icon per Material Icons */
          .score-icon {
              font-size: 2.5rem; /* text-5xl */
              margin-bottom: 0.5rem;
              font-family: 'Material Icons Outlined'; /* Specifica il font Material Icons */
              font-weight: normal;
              font-style: normal;
              display: inline-block;
              line-height: 1;
              text-transform: none;
              letter-spacing: normal;
              word-wrap: normal;
              white-space: nowrap;
              direction: ltr;
              -webkit-font-smoothing: antialiased;
              text-rendering: optimizeLegibility;
              -moz-osx-font-smoothing: grayscale;
              font-feature-settings: 'liga';
          }
          /* Colori delle icone */
          .score-class-verde { color: #10b981; } /* emerald-500 */
          .score-class-giallo { color: #f59e0b; } /* amber-500 */
          .score-class-rosso { color: #ef4444; } /* red-500 */
          .score-class-default { color: #64748b; } /* slate-500 */

          /* Colori di Sfondo per le Scorecard */
          .bg-class-verde { background-color: #d1fae5; border-color: #10b981; } /* emerald-100, emerald-500 */
          .bg-class-giallo { background-color: #fef3c7; border-color: #f59e0b; } /* amber-100, amber-500 */
          .bg-class-rosso { background-color: #fee2e2; border-color: #ef4444; } /* red-100, red-500 */
          .bg-class-default-scorecard { background-color: #f8fafc; border-color: #e2e8f0; } /* slate-50, slate-200 */

          /* Stile Cerchio Profilo */
          .profile-circle {
              width: 40px;
              height: 40px;
              border-radius: 50%;
              background-color: #10b981; /* teal-500 */
              color: white;
              display: flex;
              align-items: center;
              justify-content: center;
              font-weight: 600;
              font-size: 1.25rem;
              cursor: pointer;
              border: 2px solid #0d9488; /* teal-600 */
              box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          }
          .profile-circle-icon {
              font-size: 1.75rem; /* text-3xl */
          }
        `})]})})};Pw.createRoot(document.getElementById("root")).render(tt.jsx(se.StrictMode,{children:tt.jsx(XV,{})}));
